"use strict";(self.webpackChunk_antv_g6_site=self.webpackChunk_antv_g6_site||[]).push([[2643],{68760:function(n,e,t){t.d(e,{w:function(){return a}});var a=(0,t(58757).createContext)({})},96453:function(n,e,t){t.r(e),t.d(e,{default:function(){return d}});t(58757);var a=t(42784),o=t(68760),r=t(35667);function d(){var n=(0,a.pC)();return(0,r.jsx)(o.w.Provider,{value:{meta:{exampleTopics:[{id:"feature",title:{zh:"5.0 新能力",en:"5.0 Features"},icon:"gallery",examples:[{demos:[{id:"webgl3d",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*31L_T5ERnzIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'sphere-node': Extensions.SphereNode,\n    'cube-node': Extensions.CubeNode,\n  },\n  behaviors: {\n    'orbit-canvas-3d': Extensions.OrbitCanvas3D,\n    'zoom-canvas-3d': Extensions.ZoomCanvas3D,\n  },\n});\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst getDegrees = (data) => {\n  const degrees = {};\n  data.edges.forEach((edge) => {\n    const { source, target } = edge;\n    degrees[source] = degrees[source] || 0;\n    degrees[target] = degrees[target] || 0;\n    degrees[source]++;\n    degrees[target]++;\n  });\n  return degrees;\n};\n\nfetch('https://assets.antv.antgroup.com/g6/eva-3d-data.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const degrees = getDegrees(data);\n    const graph = new ExtGraph({\n      container: 'container',\n      width,\n      height,\n      renderer: 'webgl-3d',\n      modes: {\n        default: ['drag-canvas', 'drag-node', 'zoom-canvas'],\n      },\n      modes: {\n        default: [\n          {\n            type: 'orbit-canvas-3d',\n            trigger: 'drag',\n          },\n          'zoom-canvas-3d',\n        ],\n      },\n      theme: {\n        type: 'spec',\n        base: 'dark',\n        specification: {\n          node: {\n            dataTypeField: 'cluster',\n          },\n        },\n      },\n      edge: (innerModel) => {\n        return {\n          ...innerModel,\n          data: {\n            ...innerModel.data,\n            keyShape: {\n              lineWidth: 0.4,\n              opacity: 0.4,\n              stroke: '#fff',\n            },\n            type: 'line-edge',\n          },\n        };\n      },\n      node: (innerModel) => {\n        const isCube = ['c148', 'c498', 'c41', 'c254'].includes(innerModel.data.cluster);\n        return {\n          ...innerModel,\n          data: {\n            ...innerModel.data,\n            type: isCube ? 'cube-node' : 'sphere-node',\n            keyShape: isCube\n              ? {\n                  width: 400,\n                  height: 400,\n                  depth: 400,\n                }\n              : {\n                  r: 12 + degrees[innerModel.id] / 2,\n                },\n            labelShape:\n              degrees[innerModel.id] > 20\n                ? {\n                    text: innerModel.data.label,\n                    fontSize: 100,\n                    lod: -1,\n                    fill: 'rgba(255,255,255,0.85)',\n                    wordWrap: false,\n                    isBillboard: true,\n                  }\n                : undefined,\n          },\n        };\n      },\n      data,\n    });\n    let frame;\n    graph.on('afterlayout', () => {\n      const camera = graph.canvas.getCamera();\n      let counter = 0;\n      const tick = () => {\n        if (counter < 80) {\n          camera.dolly(4);\n        }\n        camera.rotate(0.4, 0);\n        counter++;\n        frame = requestAnimationFrame(tick);\n        if (counter > 160 && frame) {\n          cancelAnimationFrame(frame);\n        }\n      };\n      tick();\n    });\n    graph.on('pointerdown', (e) => {\n      console.log('frame', frame);\n      if (frame) cancelAnimationFrame(frame);\n    });\n        window.graph = graph;\n  });\n",title:{zh:"3D 图可视化",en:"3D Graph Vis"},filename:"webgl3d.js",isNew:!1},{id:"moreDataWebGL",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Pz31S5UcA8AAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\nimport Stats from 'stats.js';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n  },\n});\n\nconst container = document.getElementById('container');\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = `<span style=\"color: #f00\">正在读取大规模数据，请稍等…… Reading data...</span>`;\ncontainer.appendChild(descriptionDiv);\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  renderer: 'webgl',\n  transforms: [\n    {\n      type: 'transform-v4-data',\n      activeLifecycle: ['read'],\n    },\n  ],\n  modes: {\n    default: [\n      {\n        type: 'zoom-canvas',\n        enableOptimize: false,\n      },\n      {\n        type: 'drag-canvas',\n        enableOptimize: false,\n      },\n      'drag-node',\n      'brush-select',\n    ],\n  },\n  node: {\n    keyShape: {\n      r: 2,\n    },\n  },\n  edge: {\n    keyShape: {\n      opacity: 0.3,\n    },\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/f1565312-d537-4231-adf5-81cb1cd3a0e8.json')\n  .then((res) => res.json())\n  .then((data) => {\n    data.edges.forEach((edge) => (edge.id = `edge-${Math.random()}`));\n    graph.read(data);\n    const nodeLen = data.nodes.length;\n    const edgeLen = data.edges.length;\n    descriptionDiv.innerHTML = `<span style=\"color: #f00\">画布仍在分片加载中… 请等待渲染完成后再交互。Still tiled-rendering... Please do not interact with it now. </span><br/>节点数量 Nodes：${nodeLen}, 边数量 Edges：${edgeLen}, 图元数量 Shapes：${\n      nodeLen + edgeLen\n    }`;\n    graph.on('afterrender', (e) => {\n      descriptionDiv.innerHTML = `<span style=\"color: #6c6\">🎉渲染完成，可以交互啦！Done~ Feel free to interact! </span><br/>节点数量：${nodeLen}, 边数量：${edgeLen}, 图元数量：${\n        nodeLen + edgeLen\n      }`;\n    });\n  });\n\nwindow.graph = graph;\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '50px';\ncontainer.appendChild($stats);\nconst update = () => {\n  if (stats) {\n    stats.update();\n  }\n  requestAnimationFrame(update);\n};\nupdate();\n",title:{zh:"60000+ 图元使用 WebGL 渲染",en:"60000+ Graphic Shapes Rendered by WebGL"},filename:"moreDataWebGL.js",isNew:!1},{id:"lodLevels",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*EtKkRZVxWDAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\nconst ExtGraph = extend(Graph, {\n  transforms: { 'transform-v4-data': Extensions.TransformV4Data },\n  nodes: {\n    'sphere-node': Extensions.SphereNode,\n  },\n  behaviors: {\n    'orbit-canvas-3d': Extensions.OrbitCanvas3D,\n    'zoom-canvas-3d': Extensions.ZoomCanvas3D,\n    'hover-activate': Extensions.HoverActivate,\n    'brush-select': Extensions.BrushSelect,\n  },\n});\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const degrees = {};\n    data.edges.forEach((edge) => {\n      const { source, target } = edge;\n      degrees[source] = degrees[source] || 0;\n      degrees[target] = degrees[target] || 0;\n      degrees[source]++;\n      degrees[target]++;\n    });\n\n    const graph = new ExtGraph({\n      container: 'container',\n      width,\n      height,\n      transforms: [\n        {\n          type: 'transform-v4-data',\n          activeLifecycle: ['read'],\n        },\n      ],\n      layout: {\n        type: 'force',\n        preventOverlap: true,\n        linkDistance: 100,\n      },\n      autoFit: 'view',\n      modes: {\n        default: ['zoom-canvas', 'drag-canvas', 'drag-node', 'brush-select', 'click-select', 'hover-activate'],\n      },\n      theme: {\n        type: 'spec',\n        specification: {\n          node: {\n            dataTypeField: 'cluster',\n          },\n        },\n      },\n      edge: (innerModel) => {\n        return {\n          ...innerModel,\n          data: {\n            ...innerModel.data,\n            keyShape: {\n              lineWidth: 0.5,\n            },\n            haloShape: {},\n            animates: {\n              buildIn: [\n                {\n                  fields: ['opacity'],\n                  shapeId: 'keyShape',\n                  duration: 500,\n                  delay: 1000,\n                },\n              ],\n              buildOut: [\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                },\n              ],\n              update: [\n                {\n                  fields: ['lineWidth'],\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  shapeId: 'haloShape',\n                },\n              ],\n            },\n          },\n        };\n      },\n      node: (innerModel) => {\n        const degree = degrees[innerModel.id] || 0;\n        let labelLod = 4;\n        if (degree > 20) labelLod = -1;\n        else if (degree > 15) labelLod = 0;\n        else if (degree > 10) labelLod = 1;\n        else if (degree > 6) labelLod = 2;\n        else if (degree > 3) labelLod = 3;\n\n        const badgeShapes = {};\n\n        if (degree > 20) {\n          badgeShapes[0] = {\n            text: '核心人员',\n            position: 'rightBottom',\n            lod: labelLod - 2,\n          };\n        }\n        if (degree > 15) {\n          badgeShapes[1] = {\n            text: 'A',\n            position: 'right',\n            lod: labelLod - 1,\n          };\n        }\n        if (degree > 10) {\n          badgeShapes[2] = {\n            text: 'B',\n            position: 'rightTop',\n            lod: labelLod - 1,\n          };\n        }\n\n        return {\n          ...innerModel,\n          data: {\n            ...innerModel.data,\n            lodLevels: [\n              { zoomRange: [0, 0.8] }, // -2\n              { zoomRange: [0.8, 0.9] }, // -1\n              { zoomRange: [0.9, 1], primary: true }, // 0\n              { zoomRange: [1, 1.1] }, // 1\n              { zoomRange: [1.1, 0.2] }, // 2\n              { zoomRange: [1.2, 1.3] }, // 3\n              { zoomRange: [1.3, 1.4] }, // 4\n              { zoomRange: [1.4, 1.5] }, // 5\n              { zoomRange: [1.5, Infinity] }, // 6\n            ],\n\n            animates: {\n              buildIn: [\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  delay: 500 + Math.random() * 500,\n                },\n              ],\n              buildOut: [\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                },\n              ],\n              hide: [\n                {\n                  fields: ['size'],\n                  duration: 200,\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'labelShape',\n                },\n              ],\n              show: [\n                {\n                  fields: ['size'],\n                  duration: 200,\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'keyShape',\n                  order: 0,\n                },\n              ],\n              update: [\n                {\n                  fields: ['fill', 'r'],\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['lineWidth'],\n                  shapeId: 'keyShape',\n                  duration: 100,\n                },\n                {\n                  fields: ['fontSize'],\n                  shapeId: 'iconShape',\n                },\n                {\n                  fields: ['opacity'], // 'r' error, 'lineWidth' has no effect\n                  shapeId: 'haloShape',\n                },\n              ],\n            },\n            haloShape: {},\n            // animate in shapes, unrelated to each other, excuted parallely\n            keyShape: {\n              r: innerModel.data.size ? innerModel.data.size / 2 : 15,\n            },\n            iconShape: {\n              img: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n              fill: '#fff',\n              lod: labelLod - 1,\n              fontSize: innerModel.data.size ? innerModel.data.size / 3 + 5 : 13,\n            },\n            labelShape: {\n              text: innerModel.id,\n              opacity: 0.8,\n              maxWidth: '150%',\n              lod: labelLod,\n            },\n            labelBackgroundShape: {\n              lod: labelLod,\n            },\n            badgeShapes,\n          },\n        };\n      },\n      data,\n    });\n\n    window.graph = graph;\n  });\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nbtnContainer.style.zIndex = 10;\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Zoom Canvas to See Level of Details:';\nbtnContainer.appendChild(tip);\n",title:{zh:"信息分层",en:"Level of Details"},filename:"lodLevels.js",isNew:!1},{id:"itemAnimates",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*uVOySpSIZXkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'a',\n      data: {\n        x: 200,\n        y: 100,\n        cluster: '1',\n      },\n    },\n    {\n      id: 'b',\n      data: {\n        x: 100,\n        y: 200,\n        cluster: '2',\n      },\n    },\n    {\n      id: 'c',\n      data: {\n        x: 300,\n        y: 200,\n        cluster: '3',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'a2b',\n      source: 'a',\n      target: 'b',\n    },\n    {\n      id: 'a2c',\n      source: 'a',\n      target: 'c',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  modes: { default: ['click-select'] },\n  layout: {\n    type: 'grid',\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'cluster',\n      },\n    },\n  },\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    labelBackgroundShape: {},\n    animates: {\n      buildIn: [\n        {\n          fields: ['size', 'opacity'],\n          shapeId: 'group',\n          duration: 500,\n        },\n      ],\n      buildOut: [\n        {\n          fields: ['opacity'],\n          duration: 200,\n        },\n      ],\n      update: [\n        {\n          fields: ['x', 'y'],\n        },\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n          states: ['selected'],\n        },\n        {\n          fields: ['lineWidth', 'fill'],\n          shapeId: 'keyShape',\n          states: ['selected'],\n        },\n      ],\n      show: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 300,\n        },\n      ],\n      hide: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 300,\n        },\n        {\n          fields: ['opacity'],\n          shapeId: 'labelShape',\n          duration: 300,\n        },\n      ],\n    },\n  },\n  edge: {\n    animates: {\n      buildIn: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 500,\n        },\n      ],\n      buildOut: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 200,\n        },\n      ],\n      update: [\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n          states: ['selected'],\n        },\n        {\n          fields: ['lineWidth'],\n          shapeId: 'keyShape',\n          states: ['selected'],\n        },\n      ],\n      show: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 300,\n        },\n      ],\n      hide: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 300,\n        },\n      ],\n    },\n  },\n  data,\n});\n\nconst newNodes = [];\nconst buildInOutActions = {\n  'Add Node(buildin)': () => {\n    const node = graph.addData('node', {\n      id: `node-${Math.random()}`,\n      data: {\n        cluster: Math.random(),\n      },\n    });\n    graph.updateNodePosition([\n      {\n        id: node.id,\n        data: {\n          x: Math.random() * 500,\n          y: Math.random() * 500,\n        },\n      },\n    ]);\n    newNodes.push(node);\n  },\n  'Remove Node(buildout)': () => {\n    if (!newNodes.length) return;\n    graph.removeData('node', newNodes[0].id);\n    newNodes.shift();\n  },\n};\nconst updateActions = {\n  'Update Position(update)': () => {\n    const positions = [];\n    data.nodes.forEach((node) => {\n      const { x, y } = node.data;\n      positions.push({\n        id: node.id,\n        data: {\n          x: x + Math.random() * 50 - 25,\n          y: y + Math.random() * 50 - 25,\n        },\n      });\n      node.x += Math.random() * 50 - 25;\n      node.y += Math.random() * 50 - 25;\n    });\n    graph.updateNodePosition(positions);\n  },\n  'Update Node Color(update)': () => {\n    graph.updateData(\n      'node',\n      graph.getAllNodesData().map((node) => ({\n        id: node.id,\n        data: {\n          cluster: Math.random(),\n        },\n      })),\n    );\n  },\n  'Select/Deselect Node(update)': () => {\n    if (graph.getItemState('a', 'selected')) {\n      graph.setItemState('a', 'selected', false);\n    } else {\n      graph.setItemState('a', 'selected', true);\n    }\n  },\n  'Select/Deselect Edge(update)': () => {\n    if (graph.getItemState('a2b', 'selected')) {\n      graph.setItemState('a2b', 'selected', false);\n    } else {\n      graph.setItemState('a2b', 'selected', true);\n    }\n  },\n};\nconst showHideActions = {\n  'Hide/Show Node(show/hide)': () => {\n    if (graph.getItemVisible('a')) {\n      graph.hideItem('a');\n    } else {\n      graph.showItem('a');\n      graph.showItem('a2b');\n      graph.showItem('a2c');\n    }\n  },\n};\n\nconst viewPortActions = {\n  'Fit View': () => {\n    graph.fitView({}, { duration: 500 });\n  },\n  'Fit Center': () => {\n    graph.fitCenter('render', { duration: 500 });\n  },\n  'Zoom In': () => {\n    const currentZoom = graph.getZoom();\n    graph.zoomTo(currentZoom * 1.1, undefined, { duration: 500 });\n  },\n  'Zoom Out': () => {\n    const currentZoom = graph.getZoom();\n    graph.zoomTo((currentZoom * 1) / 1.1, undefined, { duration: 500 });\n  },\n  Translate: () => {\n    graph.translate({ dx: Math.random() * 200 - 100, dy: Math.random() * 200 - 100 }, { duration: 500 });\n  },\n  '1:1': () => {\n    graph.zoomTo(1, undefined, { duration: 500 });\n  },\n};\n\nconst actions = {\n  'animate.buildIn & animate.buildOut': buildInOutActions,\n  'animate.show & animate.hide': showHideActions,\n  'animate.update': updateActions,\n  'view port': viewPortActions,\n};\n\nconst controllerContainer = document.createElement('div');\ncontrollerContainer.style.position = 'absolute';\ncontainer.appendChild(controllerContainer);\n\nObject.keys(actions).forEach((groupName, i) => {\n  const btnContainer = document.createElement('div');\n  controllerContainer.appendChild(btnContainer);\n  const tip = document.createElement('span');\n  tip.innerHTML = `👉 ${groupName}: `;\n  btnContainer.appendChild(tip);\n  Object.keys(actions[groupName]).forEach((name, i) => {\n    const btn = document.createElement('a');\n    btn.innerHTML = name;\n    btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n    btn.style.padding = '4px';\n    btn.style.marginLeft = i > 0 ? '24px' : '8px';\n    btnContainer.appendChild(btn);\n    btn.addEventListener('click', () => {\n      actions[groupName][name]();\n    });\n  });\n});\n\nwindow.graph = graph;\n",title:{zh:"动画 Spec",en:"Animation Spec"},filename:"itemAnimates.js",isNew:!1},{id:"rendererSwitch",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*NUFVRqAJv6QAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst renderers = {\n  '🐰 Canvas': 'canvas',\n  '🚀 WebGL': 'webgl',\n  '🐢 SVG': 'svg',\n  '⭐️ WebGL-3D': 'webgl-3d',\n};\n\nconst getDefaultNodeAnimates = (delay) => ({\n  update: [\n    {\n      fields: ['lineWidth', 'fill', 'r'],\n      shapeId: 'keyShape',\n    },\n    {\n      fields: ['fontSize'],\n      shapeId: 'iconShape',\n    },\n    {\n      fields: ['opacity'],\n      shapeId: 'haloShape',\n    },\n  ],\n  hide: [\n    {\n      fields: ['opacity'],\n      duration: 200,\n      shapeId: 'labelShape',\n    },\n  ],\n});\n\nconst getDefaultEdgeAnimates = (delay) => ({\n  buildIn: [\n    {\n      fields: ['opacity'],\n      duration: 300,\n      delay: delay === undefined ? 1000 + Math.random() * 1000 : delay,\n    },\n  ],\n  buildOut: [\n    {\n      fields: ['opacity'],\n      duration: 200,\n    },\n  ],\n  update: [\n    {\n      fields: ['lineWidth'],\n      shapeId: 'keyShape',\n    },\n    {\n      fields: ['opacity'],\n      shapeId: 'haloShape',\n    },\n  ],\n});\n\nconst lodLevels = [\n  { zoomRange: [0, 0.16] }, // -4\n  { zoomRange: [0.16, 0.2] }, // -3\n  { zoomRange: [0.2, 0.3] }, // -2\n  { zoomRange: [0.3, 0.5] }, // -1\n  { zoomRange: [0.5, 0.8], primary: true }, // 0\n  { zoomRange: [0.8, 1.5] }, // 1\n  { zoomRange: [1.5, 2.5] }, // 2\n  { zoomRange: [2.5, 5] }, // 3\n  { zoomRange: [5, Infinity] }, // 4\n];\n\nconst defaultTheme = {\n  type: 'spec',\n  base: 'light',\n  specification: {\n    node: {\n      dataTypeField: 'cluster',\n    },\n  },\n};\n\nconst dataFormat = (dataAUR, options = {}, graphCore) => {\n  const { dataAdded, dataUpdated, dataRemoved } = dataAUR;\n  return {\n    dataAdded: dataFormatHandler(dataAdded, options, graphCore),\n    dataUpdated: dataFormatHandler(dataUpdated, options, graphCore),\n    dataRemoved,\n  };\n};\n\nconst dataFormatHandler = (data, options = {}, graphCore) => {\n  if (!data.nodes || !data.edges) return {};\n  const map = new Map();\n  const nodes = [];\n  data.nodes?.forEach((node) => {\n    if (map.has(node.id)) return;\n    nodes.push(node);\n    map.set(node.id, 0);\n  });\n  data.edges?.forEach((edge) => {\n    const sourceDegree = map.get(edge.source) || 0;\n    map.set(edge.source, sourceDegree + 1);\n    const targetDegree = map.get(edge.target) || 0;\n    map.set(edge.target, targetDegree + 1);\n  });\n  return {\n    nodes: nodes.map((node) => {\n      const { id, x, y, z, olabel, data } = node;\n      return {\n        id,\n        data: {\n          x,\n          y,\n          z,\n          label: olabel,\n          ...data,\n          degree: map.get(id),\n        },\n      };\n    }),\n    edges:\n      data.edges?.map((edge) => ({\n        id: `edge-${Math.random()}`,\n        source: edge.source,\n        target: edge.target,\n      })) || [],\n  };\n};\n\nconst create3DGraph = async (data) => {\n  return new ExtGraph({\n    container,\n    width,\n    height,\n    renderer: 'webgl-3d',\n    transforms: [\n      'data-format',\n      {\n        type: 'map-node-size',\n        field: 'degree',\n        range: [40, 200],\n      },\n    ],\n    data,\n    modes: {\n      default: [\n        {\n          type: 'orbit-canvas-3d',\n          trigger: 'drag',\n        },\n        'zoom-canvas-3d',\n      ],\n    },\n    theme: {\n      type: 'spec',\n      base: 'dark',\n      specification: {\n        node: {\n          dataTypeField: 'cluster',\n        },\n      },\n    },\n    edge: (innerModel) => {\n      return {\n        ...innerModel,\n        data: {\n          ...innerModel.data,\n          keyShape: {\n            lineWidth: 0.6,\n            opacity: 0.6,\n            stroke: '#fff',\n          },\n          type: 'line-edge',\n        },\n      };\n    },\n    node: (innerModel) => {\n      const { degree = 1 } = innerModel.data;\n      return {\n        ...innerModel,\n        data: {\n          ...innerModel.data,\n          type: 'sphere-node',\n          labelShape:\n            degree > 20\n              ? {\n                  text: innerModel.data.label,\n                  fontSize: 100,\n                  lod: -1,\n                  fill: 'rgba(255,255,255,0.85)',\n                  wordWrap: false, // FIXME: mesh.getBounds() returns an empty AABB\n                  isBillboard: true,\n                }\n              : undefined,\n        },\n      };\n    },\n  });\n};\n\nconst create2DGraph = (renderer, data) => {\n  return new ExtGraph({\n    container,\n    width,\n    height,\n    renderer,\n    autoFit: 'view',\n    transforms: [\n      'data-format',\n      {\n        type: 'map-node-size',\n        field: 'degree',\n        range: [3, 24],\n      },\n    ],\n    modes: {\n      default: [\n        { type: 'zoom-canvas', key: '123', triggerOnItems: true },\n        'drag-node',\n        'drag-canvas',\n        'brush-select',\n        'click-select',\n      ],\n    },\n    theme: { ...defaultTheme },\n    edge: (innerModel) => {\n      return {\n        ...innerModel,\n        data: {\n          ...innerModel.data,\n          type: 'line-edge',\n          animates: getDefaultEdgeAnimates(),\n          keyShape: {\n            lineWidth: 0.3,\n            opacity: 0.5,\n          },\n        },\n      };\n    },\n    // 节点配置\n    node: (innerModel) => {\n      const { degree } = innerModel.data;\n      let iconLod = 4;\n      if (degree > 40) iconLod = -2;\n      else if (degree > 20) iconLod = 0;\n      else if (degree > 10) iconLod = 1;\n      else if (degree > 5) iconLod = 2;\n      else if (degree > 2) iconLod = 3;\n      return {\n        ...innerModel,\n        data: {\n          lodLevels,\n          animates: getDefaultNodeAnimates(),\n          ...innerModel.data,\n          labelShape:\n            degree !== 0\n              ? {\n                  text: innerModel.data.label,\n                  maxWidth: '400%',\n                  offsetY: 8,\n                  lod: 'auto',\n                }\n              : undefined,\n\n          labelBackgroundShape:\n            degree !== 0\n              ? {\n                  lod: 'auto',\n                }\n              : undefined,\n          iconShape:\n            degree !== 0\n              ? {\n                  img: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7g4nSbYrg6cAAAAAAAAAAAAADmJ7AQ/original',\n                  fontSize: innerModel.data.keyShape?.r || 12,\n                  opacity: 0.8,\n                  lod: iconLod,\n                }\n              : undefined,\n        },\n      };\n    },\n    nodeState: {\n      selected: {\n        keyShape: {\n          lineWidth: 1,\n        },\n        haloShape: {\n          lineWidth: 4,\n        },\n      },\n    },\n    edgeState: {\n      selected: {\n        keyShape: {\n          lineWidth: 2,\n        },\n        haloShape: {\n          lineWidth: 4,\n        },\n      },\n    },\n    data,\n  });\n};\n\nlet currGraph = null;\nconst handleCreateGraph = (renderer, data, tip) => {\n  const func = async () => {\n    let graph;\n    if (renderer === 'webgl-3d') {\n      graph = await create3DGraph(data);\n    } else {\n      graph = await create2DGraph(renderer, data);\n    }\n    graph.on('afterrender', (e) => {\n      tip.innerHTML = '👌 Done!';\n    });\n    currGraph = window.graph = graph;\n  };\n  if (currGraph) currGraph.destroy(func);\n  else func();\n};\n\nconst ExtGraph = extend(Graph, {\n  transforms: {\n    'data-format': dataFormat,\n  },\n  nodes: {\n    'sphere-node': Extensions.SphereNode,\n  },\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n    'orbit-canvas-3d': Extensions.OrbitCanvas3D,\n    'zoom-canvas-3d': Extensions.ZoomCanvas3D,\n  },\n});\n\nlet graphData3D;\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\nbtnContainer.style.zIndex = 10;\ncontainer.appendChild(btnContainer);\nconst tip2 = document.createElement('span');\ntip2.innerHTML = '🌊 Fetching data....';\nbtnContainer.appendChild(tip2);\nconst tip = document.createElement('span');\ntip.innerHTML = '<br />👉 Change Renderer:';\nbtnContainer.appendChild(tip);\n\nfetch('https://assets.antv.antgroup.com/g6/eva-2d.json')\n  .then((res) => res.json())\n  .then((data) => {\n    tip2.innerHTML = '🎨 Rendering....';\n    Object.keys(renderers).forEach((name, i) => {\n      const btn = document.createElement('a');\n      btn.innerHTML = name;\n      btn.style.padding = '4px';\n      btn.style.marginLeft = i > 0 ? '24px' : '8px';\n      if (renderers[name] === 'webgl') {\n        btn.style.backgroundColor = 'rgba(135, 59, 244, 0.2)';\n        btn.style.fontWeight = 700;\n      } else {\n        btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n      }\n      btnContainer.appendChild(btn);\n      btn.addEventListener('click', () => {\n        btnContainer.childNodes.forEach((child) => {\n          child.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n          child.style.fontWeight = 400;\n        });\n        btn.style.backgroundColor = 'rgba(135, 59, 244, 0.2)';\n        btn.style.fontWeight = 700;\n        tip2.innerHTML = '🎨 Rendering....';\n        if (renderers[name] === 'webgl-3d') {\n          if (!graphData3D) {\n            fetch('https://assets.antv.antgroup.com/g6/eva-3d.json')\n              .then((res) => res.json())\n              .then((data3d) => {\n                graphData3D = data3d;\n                handleCreateGraph(renderers[name], graphData3D, tip2);\n              });\n          } else {\n            handleCreateGraph(renderers[name], graphData3D, tip2);\n          }\n        } else {\n          handleCreateGraph(renderers[name], data, tip2);\n        }\n      });\n    });\n\n    handleCreateGraph('webgl', data, tip2);\n  });\n",title:{zh:"渲染器运行时切换",en:"Renderer Switch"},filename:"rendererSwitch.js",isNew:!1},{id:"themeSwitch",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*jCYaT7L2E7sAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: '0', data: { cluster: 'a' } },\n    { id: '1', data: { cluster: 'a' } },\n    { id: '2', data: { cluster: 'a' } },\n    { id: '3', data: { cluster: 'a' } },\n    { id: '4', data: { cluster: 'a' } },\n    { id: '5', data: { cluster: 'a' } },\n    { id: '6', data: { cluster: 'a' } },\n    { id: '7', data: { cluster: 'a' } },\n    { id: '8', data: { cluster: 'a' } },\n    { id: '9', data: { cluster: 'a' } },\n    { id: '10', data: { cluster: 'a' } },\n    { id: '11', data: { cluster: 'a' } },\n    { id: '12', data: { cluster: 'a' } },\n    { id: '13', data: { cluster: 'b' } },\n    { id: '14', data: { cluster: 'b' } },\n    { id: '15', data: { cluster: 'b' } },\n    { id: '16', data: { cluster: 'b' } },\n    { id: '17', data: { cluster: 'b' } },\n    { id: '18', data: { cluster: 'c' } },\n    { id: '19', data: { cluster: 'c' } },\n    { id: '20', data: { cluster: 'c' } },\n    { id: '21', data: { cluster: 'c' } },\n    { id: '22', data: { cluster: 'c' } },\n    { id: '23', data: { cluster: 'c' } },\n    { id: '24', data: { cluster: 'c' } },\n    { id: '25', data: { cluster: 'c' } },\n    { id: '26', data: { cluster: 'c' } },\n    { id: '27', data: { cluster: 'c' } },\n    { id: '28', data: { cluster: 'c' } },\n    { id: '29', data: { cluster: 'c' } },\n    { id: '30', data: { cluster: 'c' } },\n    { id: '31', data: { cluster: 'd' } },\n    { id: '32', data: { cluster: 'd' } },\n    { id: '33', data: { cluster: 'd' } },\n  ],\n  edges: [\n    { source: '0', target: '1' },\n    { source: '0', target: '2' },\n    { source: '0', target: '3' },\n    { source: '0', target: '4' },\n    { source: '0', target: '5' },\n    { source: '0', target: '7' },\n    { source: '0', target: '8' },\n    { source: '0', target: '9' },\n    { source: '0', target: '10' },\n    { source: '0', target: '11' },\n    { source: '0', target: '13' },\n    { source: '0', target: '14' },\n    { source: '0', target: '15' },\n    { source: '0', target: '16' },\n    { source: '2', target: '3' },\n    { source: '4', target: '5' },\n    { source: '4', target: '6' },\n    { source: '5', target: '6' },\n    { source: '7', target: '13' },\n    { source: '8', target: '14' },\n    { source: '9', target: '10' },\n    { source: '10', target: '22' },\n    { source: '10', target: '14' },\n    { source: '10', target: '12' },\n    { source: '10', target: '24' },\n    { source: '10', target: '21' },\n    { source: '10', target: '20' },\n    { source: '11', target: '24' },\n    { source: '11', target: '22' },\n    { source: '11', target: '14' },\n    { source: '12', target: '13' },\n    { source: '16', target: '17' },\n    { source: '16', target: '18' },\n    { source: '16', target: '21' },\n    { source: '16', target: '22' },\n    { source: '17', target: '18' },\n    { source: '17', target: '20' },\n    { source: '18', target: '19' },\n    { source: '19', target: '20' },\n    { source: '19', target: '33' },\n    { source: '19', target: '22' },\n    { source: '19', target: '23' },\n    { source: '20', target: '21' },\n    { source: '21', target: '22' },\n    { source: '22', target: '24' },\n    { source: '22', target: '25' },\n    { source: '22', target: '26' },\n    { source: '22', target: '23' },\n    { source: '22', target: '28' },\n    { source: '22', target: '30' },\n    { source: '22', target: '31' },\n    { source: '22', target: '32' },\n    { source: '22', target: '33' },\n    { source: '23', target: '28' },\n    { source: '23', target: '27' },\n    { source: '23', target: '29' },\n    { source: '23', target: '30' },\n    { source: '23', target: '31' },\n    { source: '23', target: '33' },\n    { source: '32', target: '33' },\n  ],\n};\n\nconst themes = {\n  '🌞 Light': {\n    background: '#fff',\n    theme: 'light',\n    node: {\n      palette: {\n        type: 'group',\n        field: 'cluster',\n        color: 'antv',\n      },\n    },\n  },\n  '🌚 Dark': {\n    background: '#000',\n    theme: 'dark',\n    node: {\n      palette: {\n        type: 'group',\n        field: 'cluster',\n        color: 'antv',\n      },\n    },\n  },\n  '🌎 Blue': {\n    background: '#f3faff',\n    theme: 'light',\n    node: {\n      palette: {\n        type: 'group',\n        field: 'cluster',\n        color: 'blues',\n        invert: true,\n      },\n    },\n  },\n  '🌕 yellow': {\n    background: '#fcf9f1',\n    theme: 'light',\n    node: {\n      palette: {\n        type: 'group',\n        field: 'cluster',\n        color: ['#ffe7ba', '#ffd591', '#ffc069', '#ffa940', '#fa8c16', '#d46b08', '#ad4e00', '#873800', '#612500'],\n      },\n    },\n  },\n};\n\nconst graph = new Graph({\n  container: 'container',\n  autoFit: 'view',\n  background: '#fff',\n  theme: 'light',\n  data,\n  node: {\n    palette: {\n      type: 'group',\n      field: 'cluster',\n      color: 'antv',\n    },\n  },\n  layout: {\n    type: 'circular',\n  },\n});\n\ngraph.render();\n\nconst container = document.getElementById('container')!;\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\nbtnContainer.style.zIndex = '10';\ncontainer.appendChild(btnContainer);\nconst tip2 = document.createElement('span');\ntip2.innerHTML = '🌊 Fetching data....';\nbtnContainer.appendChild(tip2);\nconst tip = document.createElement('span');\ntip.innerHTML = '<br />👉 Change Theme:';\nbtnContainer.appendChild(tip);\n\nObject.keys(themes).forEach((name, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = name;\n  btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', () => {\n    graph.setOptions(themes[name]);\n    graph.render();\n  });\n});\n",title:{zh:"主题切换",en:"Theme Switch"},filename:"themeSwitch.ts",isNew:!1},{id:"treeAndGraph",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SAkASow3N60AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  transforms: { 'transform-v4-data': Extensions.TransformV4Data },\n  edges: {\n    'cubic-horizontal-edge': Extensions.CubicHorizontalEdge,\n    'cubic-vertical-edge': Extensions.CubicVerticalEdge,\n  },\n  behaviors: {\n    'activate-relations': Extensions.ActivateRelations,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst graph = new ExtGraph({\n  container,\n  width,\n  height,\n  transforms: [\n    {\n      type: 'transform-v4-data',\n      activeLifecycle: ['read'],\n    },\n  ],\n  modes: {\n    default: ['drag-canvas', 'zoom-canvas', 'drag-node', 'collapse-expand-tree', 'click-select'],\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'cluster',\n      },\n    },\n  },\n  node: (model) => {\n    return {\n      id: model.id,\n      data: {\n        ...model.data,\n        type: 'rect-node',\n        // lodLevels: [],\n        keyShape: {\n          width: 50,\n          height: 20,\n        },\n        labelShape: {\n          text: model.id,\n          position: 'bottom',\n          maxWidth: '120%',\n          lod: Math.floor(Math.random() * 5 - 3),\n          fontSize: 8,\n        },\n        labelBackgroundShape: {},\n        anchorPoints:\n          model.data.layoutDirection === 'TB'\n            ? [\n                [0.5, 0],\n                [0.5, 1],\n              ]\n            : [\n                [0, 0.5],\n                [1, 0.5],\n              ],\n        animates: {\n          update: [\n            {\n              fields: ['x', 'y'],\n              duration: 500,\n              shapeId: 'group',\n              order: 0,\n            },\n            {\n              fields: ['opacity'],\n              duration: 500,\n              shapeId: 'keyShape',\n              order: 1,\n            },\n            {\n              fields: ['opacity'],\n              states: ['active', 'selected'],\n              duration: 500,\n              shapeId: 'haloShape',\n            },\n          ],\n        },\n      },\n    };\n  },\n  edge: {\n    type: 'cubic-horizontal-edge',\n    keyShape: {\n      opacity: 0.5,\n      endArrow: true,\n    },\n  },\n  layout: {\n    type: 'compactBox',\n    getHeight() {\n      return 20;\n    },\n    getWidth() {\n      return 50;\n    },\n    getVGap() {\n      return 10;\n    },\n    getHGap() {\n      return 30;\n    },\n  },\n  edgeState: {\n    active: {\n      lineWidth: 3,\n    },\n  },\n});\n\nconst dataConfigs = {\n  'Graph Data': () => {\n    fetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n      .then((res) => res.json())\n      .then((data) => {\n        data.nodes.forEach((node, i) => (node.cluster = i % 3));\n        graph.once('afterlayout', (e) => {\n          graph.fitCenter();\n        });\n        graph.changeData({\n          type: 'graphData',\n          value: data,\n        });\n      });\n  },\n  'Tree Data': (isFirst) => {\n    fetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n      .then((res) => res.json())\n      .then((data) => {\n        graph.once('afterlayout', (e) => {\n          graph.fitCenter();\n        });\n        if (isFirst) {\n          graph.read({\n            type: 'treeData',\n            value: data,\n          });\n        } else {\n          graph.changeData({\n            type: 'treeData',\n            value: data,\n          });\n        }\n      });\n  },\n};\n\ndataConfigs['Tree Data'](true);\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Change Data:';\nbtnContainer.appendChild(tip);\n\nObject.keys(dataConfigs).forEach((name, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = name;\n  btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', () => {\n    dataConfigs[name]();\n  });\n});\n\nwindow.graph = graph;",title:{zh:"树与图通用",en:"Tree Data and Graph Data"},filename:"treeAndGraph.js",isNew:!1},{id:"wasmLayouts",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4_4oRaN8hLcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\nimport { supportsThreads, initThreads, ForceLayout, FruchtermanLayout, ForceAtlas2Layout } from '@antv/layout-wasm';\n\n// WASM layout is not built-in G6 stbLib, you need to extend G6 with it.\nconst ExtGraph = extend(Graph, {\n  transforms: { 'transform-v4-data': Extensions.TransformV4Data },\n  layouts: {\n    'force-wasm': ForceLayout,\n    'forceAtlas2-wasm': ForceAtlas2Layout,\n    'fruchterman-wasm': FruchtermanLayout,\n  },\n  behaviors: {\n    'hover-activate': Extensions.HoverActivate,\n  },\n});\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst descriptionDiv = document.createElement('div');\ncontainer.appendChild(descriptionDiv);\n\nlet timer;\nconst beginTimer = () => {\n  const begin = performance.now();\n  timer = setInterval(() => {\n    descriptionDiv.innerHTML = `节点数量：1589, 边数量：2742 <br /> ⏰ Computing Time: ${Math.floor(\n      performance.now() - begin,\n    )}ms`;\n  }, 10);\n};\nbeginTimer();\n\nlet graph;\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/da5a1b47-37d6-44d7-8d10-f3e046dabf82.json') //'https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json'\n  .then((res) => res.json())\n  .then(async (data) => {\n    const supported = await supportsThreads();\n    const threads = await initThreads(supported);\n\n    const layoutConfigs = {\n      'force-wasm': {\n        type: 'force-wasm',\n        threads,\n        dimensions: 2,\n        maxIteration: 130,\n        minMovement: 0.4,\n        distanceThresholdMode: 'mean',\n        height,\n        width,\n        center: [width / 2, height / 2],\n        factor: 1,\n        gravity: 10,\n        linkDistance: 200,\n        edgeStrength: 200,\n        nodeStrength: 1000,\n        coulombDisScale: 0.005,\n        damping: 0.9,\n        maxSpeed: 1000,\n        interval: 0.02,\n      },\n      'forceAtals2-wasm': {\n        type: 'forceAtlas2-wasm',\n        threads,\n        dimensions: 2,\n        maxIteration: 100,\n        minMovement: 0.4,\n        distanceThresholdMode: 'mean',\n        height,\n        width,\n        center: [width / 2, height / 2],\n        kg: 5,\n        kr: 10,\n        ks: 0.1,\n      },\n      'fruchterman-wasm': {\n        type: 'fruchterman-wasm',\n        threads,\n        dimensions: 2,\n        maxIteration: 1000,\n        minMovement: 0.4,\n        distanceThresholdMode: 'mean',\n        height,\n        width,\n        gravity: 1,\n        speed: 5,\n      },\n    };\n\n    // remove positions in data to avoid the affecting\n    data.nodes.forEach((node) => {\n      delete node.x;\n      delete node.y;\n    });\n\n    graph = new ExtGraph({\n      container: 'container',\n      width,\n      height,\n      renderer: 'webgl',\n      transforms: [\n        {\n          type: 'transform-v4-data',\n          activeLifecycle: ['read'],\n        },\n      ],\n      layout: layoutConfigs['force-wasm'],\n      autoFit: 'view',\n      modes: {\n        default: ['zoom-canvas', 'drag-canvas', 'drag-node', 'brush-select', 'click-select', 'hover-activate'],\n      },\n      data,\n    });\n    graph.on('afterlayout', (e) => {\n      clearTimeout(timer);\n    });\n\n    const btnContainer = document.createElement('div');\n    btnContainer.style.position = 'absolute';\n    container.appendChild(btnContainer);\n    const tip = document.createElement('span');\n    tip.innerHTML = '👉 Change Layout:';\n    btnContainer.appendChild(tip);\n\n    Object.keys(layoutConfigs).forEach((name, i) => {\n      const btn = document.createElement('a');\n      btn.innerHTML = name;\n      btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n      btn.style.padding = '4px';\n      btn.style.marginLeft = i > 0 ? '24px' : '8px';\n      btnContainer.appendChild(btn);\n      btn.addEventListener('click', () => {\n        beginTimer();\n        graph.layout(layoutConfigs[name]);\n      });\n    });\n  });\n\nwindow.graph = graph;\n",title:{zh:"WASM 布局",en:"WASM Layout"},filename:"wasmLayouts.js",isNew:!1},{id:"layerTopology",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1oQsT7cSyYUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'sphere-node': Extensions.SphereNode,\n    'plane-node': Extensions.PlaneNode,\n  },\n  behaviors: {\n    'orbit-canvas-3d': Extensions.OrbitCanvas3D,\n    'zoom-canvas-3d': Extensions.ZoomCanvas3D,\n  },\n});\n\nconst colors = ['rgb(240, 134, 82)', 'rgb(30, 160, 230)', 'rgb(122, 225, 116)'];\nconst sphereR = 15;\n\nconst planeGroup = Array.from({ length: 3 }).map((_, i) => ({\n  id: `plane-${i}`,\n  data: {\n    type: 'plane-node',\n    x: 0,\n    y: -300 + 300 * i + sphereR,\n    z: 0,\n    layer: i + 1,\n  },\n}));\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nfetch('https://assets.antv.antgroup.com/g6/3-layer-top.json')\n  .then((res) => res.json())\n  .then((result) => {\n    const nodes = result.nodes\n      .map(({ name, pos, layer }) => ({\n        id: name,\n        data: {\n          type: 'sphere-node',\n          ...pos,\n          layer,\n        },\n      }))\n      .concat(planeGroup);\n\n    const edges = result.edges.map((edge, index) => ({ id: `edge-${index}`, ...edge }));\n\n    const graph = new ExtGraph({\n      container,\n      width,\n      height,\n      renderer: 'webgl-3d',\n      modes: {\n        default: [\n          {\n            type: 'orbit-canvas-3d',\n            trigger: 'drag',\n          },\n          'zoom-canvas-3d',\n        ],\n      },\n      theme: {\n        type: 'spec',\n        base: 'dark',\n      },\n      data: { nodes, edges },\n      node: {\n        keyShape: {\n          fill: { fields: ['layer'], formatter: (model) => colors[model.data.layer - 1] },\n          r: sphereR,\n          width: {\n            fields: ['type'],\n            formatter: (model) => (model.data.type === 'plane-node' ? 10000 : 0),\n          },\n          depth: {\n            fields: ['type'],\n            formatter: (model) => (model.data.type === 'plane-node' ? 10000 : 0),\n          },\n          materialProps: {\n            fields: ['type'],\n            formatter: (model) =>\n              model.data.type === 'plane-node'\n                ? {\n                    wireframe: true,\n                    cullMode: 0,\n                    wireframeColor: '#797979',\n                  }\n                : undefined,\n          },\n        },\n      },\n      edge: {\n        keyShape: {\n          lineWidth: 2,\n          stroke: '#f6e432', // 边主图形描边颜色\n        },\n      },\n    });\n\n    graph.on('afterrender', () => {\n      const canvas = graph.canvas;\n      const camera = canvas.getCamera();\n      camera.createLandmark('reset', {\n        position: [0, -400, 2000],\n        focalPoint: [0, 0, 0],\n        zoom: 1,\n      });\n      camera.gotoLandmark('reset', {\n        duration: 1000,\n        easing: 'ease-in',\n        onfinish: () => {\n          canvas.addEventListener('afterrender', () => {\n            graph.canvas.getRoot().rotate(0, 0.3, 0);\n          });\n        },\n      });\n    });\n\n    window.graph = graph;\n  });\n",title:{zh:"三层拓扑模型",en:"Three Layers Topology Model"},filename:"layerTopology.js",isNew:!1},{id:"tournament",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*PAaNQLJaZMQAAAAAAAAAAAAADmJ7AQ/original",source:"import { extend, Extensions, Graph } from '@antv/g6';\n\nconst STATE = {\n  INIT: 0,\n  PLAYING: 1,\n  WIN: 2,\n  LOST: 3,\n};\n\nclass TournamentNode extends Extensions.RectNode {\n  afterDraw(model, shapeMap, diffData, diffState) {\n    const { data: cfg, id } = model;\n    const afterShapes = {};\n    const drawShape = (shapeType, shapeId, shapeCfg) => {\n      afterShapes[shapeId] = this.upsertShape(shapeType, shapeId, shapeCfg, { model, shapeMap, diffData, diffState });\n      return afterShapes[shapeId];\n    };\n    // 奖杯\n    if (id === 'winner') {\n      drawShape('text', 'winner-shape', {\n        text: '🏆',\n        x: 0,\n        y: -50,\n        fontSize: 50,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      });\n    }\n    // 名称\n    if (cfg.name) {\n      drawShape('text', 'name-text-shape', {\n        text: cfg.name,\n        x: 0,\n        y: 0,\n        fontSize: 12,\n        textAlign: id === 'winner' ? 'center' : 'right',\n        textBaseline: 'middle',\n        fill: 'white',\n      });\n    }\n    // 得分\n    if (cfg.score) {\n      drawShape('text', 'score-text-shape', {\n        text: `${cfg.score}`,\n        x: 40,\n        y: 0,\n        fontSize: 12,\n        textAlign: 'right',\n        textBaseline: 'middle',\n        fill: 'black',\n      });\n    }\n    // lost tag\n    if (cfg.state === STATE.LOST) {\n      const lostShape = drawShape('text', 'lost-text-shape', {\n        text: 'LOST',\n        x: 50,\n        y: 0,\n        fontSize: 14,\n        fontWeight: 700,\n        textAlign: 'right',\n        textBaseline: 'middle',\n        fill: 'white',\n      });\n      lostShape.rotate(-45);\n      // 输方的shape设置灰度\n      Object.keys(shapeMap).forEach((key) => {\n        const shape = shapeMap[key];\n        shape.style.filter = 'grayscale(1)';\n      });\n      Object.keys(afterShapes).forEach((key) => {\n        const shape = afterShapes[key];\n        shape.style.filter = 'grayscale(1)';\n      });\n    }\n    // win tag\n    if (cfg.state === STATE.WIN) {\n      const winShape = drawShape('text', 'win-text-shape', {\n        text: 'WIN',\n        x: 50,\n        y: 0,\n        fontSize: 14,\n        fontWeight: 700,\n        textAlign: 'right',\n        textBaseline: 'middle',\n        fill: 'yellow',\n      });\n      winShape.rotate(-45);\n    }\n    return afterShapes;\n  }\n}\n\nclass TournamentEdge extends Extensions.PolylineEdge {\n  drawKeyShape(model, sourcePoint, targetPoint, shapeMap, diffData, diffState) {\n    const shape = super.drawKeyShape(model, sourcePoint, targetPoint, shapeMap, diffData, diffState);\n    const mid = shape.getPoint(0.6);\n    shape.style.path = [\n      ['M', targetPoint.x, targetPoint.y],\n      ['L', mid.x, targetPoint.y],\n      ['L', mid.x, sourcePoint.y],\n      ['L', sourcePoint.x, sourcePoint.y],\n    ];\n    return shape;\n  }\n\n  getPath(model, points) {\n    return [\n      ['M', points[1].x, points[1].y],\n      ['L', points[0].x, points[0].y],\n    ];\n  }\n\n  afterDraw(model, shapeMap) {\n    const { data: cfg } = model;\n    const keyShape = shapeMap.keyShape;\n    const afterShape = {};\n    // 虚线流动动画\n    if (cfg.state === STATE.PLAYING) {\n      keyShape.style.lineDash = [10, 10];\n      keyShape.animate([{ lineDashOffset: 20 }, { lineDashOffset: 0 }], {\n        duration: 500,\n        iterations: Infinity,\n      });\n    } else if (cfg.state === STATE.WIN) {\n      keyShape.style.stroke = '#53cdd5';\n      keyShape.style.lineWidth = 3;\n    }\n    return afterShape;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'tournament-node': TournamentNode,\n  },\n  edges: {\n    'tournament-edge': TournamentEdge,\n  },\n});\nconst data = {\n  id: 'winner',\n  data: { layer: 4 },\n  children: [\n    {\n      id: 'layer3-1',\n      data: { layer: 3 },\n      children: [\n        {\n          id: 'layer2-1',\n          data: { layer: 2 },\n          children: [\n            { id: 'layer1-1', data: { layer: 1 } },\n            { id: 'layer1-2', data: { layer: 1 } },\n          ],\n        },\n        {\n          id: 'layer2-2',\n          data: { layer: 2 },\n          children: [\n            { id: 'layer1-3', data: { layer: 1 } },\n            { id: 'layer1-4', data: { layer: 1 } },\n          ],\n        },\n      ],\n    },\n    {\n      id: 'layer3-2',\n      data: { layer: 3 },\n      children: [\n        {\n          id: 'layer2-3',\n          data: { layer: 2 },\n          children: [\n            { id: 'layer1-5', data: { layer: 1 } },\n            { id: 'layer1-6', data: { layer: 1 } },\n          ],\n        },\n        {\n          id: 'layer2-4',\n          data: { layer: 2 },\n          children: [\n            { id: 'layer1-7', data: { layer: 1 } },\n            { id: 'layer1-8', data: { layer: 1 } },\n          ],\n        },\n      ],\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.offsetWidth;\nconst height = container.offsetHeight;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['drag-canvas', 'zoom-canvas'],\n  },\n  theme: {\n    type: 'spec',\n    base: 'dark',\n  },\n  node: {\n    type: 'tournament-node',\n    width: 200,\n    keyShape: {\n      width: 100,\n      radius: 10,\n      fill: '#5c9eb9',\n    },\n    anchorPoints: [\n      [0.5, 0.5],\n      [1, 0.5],\n    ],\n  },\n  edge: {\n    type: 'tournament-edge',\n    controlPoints: true,\n    sourceAnchor: 0,\n    targetAnchor: 1,\n  },\n  layout: {\n    type: 'compactBox',\n    direction: 'RL',\n    getId: function getId(d) {\n      return d.id;\n    },\n    getHeight: function getHeight() {\n      return 16;\n    },\n    getVGap: function getVGap() {\n      return 30;\n    },\n    getHGap: function getHGap() {\n      return 100;\n    },\n    getWidth: function getWidth(d) {\n      return d.id.length + 20;\n    },\n  },\n  autoFit: 'center',\n  data: {\n    type: 'treeData',\n    value: data,\n  },\n});\n\nlet timer = null;\nlet layerIndex = 0;\ngraph.on('afterrender', () => {\n  const allEdges = graph.getAllEdgesData();\n  const allNodes = graph.getAllNodesData();\n\n  const layer1 = allNodes.filter((node) => node.data.layer === 1);\n  const layer2 = allNodes.filter((node) => node.data.layer === 2);\n  const layer3 = allNodes.filter((node) => node.data.layer === 3);\n  const layer = [layer1, layer2, layer3, [data]];\n\n  const updateItemData = (itemType, id, data) => graph.updateData(itemType, { id, data });\n  const setScore = () => parseFloat((Math.random() * 10).toFixed(2)) || 1;\n  // 参赛选手\n  const playerInfo = Array.from({ length: layer1.length }).map((_, index) => ({\n    id: `layer1-${index + 1}`,\n    name: `player${index + 1}`,\n    state: STATE.INIT,\n  }));\n  // 选手初登场\n  playerInfo.forEach((info) => {\n    updateItemData('node', info.id, {\n      name: info.name,\n      state: STATE.PLAYING,\n      score: 0,\n    });\n  });\n  // 更新选手分数\n  const updateScore = () => {\n    const currentLayer = layer[layerIndex];\n    currentLayer.forEach((info) => {\n      const edge = allEdges.find((edge) => edge.target === info.id);\n      updateItemData('edge', edge.id, { state: STATE.PLAYING });\n    });\n    let index = 0;\n    timer = setInterval(() => {\n      index++;\n      currentLayer.forEach((info) => {\n        const score = setScore();\n        const prevScore = graph.getNodeData(info.id).data.score || 0;\n        const totalScore = parseFloat((score + prevScore).toFixed(2));\n        updateItemData('node', info.id, { score: totalScore });\n      });\n      if (index >= 20) {\n        layerIndex += 1;\n        clearInterval(timer);\n        timer = null;\n        setNextLayer();\n      }\n    }, 100);\n  };\n  // 布局下一场景\n  const setNextLayer = () => {\n    const currentLayer = layer[layerIndex];\n    if (!currentLayer) {\n      return;\n    }\n    Array.from({ length: currentLayer.length }).forEach((_, index) => {\n      let nextLayerId = `layer${layerIndex + 1}-${index + 1}`;\n      if (layerIndex === layer.length - 1) {\n        nextLayerId = 'winner';\n      }\n      const nextLayer = graph.getNodeData(nextLayerId);\n      const childrenIds = nextLayer.data.childrenIds;\n      const player1 = graph.getNodeData(childrenIds[0]);\n      const player2 = graph.getNodeData(childrenIds[1]);\n\n      const winNode = player1.data.score > player2.data.score ? player1 : player2;\n      const lostNode = player1.id === winNode.id ? player2 : player1;\n      // 更新当场比赛的赢方\n      updateItemData('node', winNode.id, { state: STATE.WIN });\n      // 更新当场比赛的输方\n      updateItemData('node', lostNode.id, { state: STATE.LOST });\n      // 更新下场进入比赛的赢方选手\n      updateItemData('node', nextLayerId, {\n        name: winNode.data.name,\n        state: nextLayerId === 'winner' ? STATE.WIN : STATE.INIT,\n      });\n\n      const winEdge = allEdges.find(({ source, target }) => source === nextLayerId && target === winNode.id);\n      const lostEdge = allEdges.find(({ source, target }) => source === nextLayerId && target === lostNode.id);\n      // 更新赢方的边高亮\n      updateItemData('edge', winEdge.id, { state: STATE.WIN });\n      // 更新输方的边\n      updateItemData('edge', lostEdge.id, { state: STATE.LOST });\n      // 将赢方的边层级放到最前\n      graph.frontItem(winEdge.id);\n    });\n    if (layerIndex < layer.length - 1) {\n      updateScore();\n    }\n  };\n  updateScore();\n  window.graph = graph;\n});\n",title:{zh:"比赛流程图",en:"tournament"},filename:"tournament.js",isNew:!1}],icon:"",id:"features",title:{en:"🎉 5.0 Features",zh:"🎉 5.0 Features"},childrenKey:"demos",order:0}],childrenKey:"examples"},{id:"case",title:{zh:"场景案例",en:"Case"},icon:"gallery",examples:[],childrenKey:"examples"},{id:"net",title:{zh:"图布局",en:"Graph Layout"},icon:"net",examples:[{demos:[{id:"basicForce",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*sA14SZo9BBMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '1',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '2',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '3',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '4',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '6',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '7',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '8',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '9',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '10',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '11',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '12',\n      data: {\n        cluster: 'a',\n      },\n    },\n    {\n      id: '13',\n      data: {\n        cluster: 'b',\n      },\n    },\n    {\n      id: '14',\n      data: {\n        cluster: 'b',\n      },\n    },\n    {\n      id: '15',\n      data: {\n        cluster: 'b',\n      },\n    },\n    {\n      id: '16',\n      data: {\n        cluster: 'b',\n      },\n    },\n    {\n      id: '17',\n      data: {\n        cluster: 'b',\n      },\n    },\n    {\n      id: '18',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '19',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '20',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '21',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '22',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '23',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '24',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '25',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '26',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '27',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '28',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '29',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '30',\n      data: {\n        cluster: 'c',\n      },\n    },\n    {\n      id: '31',\n      data: {\n        cluster: 'd',\n      },\n    },\n    {\n      id: '32',\n      data: {\n        cluster: 'd',\n      },\n    },\n    {\n      id: '33',\n      data: {\n        cluster: 'd',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-583',\n      source: '0',\n      target: '1',\n    },\n    {\n      id: 'edge-0',\n      source: '0',\n      target: '2',\n    },\n    {\n      id: 'edge-888',\n      source: '0',\n      target: '3',\n    },\n    {\n      id: 'edge-560',\n      source: '0',\n      target: '4',\n    },\n    {\n      id: 'edge-34',\n      source: '0',\n      target: '5',\n    },\n    {\n      id: 'edge-654',\n      source: '0',\n      target: '7',\n    },\n    {\n      id: 'edge-317',\n      source: '0',\n      target: '8',\n    },\n    {\n      id: 'edge-962',\n      source: '0',\n      target: '9',\n    },\n    {\n      id: 'edge-746',\n      source: '0',\n      target: '10',\n    },\n    {\n      id: 'edge-75',\n      source: '0',\n      target: '11',\n    },\n    {\n      id: 'edge-80',\n      source: '0',\n      target: '13',\n    },\n    {\n      id: 'edge-674',\n      source: '0',\n      target: '14',\n    },\n    {\n      id: 'edge-795',\n      source: '0',\n      target: '15',\n    },\n    {\n      id: 'edge-886',\n      source: '0',\n      target: '16',\n    },\n    {\n      id: 'edge-630',\n      source: '2',\n      target: '3',\n    },\n    {\n      id: 'edge-710',\n      source: '4',\n      target: '5',\n    },\n    {\n      id: 'edge-284',\n      source: '4',\n      target: '6',\n    },\n    {\n      id: 'edge-758',\n      source: '5',\n      target: '6',\n    },\n    {\n      id: 'edge-288',\n      source: '7',\n      target: '13',\n    },\n    {\n      id: 'edge-103',\n      source: '8',\n      target: '14',\n    },\n    {\n      id: 'edge-873',\n      source: '9',\n      target: '10',\n    },\n    {\n      id: 'edge-108',\n      source: '10',\n      target: '22',\n    },\n    {\n      id: 'edge-214',\n      source: '10',\n      target: '14',\n    },\n    {\n      id: 'edge-928',\n      source: '10',\n      target: '12',\n    },\n    {\n      id: 'edge-717',\n      source: '10',\n      target: '24',\n    },\n    {\n      id: 'edge-752',\n      source: '10',\n      target: '21',\n    },\n    {\n      id: 'edge-424',\n      source: '10',\n      target: '20',\n    },\n    {\n      id: 'edge-755',\n      source: '11',\n      target: '24',\n    },\n    {\n      id: 'edge-822',\n      source: '11',\n      target: '22',\n    },\n    {\n      id: 'edge-366',\n      source: '11',\n      target: '14',\n    },\n    {\n      id: 'edge-411',\n      source: '12',\n      target: '13',\n    },\n    {\n      id: 'edge-781',\n      source: '16',\n      target: '17',\n    },\n    {\n      id: 'edge-742',\n      source: '16',\n      target: '18',\n    },\n    {\n      id: 'edge-762',\n      source: '16',\n      target: '21',\n    },\n    {\n      id: 'edge-519',\n      source: '16',\n      target: '22',\n    },\n    {\n      id: 'edge-187',\n      source: '17',\n      target: '18',\n    },\n    {\n      id: 'edge-919',\n      source: '17',\n      target: '20',\n    },\n    {\n      id: 'edge-854',\n      source: '18',\n      target: '19',\n    },\n    {\n      id: 'edge-199',\n      source: '19',\n      target: '20',\n    },\n    {\n      id: 'edge-475',\n      source: '19',\n      target: '33',\n    },\n    {\n      id: 'edge-55',\n      source: '19',\n      target: '22',\n    },\n    {\n      id: 'edge-528',\n      source: '19',\n      target: '23',\n    },\n    {\n      id: 'edge-741',\n      source: '20',\n      target: '21',\n    },\n    {\n      id: 'edge-920',\n      source: '21',\n      target: '22',\n    },\n    {\n      id: 'edge-457',\n      source: '22',\n      target: '24',\n    },\n    {\n      id: 'edge-524',\n      source: '22',\n      target: '25',\n    },\n    {\n      id: 'edge-814',\n      source: '22',\n      target: '26',\n    },\n    {\n      id: 'edge-258',\n      source: '22',\n      target: '23',\n    },\n    {\n      id: 'edge-222',\n      source: '22',\n      target: '28',\n    },\n    {\n      id: 'edge-803',\n      source: '22',\n      target: '30',\n    },\n    {\n      id: 'edge-693',\n      source: '22',\n      target: '31',\n    },\n    {\n      id: 'edge-491',\n      source: '22',\n      target: '32',\n    },\n    {\n      id: 'edge-46',\n      source: '22',\n      target: '33',\n    },\n    {\n      id: 'edge-145',\n      source: '23',\n      target: '28',\n    },\n    {\n      id: 'edge-45',\n      source: '23',\n      target: '27',\n    },\n    {\n      id: 'edge-98',\n      source: '23',\n      target: '29',\n    },\n    {\n      id: 'edge-993',\n      source: '23',\n      target: '30',\n    },\n    {\n      id: 'edge-514',\n      source: '23',\n      target: '31',\n    },\n    {\n      id: 'edge-361',\n      source: '23',\n      target: '33',\n    },\n    {\n      id: 'edge-154',\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\ndata.nodes.forEach((node) => (node.data.size = Math.random() * 30 + 5));\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'circle',\n      size: (d) => d.data.size,\n      labelText: (d) => d.id,\n      ports: [],\n    },\n    palette: {\n      type: 'group',\n      field: 'cluster',\n      color: 'antv',\n    },\n  },\n  layout: {\n    type: 'force',\n    linkDistance: 50,\n    animation: true,\n    clustering: true,\n    nodeClusterBy: 'cluster',\n    clusterNodeStrength: 70,\n  },\n\n  behaviors: ['zoom-canvas', 'drag-canvas'],\n  zoomRange: [0.1, 5],\n  autoResize: true,\n});\n\ngraph.render();\n",title:{zh:"Force 聚类及固定拖拽节点",en:"Clustering Force Layout with dragging"},filename:"basicForce.js",isNew:!1},{id:"basicFA2",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-HgiS6CyuuEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      data,\n      layout: {\n        type: 'force-atlas2',\n        preventOverlap: true,\n        kr: 20,\n        center: [250, 250],\n      },\n      behaviors: ['zoom-canvas', 'drag-canvas'],\n      autoResize: true,\n      zoomRange: [0.1, 5],\n    });\n\n    graph.render();\n  });\n",title:{zh:"基本 Force Atlas 2",en:"Basic Force-Atlas 2 Layout"},filename:"basicFA2.js",isNew:!1},{id:"forceDirectedFunctionalParams",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xQRmQ7pTvZMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst graph = new Graph({\n  container: 'container',\n  data: {\n    nodes: [\n      { id: 'node0', size: 50 },\n      { id: 'node1', size: 30 },\n      { id: 'node2', size: 30 },\n      { id: 'node3', size: 30 },\n      { id: 'node4', size: 30, isLeaf: true },\n      { id: 'node5', size: 30, isLeaf: true },\n      { id: 'node6', size: 15, isLeaf: true },\n      { id: 'node7', size: 15, isLeaf: true },\n      { id: 'node8', size: 15, isLeaf: true },\n      { id: 'node9', size: 15, isLeaf: true },\n      { id: 'node10', size: 15, isLeaf: true },\n      { id: 'node11', size: 15, isLeaf: true },\n      { id: 'node12', size: 15, isLeaf: true },\n      { id: 'node13', size: 15, isLeaf: true },\n      { id: 'node14', size: 15, isLeaf: true },\n      { id: 'node15', size: 15, isLeaf: true },\n      { id: 'node16', size: 15, isLeaf: true },\n    ],\n    edges: [\n      { source: 'node0', target: 'node1' },\n      { source: 'node0', target: 'node2' },\n      { source: 'node0', target: 'node3' },\n      { source: 'node0', target: 'node4' },\n      { source: 'node0', target: 'node5' },\n      { source: 'node1', target: 'node6' },\n      { source: 'node1', target: 'node7' },\n      { source: 'node2', target: 'node8' },\n      { source: 'node2', target: 'node9' },\n      { source: 'node2', target: 'node10' },\n      { source: 'node2', target: 'node11' },\n      { source: 'node2', target: 'node12' },\n      { source: 'node2', target: 'node13' },\n      { source: 'node3', target: 'node14' },\n      { source: 'node3', target: 'node15' },\n      { source: 'node3', target: 'node16' },\n    ],\n  },\n  node: {\n    style: {\n      size: (d) => d.size,\n    },\n  },\n  layout: {\n    type: 'force',\n    preventOverlap: true,\n    animation: true,\n    linkDistance: (d) => {\n      if (d.source === 'node0' || d.target === 'node0') {\n        return 200;\n      }\n      return 80;\n    },\n  },\n  behaviors: ['zoom-canvas', 'drag-canvas'],\n  autoResize: true,\n  zoomRange: [0.1, 5],\n});\n\ngraph.render();\n",title:{zh:"定制不同节点的参数",en:"Different Configurations for Nodes"},filename:"forceDirectedFunctionalParams.js",isNew:!1},{id:"forceDirectedConfigurationTranslate",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*2HKeQqGwjQoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      data: {\n        label: '0',\n      },\n    },\n    {\n      id: '1',\n      data: {\n        label: '1',\n      },\n    },\n    {\n      id: '2',\n      data: {\n        label: '2',\n      },\n    },\n    {\n      id: '3',\n      data: {\n        label: '3',\n      },\n    },\n    {\n      id: '4',\n      data: {\n        label: '4',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        label: '5',\n      },\n    },\n    {\n      id: '6',\n      data: {\n        label: '6',\n      },\n    },\n    {\n      id: '7',\n      data: {\n        label: '7',\n      },\n    },\n    {\n      id: '8',\n      data: {\n        label: '8',\n      },\n    },\n    {\n      id: '9',\n      data: {\n        label: '9',\n      },\n    },\n    {\n      id: '10',\n      data: {\n        label: '10',\n      },\n    },\n    {\n      id: '11',\n      data: {\n        label: '11',\n      },\n    },\n    {\n      id: '12',\n      data: {\n        label: '12',\n      },\n    },\n    {\n      id: '13',\n      data: {\n        label: '13',\n      },\n    },\n    {\n      id: '14',\n      data: {\n        label: '14',\n      },\n    },\n    {\n      id: '15',\n      data: {\n        label: '15',\n      },\n    },\n    {\n      id: '16',\n      data: {\n        label: '16',\n      },\n    },\n    {\n      id: '17',\n      data: {\n        label: '17',\n      },\n    },\n    {\n      id: '18',\n      data: {\n        label: '18',\n      },\n    },\n    {\n      id: '19',\n      data: {\n        label: '19',\n      },\n    },\n    {\n      id: '20',\n      data: {\n        label: '20',\n      },\n    },\n    {\n      id: '21',\n      data: {\n        label: '21',\n      },\n    },\n    {\n      id: '22',\n      data: {\n        label: '22',\n      },\n    },\n    {\n      id: '23',\n      data: {\n        label: '23',\n      },\n    },\n    {\n      id: '24',\n      data: {\n        label: '24',\n      },\n    },\n    {\n      id: '25',\n      data: {\n        label: '25',\n      },\n    },\n    {\n      id: '26',\n      data: {\n        label: '26',\n      },\n    },\n    {\n      id: '27',\n      data: {\n        label: '27',\n      },\n    },\n    {\n      id: '28',\n      data: {\n        label: '28',\n      },\n    },\n    {\n      id: '29',\n      data: {\n        label: '29',\n      },\n    },\n    {\n      id: '30',\n      data: {\n        label: '30',\n      },\n    },\n    {\n      id: '31',\n      data: {\n        label: '31',\n      },\n    },\n    {\n      id: '32',\n      data: {\n        label: '32',\n      },\n    },\n    {\n      id: '33',\n      data: {\n        label: '33',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-442',\n      source: '0',\n      target: '1',\n    },\n    {\n      id: 'edge-825',\n      source: '0',\n      target: '2',\n    },\n    {\n      id: 'edge-100',\n      source: '0',\n      target: '3',\n    },\n    {\n      id: 'edge-378',\n      source: '0',\n      target: '4',\n    },\n    {\n      id: 'edge-691',\n      source: '0',\n      target: '5',\n    },\n    {\n      id: 'edge-983',\n      source: '0',\n      target: '7',\n    },\n    {\n      id: 'edge-491',\n      source: '0',\n      target: '8',\n    },\n    {\n      id: 'edge-38',\n      source: '0',\n      target: '9',\n    },\n    {\n      id: 'edge-547',\n      source: '0',\n      target: '10',\n    },\n    {\n      id: 'edge-126',\n      source: '0',\n      target: '11',\n    },\n    {\n      id: 'edge-905',\n      source: '0',\n      target: '13',\n    },\n    {\n      id: 'edge-931',\n      source: '0',\n      target: '14',\n    },\n    {\n      id: 'edge-329',\n      source: '0',\n      target: '15',\n    },\n    {\n      id: 'edge-798',\n      source: '0',\n      target: '16',\n    },\n    {\n      id: 'edge-130',\n      source: '2',\n      target: '3',\n    },\n    {\n      id: 'edge-132',\n      source: '4',\n      target: '5',\n    },\n    {\n      id: 'edge-587',\n      source: '4',\n      target: '6',\n    },\n    {\n      id: 'edge-772',\n      source: '5',\n      target: '6',\n    },\n    {\n      id: 'edge-582',\n      source: '7',\n      target: '13',\n    },\n    {\n      id: 'edge-922',\n      source: '8',\n      target: '14',\n    },\n    {\n      id: 'edge-559',\n      source: '9',\n      target: '10',\n    },\n    {\n      id: 'edge-915',\n      source: '10',\n      target: '22',\n    },\n    {\n      id: 'edge-304',\n      source: '10',\n      target: '14',\n    },\n    {\n      id: 'edge-88',\n      source: '10',\n      target: '12',\n    },\n    {\n      id: 'edge-343',\n      source: '10',\n      target: '24',\n    },\n    {\n      id: 'edge-692',\n      source: '10',\n      target: '21',\n    },\n    {\n      id: 'edge-29',\n      source: '10',\n      target: '20',\n    },\n    {\n      id: 'edge-390',\n      source: '11',\n      target: '24',\n    },\n    {\n      id: 'edge-46',\n      source: '11',\n      target: '22',\n    },\n    {\n      id: 'edge-170',\n      source: '11',\n      target: '14',\n    },\n    {\n      id: 'edge-51',\n      source: '12',\n      target: '13',\n    },\n    {\n      id: 'edge-387',\n      source: '16',\n      target: '17',\n    },\n    {\n      id: 'edge-598',\n      source: '16',\n      target: '18',\n    },\n    {\n      id: 'edge-894',\n      source: '16',\n      target: '21',\n    },\n    {\n      id: 'edge-448',\n      source: '16',\n      target: '22',\n    },\n    {\n      id: 'edge-921',\n      source: '17',\n      target: '18',\n    },\n    {\n      id: 'edge-374',\n      source: '17',\n      target: '20',\n    },\n    {\n      id: 'edge-11',\n      source: '18',\n      target: '19',\n    },\n    {\n      id: 'edge-899',\n      source: '19',\n      target: '20',\n    },\n    {\n      id: 'edge-790',\n      source: '19',\n      target: '33',\n    },\n    {\n      id: 'edge-294',\n      source: '19',\n      target: '22',\n    },\n    {\n      id: 'edge-353',\n      source: '19',\n      target: '23',\n    },\n    {\n      id: 'edge-546',\n      source: '20',\n      target: '21',\n    },\n    {\n      id: 'edge-105',\n      source: '21',\n      target: '22',\n    },\n    {\n      id: 'edge-261',\n      source: '22',\n      target: '24',\n    },\n    {\n      id: 'edge-393',\n      source: '22',\n      target: '25',\n    },\n    {\n      id: 'edge-779',\n      source: '22',\n      target: '26',\n    },\n    {\n      id: 'edge-149',\n      source: '22',\n      target: '23',\n    },\n    {\n      id: 'edge-313',\n      source: '22',\n      target: '28',\n    },\n    {\n      id: 'edge-805',\n      source: '22',\n      target: '30',\n    },\n    {\n      id: 'edge-538',\n      source: '22',\n      target: '31',\n    },\n    {\n      id: 'edge-884',\n      source: '22',\n      target: '32',\n    },\n    {\n      id: 'edge-824',\n      source: '22',\n      target: '33',\n    },\n    {\n      id: 'edge-519',\n      source: '23',\n      target: '28',\n    },\n    {\n      id: 'edge-496',\n      source: '23',\n      target: '27',\n    },\n    {\n      id: 'edge-402',\n      source: '23',\n      target: '29',\n    },\n    {\n      id: 'edge-736',\n      source: '23',\n      target: '30',\n    },\n    {\n      id: 'edge-782',\n      source: '23',\n      target: '31',\n    },\n    {\n      id: 'edge-87',\n      source: '23',\n      target: '33',\n    },\n    {\n      id: 'edge-27',\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Force layout, linkDistance = 50, preventOverlap: false';\ncontainer.appendChild(descriptionDiv);\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  data,\n  node: (model) => {\n    return {\n      id: model.id,\n      labelText: (d) => model.data.label,\n    };\n  },\n  layout: {\n    type: 'force',\n    linkDistance: 50,\n    animation: true,\n  },\n  behaviors: ['zoom-canvas', 'drag-canvas'],\n});\n\nsetTimeout(() => {\n  descriptionDiv.innerHTML = 'Force layout, linkDistance = 100, preventOverlap: true';\n  graph.layout({\n    type: 'force',\n    linkDistance: 100,\n    preventOverlap: true,\n    nodeSize: 20,\n    animation: true,\n  });\n}, 5000);\n\ngraph.render();\n",title:{zh:"力导向布局参数动态变化",en:"Update Configurations for Force-directed Layout"},filename:"forceDirectedConfigurationTranslate.js",isNew:!1}],icon:"",id:"forceDirected",title:{en:"Force-directed Layout",zh:"力导向图布局"},childrenKey:"demos",order:0},{demos:[{id:"antv-dagre",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ESU8SrsUnlwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: '0' },\n    { id: '1' },\n    { id: '2' },\n    { id: '3' },\n    { id: '4' },\n    { id: '5' },\n    { id: '6' },\n    { id: '7' },\n    { id: '8' },\n    { id: '9' },\n  ],\n  edges: [\n    { source: '0', target: '1' },\n    { source: '0', target: '2' },\n    { source: '1', target: '4' },\n    { source: '0', target: '3' },\n    { source: '3', target: '4' },\n    { source: '4', target: '5' },\n    { source: '4', target: '6' },\n    { source: '5', target: '7' },\n    { source: '5', target: '8' },\n    { source: '8', target: '9' },\n    { source: '2', target: '9' },\n    { source: '3', target: '9' },\n  ],\n};\n\nconst layouts = {\n  Default: { type: 'antv-dagre', nodesep: 100, ranksep: 70, controlPoints: true },\n  LR: { type: 'antv-dagre', rankdir: 'LR', align: 'DL', nodesep: 50, ranksep: 70, controlPoints: true },\n  'LR&UL': { type: 'antv-dagre', rankdir: 'LR', align: 'UL', controlPoints: true, nodesep: 50, ranksep: 70 },\n};\n\nconst container = document.getElementById('container');\n\nconst graph = new Graph({\n  container,\n  data,\n  layout: layouts.Default,\n  node: {\n    style: {\n      type: 'rect',\n      size: [60, 30],\n      radius: 8,\n      labelPlacement: 'center',\n      labelText: (d) => d.id,\n    },\n  },\n  edge: {\n    style: {\n      type: 'polyline',\n      endArrow: true,\n      lineWidth: 2,\n      stroke: '#C2C8D5',\n    },\n  },\n  autoFit: 'view',\n  behaviors: ['drag-element', 'drag-canvas', 'zoom-canvas'],\n});\n\ngraph.render();\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\nbtnContainer.style.zIndex = '10';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Change configs:';\nbtnContainer.appendChild(tip);\n\nObject.keys(layouts).forEach((name, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = name;\n  btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', () => {\n    graph.setLayout(layouts[name]);\n    graph.layout();\n  });\n});\n",title:{zh:"Dagre 流程图",en:"Dagre Layout"},filename:"antv-dagre.ts",isNew:!1},{id:"antv-dagre-combo",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*h60aQKusJRcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nfetch('https://assets.antv.antgroup.com/g6/dagre-combo.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data,\n      layout: {\n        type: 'antv-dagre',\n        ranksep: 50,\n        nodesep: 5,\n        sortByCombo: true,\n      },\n      node: {\n        style: {\n          type: 'rect',\n          size: [60, 30],\n          radius: 8,\n          labelPlacement: 'center',\n          labelText: (d) => d.id,\n          ports: [{ placement: 'top' }, { placement: 'bottom' }],\n          color: (d) => {\n            const styles = { A: '#F09056', B: '#D580FF', C: '#01C9C9' };\n            return styles[d.style.parentId] || '#1883FF';\n          },\n        },\n      },\n      edge: {\n        style: {\n          type: 'cubic-vertical',\n          endArrow: true,\n          lineWidth: 2,\n          stroke: '#C2C8D5',\n        },\n      },\n      combo: {\n        style: {\n          type: 'rect',\n          labelText: (d) => d.id,\n          lineDash: 0,\n          collapsedLineDash: [5, 5],\n        },\n      },\n      behaviors: ['drag-element', 'drag-canvas', 'zoom-canvas'],\n    });\n    graph.render();\n  });\n",title:{zh:"带有 Combo 的流程图",en:"Dagre with Combos"},filename:"antv-dagre-combo.ts",isNew:!1},{id:"dagre",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*WqTVSZKaJIYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst graph = new Graph({\n  zoom: 0.8,\n  data: {\n    nodes: [\n      { id: 'kspacey', data: { label: 'Kevin Spacey', width: 144, height: 100 } },\n      { id: 'swilliams', data: { label: 'Saul Williams', width: 160, height: 100 } },\n      { id: 'bpitt', data: { label: 'Brad Pitt', width: 108, height: 100 } },\n      { id: 'hford', data: { label: 'Harrison Ford', width: 168, height: 100 } },\n      { id: 'lwilson', data: { label: 'Luke Wilson', width: 144, height: 100 } },\n      { id: 'kbacon', data: { label: 'Kevin Bacon', width: 121, height: 100 } },\n    ],\n    edges: [\n      { id: 'kspacey->swilliams', source: 'kspacey', target: 'swilliams' },\n      { id: 'swilliams->kbacon', source: 'swilliams', target: 'kbacon' },\n      { id: 'bpitt->kbacon', source: 'bpitt', target: 'kbacon' },\n      { id: 'hford->lwilson', source: 'hford', target: 'lwilson' },\n      { id: 'lwilson->kbacon', source: 'lwilson', target: 'kbacon' },\n    ],\n  },\n  node: {\n    style: {\n      type: 'rect',\n      radius: 10,\n      iconText: (d) => d.data.label,\n      size: (d) => [d.data.width, d.data.height],\n    },\n    palette: {\n      type: 'group',\n      field: 'label',\n    },\n  },\n  edge: {\n    style: {\n      type: 'polyline',\n      router: true,\n    },\n  },\n  layout: {\n    type: 'dagre',\n  },\n  behaviors: ['drag-element'],\n});\n\ngraph.render();\n",title:{zh:"Dagre.js 布局",en:"Dagre.js Layout"},filename:"dagre.ts",isNew:!1}],icon:"",id:"dagreFlow",title:{en:"Dagre Layout",zh:"Dagre 流程图布局"},childrenKey:"demos",order:1},{demos:[{id:"comboCombined",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*zPAzSZ3XxpUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '1',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '2',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '3',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '4',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '5',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '6',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '7',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '8',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '9',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '10',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '11',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '12',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '13',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '14',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '15',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '16',\n      style: {\n        parentId: 'b',\n      },\n    },\n    {\n      id: '17',\n      style: {\n        parentId: 'b',\n      },\n    },\n    {\n      id: '18',\n      style: {\n        parentId: 'b',\n      },\n    },\n    {\n      id: '19',\n      style: {\n        parentId: 'b',\n      },\n    },\n    {\n      id: '20',\n    },\n    {\n      id: '21',\n    },\n    {\n      id: '22',\n    },\n    {\n      id: '23',\n      style: {\n        parentId: 'c',\n      },\n    },\n    {\n      id: '24',\n      style: {\n        parentId: 'a',\n      },\n    },\n    {\n      id: '25',\n    },\n    {\n      id: '26',\n    },\n    {\n      id: '27',\n      style: {\n        parentId: 'c',\n      },\n    },\n    {\n      id: '28',\n      style: {\n        parentId: 'c',\n      },\n    },\n    {\n      id: '29',\n      style: {\n        parentId: 'c',\n      },\n    },\n    {\n      id: '30',\n      style: {\n        parentId: 'c',\n      },\n    },\n    {\n      id: '31',\n      style: {\n        parentId: 'c',\n      },\n    },\n    {\n      id: '32',\n      style: {\n        parentId: 'd',\n      },\n    },\n    {\n      id: '33',\n      style: {\n        parentId: 'd',\n      },\n    },\n  ],\n  edges: [\n    // {\n    //   id: 'edge-647',\n    //   source: 'a',\n    //   target: 'b',\n    //   data: {\n    //     label: 'Combo A - Combo B',\n    //     size: 3,\n    //     color: 'red',\n    //   },\n    // },\n    // {\n    //   id: 'edge-623',\n    //   source: 'a',\n    //   target: '33',\n    //   data: {\n    //     label: 'Combo-Node',\n    //     size: 3,\n    //     color: 'blue',\n    //   },\n    // },\n    {\n      id: 'edge-444',\n      source: '0',\n      target: '1',\n    },\n    {\n      id: 'edge-123',\n      source: '0',\n      target: '2',\n    },\n    {\n      id: 'edge-689',\n      source: '0',\n      target: '3',\n    },\n    {\n      id: 'edge-625',\n      source: '0',\n      target: '4',\n    },\n    {\n      id: 'edge-110',\n      source: '0',\n      target: '5',\n    },\n    {\n      id: 'edge-783',\n      source: '0',\n      target: '7',\n    },\n    {\n      id: 'edge-72',\n      source: '0',\n      target: '8',\n    },\n    {\n      id: 'edge-165',\n      source: '0',\n      target: '9',\n    },\n    {\n      id: 'edge-109',\n      source: '0',\n      target: '10',\n    },\n    {\n      id: 'edge-764',\n      source: '0',\n      target: '11',\n    },\n    {\n      id: 'edge-596',\n      source: '0',\n      target: '13',\n    },\n    {\n      id: 'edge-711',\n      source: '0',\n      target: '14',\n    },\n    {\n      id: 'edge-81',\n      source: '0',\n      target: '15',\n    },\n    {\n      id: 'edge-810',\n      source: '0',\n      target: '16',\n    },\n    {\n      id: 'edge-957',\n      source: '2',\n      target: '3',\n    },\n    {\n      id: 'edge-279',\n      source: '4',\n      target: '5',\n    },\n    {\n      id: 'edge-83',\n      source: '4',\n      target: '6',\n    },\n    {\n      id: 'edge-488',\n      source: '5',\n      target: '6',\n    },\n    {\n      id: 'edge-453',\n      source: '7',\n      target: '13',\n    },\n    {\n      id: 'edge-523',\n      source: '8',\n      target: '14',\n    },\n    {\n      id: 'edge-543',\n      source: '9',\n      target: '10',\n    },\n    {\n      id: 'edge-30',\n      source: '10',\n      target: '22',\n    },\n    {\n      id: 'edge-146',\n      source: '10',\n      target: '14',\n    },\n    {\n      id: 'edge-878',\n      source: '10',\n      target: '12',\n    },\n    {\n      id: 'edge-369',\n      source: '10',\n      target: '24',\n    },\n    {\n      id: 'edge-179',\n      source: '10',\n      target: '21',\n    },\n    {\n      id: 'edge-759',\n      source: '10',\n      target: '20',\n    },\n    {\n      id: 'edge-116',\n      source: '11',\n      target: '24',\n    },\n    {\n      id: 'edge-940',\n      source: '11',\n      target: '22',\n    },\n    {\n      id: 'edge-538',\n      source: '11',\n      target: '14',\n    },\n    {\n      id: 'edge-522',\n      source: '12',\n      target: '13',\n    },\n    {\n      id: 'edge-73',\n      source: '16',\n      target: '17',\n    },\n    {\n      id: 'edge-59',\n      source: '16',\n      target: '18',\n    },\n    {\n      id: 'edge-493',\n      source: '16',\n      target: '21',\n    },\n    {\n      id: 'edge-162',\n      source: '16',\n      target: '22',\n    },\n    {\n      id: 'edge-13',\n      source: '17',\n      target: '18',\n    },\n    {\n      id: 'edge-892',\n      source: '17',\n      target: '20',\n    },\n    {\n      id: 'edge-722',\n      source: '18',\n      target: '19',\n    },\n    {\n      id: 'edge-617',\n      source: '19',\n      target: '20',\n    },\n    {\n      id: 'edge-364',\n      source: '19',\n      target: '33',\n    },\n    {\n      id: 'edge-926',\n      source: '19',\n      target: '22',\n    },\n    {\n      id: 'edge-31',\n      source: '19',\n      target: '23',\n    },\n    {\n      id: 'edge-695',\n      source: '20',\n      target: '21',\n    },\n    {\n      id: 'edge-286',\n      source: '21',\n      target: '22',\n    },\n    {\n      id: 'edge-300',\n      source: '22',\n      target: '24',\n    },\n    {\n      id: 'edge-503',\n      source: '22',\n      target: '25',\n    },\n    {\n      id: 'edge-509',\n      source: '22',\n      target: '26',\n    },\n    {\n      id: 'edge-432',\n      source: '22',\n      target: '23',\n    },\n    {\n      id: 'edge-293',\n      source: '22',\n      target: '28',\n    },\n    {\n      id: 'edge-785',\n      source: '22',\n      target: '30',\n    },\n    {\n      id: 'edge-514',\n      source: '22',\n      target: '31',\n    },\n    {\n      id: 'edge-608',\n      source: '22',\n      target: '32',\n    },\n    {\n      id: 'edge-946',\n      source: '22',\n      target: '33',\n    },\n    {\n      id: 'edge-728',\n      source: '23',\n      target: '28',\n    },\n    {\n      id: 'edge-416',\n      source: '23',\n      target: '27',\n    },\n    {\n      id: 'edge-14',\n      source: '23',\n      target: '29',\n    },\n    {\n      id: 'edge-776',\n      source: '23',\n      target: '30',\n    },\n    {\n      id: 'edge-736',\n      source: '23',\n      target: '31',\n    },\n    {\n      id: 'edge-508',\n      source: '23',\n      target: '33',\n    },\n    {\n      id: 'edge-201',\n      source: '32',\n      target: '33',\n    },\n  ],\n  combos: [\n    {\n      id: 'a',\n      data: {\n        label: 'Combo A',\n      },\n    },\n    {\n      id: 'b',\n      data: {\n        label: 'Combo B',\n      },\n    },\n    {\n      id: 'c',\n      data: {\n        label: 'Combo D',\n      },\n    },\n    {\n      id: 'd',\n      data: {\n        label: 'Combo D',\n        parentId: 'b',\n      },\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'combo-combined',\n    comboPadding: 2,\n  },\n  node: {\n    style: {\n      size: 20,\n      labelText: (d) => d.id,\n    },\n  },\n  edge: {\n    style: (model) => {\n      const { size, color } = model.data as { size: number; color: string };\n      return {\n        stroke: color || '#99ADD1',\n        lineWidth: size || 1,\n      };\n    },\n  },\n  behaviors: ['drag-element', 'drag-canvas', 'zoom-canvas'],\n  autoFit: 'view',\n});\n\ngraph.render();\n",title:{zh:"ComboCombined 组合布局",en:"Combo Combined Layout"},filename:"comboCombined.ts",isNew:!1}],icon:"",id:"comboLayout",title:{en:"Combo Related Layout",zh:"Combo 相关布局"},childrenKey:"demos",order:2},{demos:[{id:"basicCompactBox",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-FgIT7w4OXwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      behaviors: ['drag-canvas', 'zoom-canvas', 'drag-element'],\n      node: {\n        style: {\n          labelText: (data) => data.id,\n          labelPlacement: 'right',\n          labelMaxWidth: 200,\n          ports: [\n            {\n              placement: 'right',\n            },\n            {\n              placement: 'left',\n            },\n          ],\n        },\n      },\n      edge: {\n        style: {\n          type: 'cubic-horizontal',\n        },\n      },\n      layout: {\n        type: 'compact-box',\n        direction: 'LR',\n        getHeight: function getHeight() {\n          return 32;\n        },\n        getWidth: function getWidth() {\n          return 32;\n        },\n        getVGap: function getVGap() {\n          return 10;\n        },\n        getHGap: function getHGap() {\n          return 100;\n        },\n      },\n      animation: false,\n    });\n\n    graph.render();\n  });\n",title:{zh:"紧凑树",en:"CompactBox Layout"},filename:"basicCompactBox.ts",isNew:!1},{id:"topToBottomCompactBox",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*KrAqTrFbNjMAAAAAAAAAAABkARQnAQ",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      node: {\n        style: {\n          labelText: (data) => data.id,\n          labelPlacement: 'right',\n          labelMaxWidth: 200,\n          transform: 'rotate(90deg)',\n          size: 26,\n          fill: '#EFF4FF',\n          lineWidth: 1,\n          stroke: '#5F95FF',\n          ports: [\n            {\n              placement: 'bottom',\n            },\n            {\n              placement: 'top',\n            },\n          ],\n        },\n      },\n      edge: {\n        style: {\n          type: 'cubic-vertical',\n        },\n      },\n      layout: {\n        type: 'compact-box',\n        direction: 'TB',\n        getId: function getId(d) {\n          return d.id;\n        },\n        getHeight: function getHeight() {\n          return 16;\n        },\n        getWidth: function getWidth() {\n          return 16;\n        },\n        getVGap: function getVGap() {\n          return 80;\n        },\n        getHGap: function getHGap() {\n          return 20;\n        },\n      },\n      behaviors: ['drag-canvas', 'zoom-canvas', 'drag-element'],\n      animation: false,\n    });\n\n    graph.render();\n  });\n",title:{zh:"从上向下布局",en:"Top to Bottom CompactBox"},filename:"topToBottomCompactBox.ts",isNew:!1},{id:"compactBoxLeftAlign",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*X26MRo25GKgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      behaviors: ['drag-canvas', 'zoom-canvas', 'drag-element'],\n      node: {\n        style: {\n          labelText: (data) => data.id,\n          labelPlacement: 'right',\n          labelMaxWidth: 200,\n          size: 12,\n          lineWidth: 1,\n          fill: '#fff',\n          ports: [\n            {\n              placement: 'right',\n            },\n            {\n              placement: 'left',\n            },\n          ],\n        },\n      },\n      edge: {\n        style: {\n          type: 'cubic-horizontal',\n        },\n      },\n      layout: {\n        type: 'compact-box',\n        direction: 'LR',\n        getId: function getId(d) {\n          return d.id;\n        },\n        getHeight: function getHeight() {\n          return 16;\n        },\n        getVGap: function getVGap() {\n          return 10;\n        },\n        getHGap: function getHGap() {\n          return 100;\n        },\n        getWidth: function getWidth(d) {\n          return d.id.length + 20;\n        },\n      },\n      animation: false,\n    });\n\n    graph.render();\n  });\n",title:{zh:"节点左对齐的紧凑树",en:"CompactBox with Left Align Nodes"},filename:"compactBoxLeftAlign.ts",isNew:!1}],icon:"",id:"compactBox",title:{en:"CompactBox",zh:"CompactBox 紧凑树"},childrenKey:"demos",order:3},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*ZSuXQ4PS2F8AAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'circular',\n  },\n  node: {\n    style: {\n      size: 20,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"基本 Circular 布局",en:"Basic Circular Layout"},filename:"basic.ts",isNew:!1},{id:"degree",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*MOEeS6ooB7AAAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'circular',\n    ordering: 'degree',\n  },\n  node: {\n    style: {\n      size: 20,\n      labelText: (d) => d.id,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"按照节点度数排序的 Circular 布局",en:"Degree Ordered Circular"},filename:"degree.ts",isNew:!1},{id:"spiral",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*bY0iSqTc3z4AAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'circular',\n    startRadius: 10,\n    endRadius: 300,\n  },\n  node: {\n    style: {\n      size: 20,\n      labelText: (d) => d.id,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  edge: {\n    style: {\n      endArrow: {\n        path: 'M 0,0 L 8,4 L 8,-4 Z',\n        fill: '#e2e2e2',\n      },\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"螺旋线布局",en:"Spiral Layout"},filename:"spiral.ts",isNew:!1},{id:"division",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*u30nQahg6q0AAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'circular',\n    divisions: 5,\n    radius: 200,\n    startAngle: Math.PI / 4,\n    endAngle: Math.PI,\n  },\n  node: {\n    style: {\n      size: 20,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  edge: {\n    style: {\n      endArrow: {\n        path: 'M 0,0 L 8,4 L 8,-4 Z',\n        fill: '#e2e2e2',\n      },\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"分割环形布局",en:"Divided Circular Layout"},filename:"division.ts",isNew:!1},{id:"configurationTranslate",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*D85cS7-yqNEAAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Circular layout with radius: take full use of the canvas, ordering: topology';\nconst container = document.getElementById('container') as HTMLDivElement;\ncontainer.appendChild(descriptionDiv);\nconst graph = new Graph({\n  container: 'container',\n  layout: {\n    type: 'circular',\n  },\n  data,\n  node: {\n    style: {\n      size: 20,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  edge: {\n    style: {\n      endArrow: {\n        path: 'M 0,0 L 8,4 L 8,-4 Z',\n        fill: '#e2e2e2',\n      },\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n  animation: true,\n});\ngraph.render();\n\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    if (time) {\n      clearInterval(time);\n    }\n  });\n  window.onresize = () => {\n    if (!graph || graph.destroyed) return;\n    if (!container || !container.scrollWidth || !container.scrollHeight) return;\n    graph.resize(container.scrollWidth, container.scrollHeight - 30);\n  };\n}\n\nlayoutConfigTranslation();\n\nconst time = setInterval(function () {\n  layoutConfigTranslation();\n}, 11500);\n\n/**\n *\n * @param layoutConfig\n */\nfunction updateLayout(layoutConfig) {\n  graph.setLayout((current) => ({\n    ...current,\n    ...layoutConfig,\n  }));\n  graph.render();\n}\n\n/**\n *\n */\nfunction layoutConfigTranslation() {\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Circular layout, radius = 200, divisions = 5, ordering: degree';\n    updateLayout({\n      radius: 200,\n      startAngle: Math.PI / 4,\n      endAngle: Math.PI,\n      divisions: 5,\n      ordering: 'degree',\n    });\n  }, 1000);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Circular layout, radius = 200, divisions = 3, ordering: degree';\n    updateLayout({\n      startAngle: Math.PI / 4,\n      endAngle: Math.PI,\n      divisions: 3,\n    });\n  }, 2500);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Circular layout, radius = 200, divisions = 8, ordering: degree';\n    updateLayout({\n      radius: 200,\n      startAngle: 0,\n      endAngle: Math.PI / 2,\n      divisions: 8,\n    });\n  }, 4000);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML =\n      'Circular layout, radius = 10～300(spiral), endAngle: PI, divisions = 1, ordering: degree';\n    updateLayout({\n      radius: null,\n      startRadius: 10,\n      endRadius: 300,\n      divisions: 1,\n      startAngle: 0,\n      endAngle: Math.PI,\n    });\n  }, 5500);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML =\n      'Circular layout, radius = 10～300(spiral),endAngle: 2 * PI, divisions= 1, ordering: degree';\n    updateLayout({\n      endAngle: 2 * Math.PI,\n    });\n  }, 7000);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Circular layout, radius = 200, ordering: degree';\n    updateLayout({\n      radius: 200,\n    });\n  }, 8500);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Circular layout, radius = 200, ordering: topology';\n    updateLayout({\n      radius: 200,\n      ordering: 'topology',\n    });\n  }, 10000);\n}\n",title:{zh:"Circular 布局参数动态变化",en:"Update Configurations for Circular Layout"},filename:"configurationTranslate.ts",isNew:!1}],icon:"",id:"circular",title:{en:"Circular Layout",zh:"Circular 环形布局"},childrenKey:"demos",order:4},{demos:[{id:"basicDendrogram",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*P-qOSoDNuckAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      node: {\n        style: {\n          labelText: (d) => d.id,\n          labelPlacement: (model) => (model.style!.children?.length ? 'left' : 'right'),\n          ports: [\n            {\n              placement: 'right',\n            },\n            {\n              placement: 'left',\n            },\n          ],\n        },\n      },\n\n      edge: {\n        style: {\n          type: 'cubic-horizontal',\n        },\n      },\n      layout: {\n        type: 'dendrogram',\n        direction: 'LR', // H / V / LR / RL / TB / BT\n        nodeSep: 36,\n        rankSep: 250,\n      },\n      behaviors: ['drag-canvas', 'zoom-canvas', 'drag-element', 'collapse-expand-tree'],\n    });\n\n    graph.render();\n  });\n",title:{zh:"生态树",en:"Basic Dendrogram Layout"},filename:"basicDendrogram.ts",isNew:!1},{id:"tbDendrogram",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*nTKmRKkyUVUAAAAAAAAAAABkARQnAQ",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      node: {\n        style: (model) => {\n          const hasChildren = !!model.style!.children?.length;\n          return {\n            labelText: model.id,\n            labelPlacement: hasChildren ? 'right' : 'bottom',\n            labelMaxWidth: 200,\n            labelTextAlign: 'start',\n            transform: hasChildren ? '' : 'rotate(90deg)',\n            ports: [\n              {\n                placement: 'bottom',\n              },\n              {\n                placement: 'top',\n              },\n            ],\n          };\n        },\n      },\n\n      edge: {\n        style: {\n          type: 'cubic-vertical',\n        },\n      },\n      layout: {\n        type: 'dendrogram',\n        direction: 'TB', // H / V / LR / RL / TB / BT\n        nodeSep: 40,\n        rankSep: 100,\n      },\n      behaviors: ['drag-canvas', 'zoom-canvas', 'drag-element', 'collapse-expand-tree'],\n    });\n\n    graph.render();\n  });\n",title:{zh:"至上而下的生态树",en:"Top to Bottom Dendrogram"},filename:"tbDendrogram.ts",isNew:!1}],icon:"",id:"dendrogram",title:{en:"Dendrogram",zh:"Dendrogram 生态树"},childrenKey:"demos",order:4},{demos:[{id:"hMindmap",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*wRZjTL3fCbEAAAAAAAAAAABkARQnAQ",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      node: {\n        style: (model) => {\n          const x = +model.style!.x!;\n          return {\n            labelText: model.id,\n            size: 26,\n            labelPlacement: x > 0 ? 'right' : 'left',\n            labelMaxWidth: 200,\n            labelTextAlign: x > 0 ? 'start' : 'end',\n            lineWidth: 1,\n            stroke: '#5F95FF',\n            fill: '#EFF4FF',\n            ports: [\n              {\n                placement: 'right',\n              },\n              {\n                placement: 'left',\n              },\n            ],\n          };\n        },\n      },\n      edge: {\n        style: {\n          type: 'cubic-horizontal',\n        },\n      },\n      layout: {\n        type: 'mindmap',\n        direction: 'H',\n        getHeight: () => {\n          return 16;\n        },\n        getWidth: () => {\n          return 16;\n        },\n        getVGap: () => {\n          return 10;\n        },\n        getHGap: () => {\n          return 50;\n        },\n      },\n      behaviors: ['collapse-expand', 'drag-canvas', 'zoom-canvas'],\n    });\n\n    graph.render();\n  });\n",title:{zh:"脑图树-子节点自动两侧分布",en:"Two Side Mindmap Layout"},filename:"hMindmap.ts",isNew:!1},{id:"hRightMindmap",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*W6OGRLg2UJcAAAAAAAAAAABkARQnAQ",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      node: {\n        style: (model) => {\n          return {\n            labelText: model.id,\n            size: 26,\n            labelPlacement: 'right',\n            labelMaxWidth: 200,\n            lineWidth: 1,\n            stroke: '#5F95FF',\n            fill: '#EFF4FF',\n            ports: [\n              {\n                placement: 'right',\n              },\n              {\n                placement: 'left',\n              },\n            ],\n          };\n        },\n      },\n      edge: {\n        style: {\n          type: 'cubic-horizontal',\n        },\n      },\n      layout: {\n        type: 'mindmap',\n        direction: 'H',\n        getHeight: () => {\n          return 16;\n        },\n        getWidth: () => {\n          return 16;\n        },\n        getVGap: () => {\n          return 10;\n        },\n        getHGap: () => {\n          return 100;\n        },\n        getSide: () => {\n          return 'right';\n        },\n      },\n      behaviors: ['collapse-expand', 'drag-canvas', 'zoom-canvas'],\n    });\n\n    graph.render();\n  });\n",title:{zh:"脑图树-子节点右侧分布",en:"Right Side Mindmap Layout"},filename:"hRightMindmap.ts",isNew:!1},{id:"hLeftMindmap",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*NNUaTaN9yIgAAAAAAAAAAABkARQnAQ",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      node: {\n        style: (model) => {\n          return {\n            labelText: model.id,\n            size: 26,\n            labelPlacement: 'left',\n            labelMaxWidth: 200,\n            labelTextAlign: 'end',\n            lineWidth: 1,\n            stroke: '#5F95FF',\n            fill: '#EFF4FF',\n            ports: [\n              {\n                placement: 'right',\n              },\n              {\n                placement: 'left',\n              },\n            ],\n          };\n        },\n      },\n      edge: {\n        style: {\n          type: 'cubic-horizontal',\n        },\n      },\n      layout: {\n        type: 'mindmap',\n        direction: 'H',\n        getHeight: () => {\n          return 16;\n        },\n        getWidth: () => {\n          return 16;\n        },\n        getVGap: () => {\n          return 10;\n        },\n        getHGap: () => {\n          return 100;\n        },\n        getSide: () => {\n          return 'left';\n        },\n      },\n      behaviors: ['collapse-expand', 'drag-canvas', 'zoom-canvas'],\n    });\n\n    graph.render();\n  });\n",title:{zh:"脑图树-子节点左侧分布",en:"Left Side Mindmap Layout"},filename:"hLeftMindmap.ts",isNew:!1},{id:"hCustomSideMindmap",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*Su39QqQr9PYAAAAAAAAAAABkARQnAQ",source:"import { Graph, Utils } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'view',\n      data: Utils.treeToGraphData(data),\n      node: {\n        style: (model) => {\n          const x = +model.style!.x!;\n          return {\n            labelText: model.id,\n            size: 26,\n            labelPlacement: x > 0 ? 'right' : 'left',\n            labelMaxWidth: 200,\n            labelTextAlign: x > 0 ? 'start' : 'end',\n            lineWidth: 1,\n            stroke: '#5F95FF',\n            fill: '#EFF4FF',\n            ports: [\n              {\n                placement: 'right',\n              },\n              {\n                placement: 'left',\n              },\n            ],\n          };\n        },\n      },\n      edge: {\n        style: {\n          type: 'cubic-horizontal',\n        },\n      },\n      layout: {\n        type: 'mindmap',\n        direction: 'H',\n        getHeight: () => {\n          return 16;\n        },\n        getWidth: () => {\n          return 16;\n        },\n        getVGap: () => {\n          return 10;\n        },\n        getHGap: () => {\n          return 50;\n        },\n        getSide: (d) => {\n          if (d.id === 'Classification') {\n            return 'left';\n          }\n          return 'right';\n        },\n      },\n      behaviors: ['collapse-expand', 'drag-canvas', 'zoom-canvas'],\n    });\n\n    graph.render();\n  });\n",title:{zh:"脑图树-自定义子节点分布",en:"Custom Mindmap Layout"},filename:"hCustomSideMindmap.ts",isNew:!1}],icon:"",id:"mindmap",title:{en:"Mindmap",zh:"Mindmap 脑图树"},childrenKey:"demos",order:5},{demos:[{id:"filesystem",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*PJnfTKFRaCAAAAAAAAAAAABkARQnAQ",source:"import { Extensions, Graph, extend, stdLib } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst data = {\n  id: '1',\n  name: 'src',\n  children: [\n    {\n      id: '1-1',\n      name: 'behavior',\n      children: [],\n    },\n    {\n      id: '1-3',\n      name: 'graph',\n      children: [\n        {\n          id: '1-3-1',\n          name: 'controller',\n          children: [],\n        },\n      ],\n    },\n    {\n      id: '1-5',\n      name: 'item',\n      children: [],\n    },\n    {\n      id: '1-6',\n      name: 'shape',\n      children: [\n        {\n          id: '1-6-2',\n          name: 'extend',\n          children: [],\n        },\n      ],\n    },\n    {\n      id: '1-7',\n      name: 'util',\n      children: [],\n    },\n  ],\n};\n\nclass FileNode extends Extensions.CircleNode {\n  defaultStyles = {\n    keyShape: {},\n  };\n  drawKeyShape(model, shapeMap, diffData, diffState) {\n    const { keyShape: keyShapeStyle } = model.data;\n    return this.upsertShape(\n      'rect',\n      'keyShape',\n      {\n        ...this.defaultStyles.keyShape,\n        ...keyShapeStyle,\n        width: 50,\n        height: 10,\n        x: 10,\n        y: -12,\n        opacity: 0,\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n  }\n  drawLabelShape(model, shapeMap, diffData, diffState) {\n    const { labelShape: propsLabelStyle } = model.data;\n    return this.upsertShape(\n      'text',\n      'labelShape',\n      {\n        ...this.defaultStyles.labelShape,\n        ...propsLabelStyle,\n        x: 20,\n        y: -8,\n        fill: '#666',\n        fontSize: 12,\n        textAlign: 'left',\n        textBaseline: 'bottom',\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n  }\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { childrenIds, collapsed } = model.data;\n    const otherShapes = {};\n    if (childrenIds?.length) {\n      otherShapes.collapseMarkerShape = this.upsertShape(\n        'path',\n        'collapseMarkerShape',\n        {\n          cursor: 'pointer',\n          fill: '#666',\n          path: collapsed ? stdLib.markers.upTriangle(20, -8, 4) : stdLib.markers.downTriangle(14, -16, 4),\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n    }\n    return otherShapes;\n  }\n  balanceShapeSize() {}\n}\n\nclass StepEdge extends Extensions.PolylineEdge {\n  defaultStyles = {\n    keyShape: {},\n  };\n\n  getControlPoints(model, startPoint, endPoint) {\n    return [\n      startPoint,\n      {\n        x: startPoint.x,\n        y: endPoint.y,\n      },\n      endPoint,\n    ];\n  }\n  balanceShapeSize() {}\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'file-node': FileNode,\n  },\n  edges: {\n    'step-edge': StepEdge,\n  },\n});\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['collapse-expand-tree', 'drag-canvas', 'zoom-canvas'],\n  },\n  plugins: [\n    {\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  layout: {\n    type: 'indented',\n    isHorizontal: true,\n    direction: 'LR',\n    indent: 30,\n    getHeight: function getHeight() {\n      return 16;\n    },\n    getWidth: function getWidth() {\n      return 16;\n    },\n  },\n  node: (model) => ({\n    id: model.id,\n    data: {\n      type: 'file-node',\n      ...model.data,\n      otherShapes: {},\n      labelShape: {\n        text: model.data.name,\n      },\n      anchorPoints: [\n        [0, 0.5],\n        [0.5, 0.5],\n      ],\n      animates: {\n        update: [\n          {\n            fields: ['x', 'y'],\n            duration: 500,\n            shapeId: 'group',\n            order: 0,\n          },\n        ],\n      },\n    },\n  }),\n  edge: {\n    type: 'step-edge',\n  },\n  data: {\n    type: 'treeData',\n    value: data,\n  },\n  autoFit: 'center',\n});\n\nwindow.graph = graph;",title:{zh:"缩进树-文件系统",en:"FileSystem-Indented Layout"},filename:"filesystem.js",isNew:!1},{id:"intendAlignTop",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*kbzRRZk2t2cAAAAAAAAAAABkARQnAQ",source:"import { Graph, Extensions, extend, stdLib } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nclass CustomNode extends Extensions.CircleNode {\n  defaultStyles = {\n    keyShape: {},\n  };\n  drawKeyShape(model, shapeMap, diffData, diffState) {\n    const { keyShape: keyShapeStyle } = model.data;\n    return this.upsertShape(\n      'rect',\n      'keyShape',\n      {\n        ...this.defaultStyles.keyShape,\n        ...keyShapeStyle,\n        x: -100,\n        y: -30,\n        width: 200,\n        height: 60,\n        stroke: '#4089FF',\n        lineWidth: 1,\n        radius: 4,\n        fill: '#fff',\n        opacity: 1,\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n  }\n  drawLabelShape(model, shapeMap, diffData, diffState) {\n    const { labelShape: propsLabelStyle } = model.data;\n    return this.upsertShape(\n      'text',\n      'labelShape',\n      {\n        ...this.defaultStyles.labelShape,\n        ...propsLabelStyle,\n        textBaseline: 'top',\n        x: -100 + 8,\n        y: -30 + 2,\n        lineHeight: 20,\n        text: model.id,\n        fill: '#fff',\n        zIndex: 10,\n        wordWrap: true,\n        maxLines: 1,\n        textOverflow: 'ellipsis',\n        wordWrapWidth: 180,\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n  }\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { childrenIds, collapsed } = model.data;\n    const bbox = shapeMap.keyShape.getRenderBounds();\n    const otherShapes = {\n      titleBoxShape: this.upsertShape(\n        'rect',\n        'titleBoxShape',\n        {\n          x: -100,\n          y: -30,\n          width: 200,\n          height: 30,\n          fill: '#4089FF',\n          radius: [4, 4, 0, 0],\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n      descriptionShape: this.upsertShape(\n        'text',\n        'descriptionShape',\n        {\n          textBaseline: 'top',\n          x: -100 + 8,\n          y: 2,\n          lineHeight: 20,\n          text: 'description',\n          fill: 'rgba(0,0,0, 1)',\n          zIndex: 10,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n    };\n    if (childrenIds?.length) {\n      otherShapes.collapseMarkerShape = this.upsertShape(\n        'path',\n        'collapseMarkerShape',\n        {\n          cursor: 'pointer',\n          stroke: '#666',\n          lineWidth: 1,\n          fill: '#fff',\n          path: collapsed\n            ? stdLib.markers.expand(bbox.max[0], bbox.center[1], 6)\n            : stdLib.markers.collapse(bbox.max[0], bbox.center[1], 6),\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n    }\n    return otherShapes;\n  }\n  balanceShapeSize() {}\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'tree-card-node': CustomNode,\n  },\n  edges: {\n    'cubic-horizontal-edge': Extensions.CubicHorizontalEdge,\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new ExtGraph({\n      container,\n      width,\n      height,\n      transforms: [\n        {\n          type: 'transform-v4-data',\n          activeLifecycle: ['read'],\n        },\n      ],\n      modes: {\n        default: ['drag-canvas', 'zoom-canvas', 'drag-node', 'collapse-expand-tree'],\n      },\n      node: (model) => {\n        return {\n          id: model.id,\n          data: {\n            ...model.data,\n            anchorPoints: [\n              [0, 0.5],\n              [1, 0.5],\n            ],\n            type: 'tree-card-node',\n            otherShapes: {},\n            animates: {\n              update: [\n                {\n                  fields: ['x', 'y'],\n                  duration: 500,\n                  shapeId: 'group',\n                  order: 0,\n                },\n              ],\n              hide: [\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'labelShape',\n                },\n              ],\n              show: [\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  shapeId: 'labelShape',\n                },\n              ],\n            },\n          },\n        };\n      },\n      edge: {\n        type: 'cubic-horizontal-edge',\n      },\n      layout: {\n        type: 'indented',\n        direction: 'LR',\n        dropCap: false,\n        indent: 500,\n        getHeight: () => {\n          return 60;\n        },\n      },\n      autoFit: 'view',\n      data: {\n        type: 'treeData',\n        value: data,\n      },\n    });\n\n    window.graph = graph;\n  });\n",title:{zh:"缩进树-顶部对齐",en:"FileSystem-Align Top"},filename:"intendAlignTop.js",isNew:!1},{id:"hIntended",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*42EXSYyBcTYAAAAAAAAAAABkARQnAQ",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'cubic-horizontal-edge': Extensions.CubicHorizontalEdge,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new ExtGraph({\n      container,\n      width,\n      height,\n      transforms: [\n        {\n          type: 'transform-v4-data',\n          activeLifecycle: ['read'],\n        },\n      ],\n      modes: {\n        default: ['drag-canvas', 'zoom-canvas', 'drag-node', 'collapse-expand-tree'],\n      },\n      node: (model) => {\n        const configRelatedToLayout =\n          model.data.layoutDirection === 'TB'\n            ? {\n                labelShape: {\n                  text: model.id,\n                  position: 'bottom',\n                  offsetX: 0,\n                },\n                anchorPoints: [\n                  [0.5, 0],\n                  [0.5, 1],\n                ],\n              }\n            : {\n                labelShape: {\n                  text: model.id,\n                  position: model.data.childrenIds?.length ? 'left' : 'right',\n                  offsetX: model.data.childrenIds?.length ? -10 : 10,\n                  maxWidth: '300%',\n                },\n                anchorPoints: [\n                  [0, 0.5],\n                  [1, 0.5],\n                ],\n              };\n        return {\n          id: model.id,\n          data: {\n            ...model.data,\n            labelBackgroundShape: {},\n            ...configRelatedToLayout,\n            animates: {\n              update: [\n                {\n                  fields: ['x', 'y'],\n                  duration: 500,\n                  shapeId: 'group',\n                  order: 0,\n                },\n              ],\n              hide: [\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'labelShape',\n                },\n              ],\n              show: [\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  shapeId: 'labelShape',\n                },\n              ],\n            },\n          },\n        };\n      },\n      edge: {\n        type: 'cubic-horizontal-edge',\n      },\n      layout: {\n        type: 'indented',\n        direction: 'H',\n        indent: 80,\n        getHeight: () => {\n          return 10;\n        },\n        getWidth: () => {\n          return 10;\n        },\n        getSide: (d) => {\n          if (d.id === 'Regression' || d.id === 'Classification') return 'left';\n          return 'right';\n        },\n      },\n      autoFit: 'view',\n      data: {\n        type: 'treeData',\n        value: data,\n      },\n    });\n\nwindow.graph = graph;\n  });\n",title:{zh:"缩进树-子节点两侧分布",en:"Two Side Indented Layout"},filename:"hIntended.js",isNew:!1},{id:"graphWithIntended",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*AvvxR51CtbMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'cubic-vertical-edge': Extensions.CubicVerticalEdge,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new ExtGraph({\n      container,\n      width,\n      height,\n      transforms: [\n        {\n          type: 'transform-v4-data',\n          activeLifecycle: ['read'],\n        },\n      ],\n      modes: {\n        default: ['drag-canvas', 'zoom-canvas', 'drag-node', 'collapse-expand-tree'],\n      },\n      node: (model) => {\n        return {\n          id: model.id,\n          data: {\n            ...model.data,\n            lodLevels: [],\n            anchorPoints:\n              model.data.layoutDirection === 'TB'\n                ? [\n                    [0.5, 0],\n                    [0.5, 1],\n                  ]\n                : [\n                    [0, 0.5],\n                    [1, 0.5],\n                  ],\n            animates: {\n              update: [\n                {\n                  fields: ['x', 'y'],\n                  duration: 500,\n                  shapeId: 'group',\n                  order: 0,\n                },\n              ],\n              hide: [\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'labelShape',\n                },\n              ],\n              show: [\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  shapeId: 'labelShape',\n                },\n              ],\n            },\n          },\n        };\n      },\n      edge: {\n        type: 'cubic-vertical-edge',\n        keyShape: {\n          opacity: 0.5,\n          endArrow: true,\n        },\n      },\n      layout: {\n        type: 'indented',\n        direction: 'H',\n        indent: 80,\n        getHeight: () => {\n          return 10;\n        },\n        getWidth: () => {\n          return 10;\n        },\n        getSide: (d) => {\n          if (d.id === 'Regression' || d.id === 'Classification') return 'left';\n          return 'right';\n        },\n      },\n      autoFit: 'view',\n      data: {\n        type: 'graphData',\n        value: data,\n      },\n    });\n\nwindow.graph = graph;\n  });\n",title:{zh:"图数据使用缩进树",en:"Indented Layout with Graph Data"},filename:"graphWithIntended.js",isNew:!1}],icon:"",id:"indented",title:{en:"Indented",zh:"Indented 缩进树"},childrenKey:"demos",order:6},{demos:[{id:"basic",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*Ec_WQ5hqVsgAAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'radial',\n    unitRadius: 50,\n  },\n  node: {\n    style: {\n      labelText: (d) => d.id,\n      labelPlacement: 'center',\n      size: 20,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"基本 Radial 辐射布局",en:"Basic Radial Layout"},filename:"basic.ts",isNew:!1},{id:"preventOverlap",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*GAFjRJeAoAsAAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'radial',\n    unitRadius: 50,\n    preventOverlap: true,\n    maxPreventOverlapIteration: 100,\n  },\n  node: {\n    style: {\n      labelText: (d) => d.id,\n      labelPlacement: 'center',\n      size: () => Math.random() * 20 + 10,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  edge: {\n    style: {\n      endArrow: {\n        path: 'M 0,0 L 8,4 L 8,-4 Z',\n        fill: '#e2e2e2',\n      },\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"防止节点重叠的严格辐射布局",en:"Prevent Node Overlappings and Restrict Radial"},filename:"preventOverlap.ts",isNew:!1},{id:"preventOverlapUnstrict",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*X8rzTZyWwUcAAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'radial',\n    unitRadius: 70,\n    preventOverlap: true,\n    strictRadial: false,\n  },\n  node: {\n    style: {\n      labelText: (d) => d.id,\n      labelPlacement: 'center',\n      size: 20,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  edge: {\n    style: {\n      endArrow: {\n        path: 'M 0,0 L 8,4 L 8,-4 Z',\n        fill: '#e2e2e2',\n      },\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"防止节点重叠的非严格辐射布局",en:"Prevent Node Overlappings and Unrestrict Radial"},filename:"preventOverlapUnstrict.ts",isNew:!1},{id:"configurationTranslate",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*ikctQb9KECAAAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      label: '0',\n    },\n    {\n      id: '1',\n      label: '1',\n    },\n    {\n      id: '2',\n      label: '2',\n    },\n    {\n      id: '3',\n      label: '3',\n    },\n    {\n      id: '4',\n      label: '4',\n    },\n    {\n      id: '5',\n      label: '5',\n    },\n    {\n      id: '6',\n      label: '6',\n    },\n    {\n      id: '7',\n      label: '7',\n    },\n    {\n      id: '8',\n      label: '8',\n    },\n    {\n      id: '9',\n      label: '9',\n    },\n    {\n      id: '10',\n      label: '10',\n    },\n    {\n      id: '11',\n      label: '11',\n    },\n    {\n      id: '12',\n      label: '12',\n    },\n    {\n      id: '13',\n      label: '13',\n    },\n    {\n      id: '14',\n      label: '14',\n    },\n    {\n      id: '15',\n      label: '15',\n    },\n    {\n      id: '16',\n      label: '16',\n    },\n    {\n      id: '17',\n      label: '17',\n    },\n    {\n      id: '18',\n      label: '18',\n    },\n    {\n      id: '19',\n      label: '19',\n    },\n    {\n      id: '20',\n      label: '20',\n    },\n    {\n      id: '21',\n      label: '21',\n    },\n    {\n      id: '22',\n      label: '22',\n    },\n    {\n      id: '23',\n      label: '23',\n    },\n    {\n      id: '24',\n      label: '24',\n    },\n    {\n      id: '25',\n      label: '25',\n    },\n    {\n      id: '26',\n      label: '26',\n    },\n    {\n      id: '27',\n      label: '27',\n    },\n    {\n      id: '28',\n      label: '28',\n    },\n    {\n      id: '29',\n      label: '29',\n    },\n    {\n      id: '30',\n      label: '30',\n    },\n    {\n      id: '31',\n      label: '31',\n    },\n    {\n      id: '32',\n      label: '32',\n    },\n    {\n      id: '33',\n      label: '33',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Radial layout, focusNode =  = 0, unitRadius = 50, preventOverlap: false';\nconst container = document.getElementById('container') as HTMLDivElement;\ncontainer.appendChild(descriptionDiv);\nconst graph = new Graph({\n  container: 'container',\n  layout: {\n    type: 'radial',\n    unitRadius: 50,\n  },\n  data,\n  node: {\n    style: {\n      labelText: (d) => d.id,\n      labelPlacement: 'center',\n      size: 20,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  edge: {\n    style: {\n      endArrow: {\n        path: 'M 0,0 L 8,4 L 8,-4 Z',\n        fill: '#e2e2e2',\n      },\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n  animation: true,\n});\ngraph.render();\n\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    if (time) {\n      clearInterval(time);\n    }\n  });\n  window.onresize = () => {\n    if (!graph || graph.destroyed) return;\n    if (!container || !container.scrollWidth || !container.scrollHeight) return;\n    graph.resize(container.scrollWidth, container.scrollHeight - 30);\n  };\n}\n\nlayoutConfigTranslation();\n\nconst time = setInterval(function () {\n  layoutConfigTranslation();\n}, 11500);\n\n/**\n *\n * @param layoutConfig\n */\nfunction updateLayout(layoutConfig) {\n  graph.setLayout((current) => ({\n    ...current,\n    ...layoutConfig,\n  }));\n  graph.render();\n}\n\n/**\n *\n */\nfunction layoutConfigTranslation() {\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Radial layout, focusNode =  = 0, unitRadius = 50, preventOverlap: true';\n    updateLayout({\n      preventOverlap: true,\n      nodeSize: 20,\n    });\n  }, 1000);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Radial layout, focusNode =  = 0, unitRadius = 80, preventOverlap: true';\n    updateLayout({\n      unitRadius: 80,\n    });\n  }, 2500);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Radial layout, focusNode =  = 10, unitRadius = 80, preventOverlap: true';\n    updateLayout({\n      focusNode: '10',\n    });\n  }, 4000);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Radial layout, focusNode =  = 20, unitRadius = 80, preventOverlap: true';\n    updateLayout({\n      focusNode: '20',\n    });\n  }, 5500);\n\n  setTimeout(function () {\n    descriptionDiv.innerHTML = 'Radial layout, focusNode =  = 0, unitRadius = 50, preventOverlap: false';\n    updateLayout({\n      focusNode: '0',\n      preventOverlap: false,\n      unitRadius: 50,\n    });\n  }, 5500);\n}\n",title:{zh:"Radial 布局参数动态变化",en:"Update Configurations for Radial"},filename:"configurationTranslate.ts",isNew:!1},{id:"sort",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*gzfTQKBB62IAAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      sortAttr: 0,\n      sortAttr2: 'a',\n    },\n    {\n      id: '1',\n      sortAttr: 0,\n      sortAttr2: 'a',\n    },\n    {\n      id: '2',\n      sortAttr: 0,\n      sortAttr2: 'a',\n    },\n    {\n      id: '3',\n      sortAttr: 0,\n      sortAttr2: 'a',\n    },\n    {\n      id: '4',\n      sortAttr: 2,\n      sortAttr2: 'c',\n    },\n    {\n      id: '5',\n      sortAttr: 0,\n      sortAttr2: 'a',\n    },\n    {\n      id: '6',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '7',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '8',\n      sortAttr: 2,\n      sortAttr2: 'c',\n    },\n    {\n      id: '9',\n      sortAttr: 3,\n      sortAttr2: 'd',\n    },\n    {\n      id: '10',\n      sortAttr: 3,\n      sortAttr2: 'd',\n    },\n    {\n      id: '11',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '12',\n      sortAttr: 2,\n      sortAttr2: 'c',\n    },\n    {\n      id: '13',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '14',\n      sortAttr: 3,\n      sortAttr2: 'd',\n    },\n    {\n      id: '15',\n      sortAttr: 3,\n      sortAttr2: 'd',\n    },\n    {\n      id: '16',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '17',\n      sortAttr: 2,\n      sortAttr2: 'c',\n    },\n    {\n      id: '18',\n      sortAttr: 2,\n      sortAttr2: 'c',\n    },\n    {\n      id: '19',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '20',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '21',\n      sortAttr: 3,\n      sortAttr2: 'd',\n    },\n    {\n      id: '22',\n      sortAttr: 3,\n      sortAttr2: 'd',\n    },\n    {\n      id: '23',\n      sortAttr: 3,\n      sortAttr2: 'd',\n    },\n    {\n      id: '24',\n      sortAttr: 0,\n      sortAttr2: 'a',\n    },\n    {\n      id: '25',\n      sortAttr: 0,\n      sortAttr2: 'a',\n    },\n    {\n      id: '26',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '27',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '28',\n      sortAttr: 3,\n      sortAttr2: 'd',\n    },\n    {\n      id: '29',\n      sortAttr: 2,\n      sortAttr2: 'c',\n    },\n    {\n      id: '30',\n      sortAttr: 2,\n      sortAttr2: 'c',\n    },\n    {\n      id: '31',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '32',\n      sortAttr: 1,\n      sortAttr2: 'b',\n    },\n    {\n      id: '33',\n      sortAttr: 0,\n      sortAttr2: 'a',\n    },\n  ],\n  edges: [\n    {\n      source: '0',\n      target: '1',\n    },\n    {\n      source: '0',\n      target: '2',\n    },\n    {\n      source: '0',\n      target: '3',\n    },\n    {\n      source: '0',\n      target: '4',\n    },\n    {\n      source: '0',\n      target: '5',\n    },\n    {\n      source: '0',\n      target: '7',\n    },\n    {\n      source: '0',\n      target: '8',\n    },\n    {\n      source: '0',\n      target: '9',\n    },\n    {\n      source: '0',\n      target: '10',\n    },\n    {\n      source: '0',\n      target: '11',\n    },\n    {\n      source: '0',\n      target: '13',\n    },\n    {\n      source: '0',\n      target: '14',\n    },\n    {\n      source: '0',\n      target: '15',\n    },\n    {\n      source: '0',\n      target: '16',\n    },\n    {\n      source: '2',\n      target: '3',\n    },\n    {\n      source: '4',\n      target: '5',\n    },\n    {\n      source: '4',\n      target: '6',\n    },\n    {\n      source: '5',\n      target: '6',\n    },\n    {\n      source: '7',\n      target: '13',\n    },\n    {\n      source: '8',\n      target: '14',\n    },\n    {\n      source: '9',\n      target: '10',\n    },\n    {\n      source: '10',\n      target: '22',\n    },\n    {\n      source: '10',\n      target: '14',\n    },\n    {\n      source: '10',\n      target: '12',\n    },\n    {\n      source: '10',\n      target: '24',\n    },\n    {\n      source: '10',\n      target: '21',\n    },\n    {\n      source: '10',\n      target: '20',\n    },\n    {\n      source: '11',\n      target: '24',\n    },\n    {\n      source: '11',\n      target: '22',\n    },\n    {\n      source: '11',\n      target: '14',\n    },\n    {\n      source: '12',\n      target: '13',\n    },\n    {\n      source: '16',\n      target: '17',\n    },\n    {\n      source: '16',\n      target: '18',\n    },\n    {\n      source: '16',\n      target: '21',\n    },\n    {\n      source: '16',\n      target: '22',\n    },\n    {\n      source: '17',\n      target: '18',\n    },\n    {\n      source: '17',\n      target: '20',\n    },\n    {\n      source: '18',\n      target: '19',\n    },\n    {\n      source: '19',\n      target: '20',\n    },\n    {\n      source: '19',\n      target: '33',\n    },\n    {\n      source: '19',\n      target: '22',\n    },\n    {\n      source: '19',\n      target: '23',\n    },\n    {\n      source: '20',\n      target: '21',\n    },\n    {\n      source: '21',\n      target: '22',\n    },\n    {\n      source: '22',\n      target: '24',\n    },\n    {\n      source: '22',\n      target: '25',\n    },\n    {\n      source: '22',\n      target: '26',\n    },\n    {\n      source: '22',\n      target: '23',\n    },\n    {\n      source: '22',\n      target: '28',\n    },\n    {\n      source: '22',\n      target: '30',\n    },\n    {\n      source: '22',\n      target: '31',\n    },\n    {\n      source: '22',\n      target: '32',\n    },\n    {\n      source: '22',\n      target: '33',\n    },\n    {\n      source: '23',\n      target: '28',\n    },\n    {\n      source: '23',\n      target: '27',\n    },\n    {\n      source: '23',\n      target: '29',\n    },\n    {\n      source: '23',\n      target: '30',\n    },\n    {\n      source: '23',\n      target: '31',\n    },\n    {\n      source: '23',\n      target: '33',\n    },\n    {\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst colors = ['steelblue', 'green', 'pink', 'grey'];\nconst colorsObj = { a: 'steelblue', b: 'green', c: 'pink', d: 'grey' };\n\nconst { nodes, edges } = data;\nconst graph = new Graph({\n  container: 'container',\n  data: {\n    nodes: nodes.map((item) => ({\n      ...item,\n      lineWidth: 4,\n      fill: '#fff',\n      stroke: colors[item.sortAttr2] || colorsObj[item.sortAttr2],\n    })),\n    edges,\n  },\n  layout: {\n    type: 'radial',\n    unitRadius: 70,\n    maxIteration: 1000,\n    linkDistance: 10,\n    preventOverlap: true,\n    nodeSize: 30,\n    sortBy: 'sortAttr2',\n    sortStrength: 50,\n  },\n  node: {\n    style: {\n      labelText: (d) => d.id,\n      labelPlacement: 'center',\n      size: 20,\n      fill: '#EFF4FF',\n      lineWidth: 1,\n      stroke: '#5F95FF',\n    },\n  },\n  edge: {\n    style: {\n      endArrow: {\n        path: 'M 0,0 L 8,4 L 8,-4 Z',\n        fill: '#e2e2e2',\n      },\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"同层节点按照指定字段聚类",en:"Order the Level Nodes"},filename:"sort.ts",isNew:!1}],icon:"",id:"radialLayout",title:{en:"Radial Layout",zh:"Radial 辐射布局"},childrenKey:"demos",order:7},{demos:[{id:"radialTree",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*2eo2TaGyLZoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst layoutConfigs = {\n  Dendrogram: {\n    type: 'dendrogram',\n    direction: 'LR',\n    nodeSep: 20,\n    rankSep: 100,\n    radial: true,\n  },\n  CompactBox: {\n    type: 'compactBox',\n    direction: 'RL',\n    getId: function getId(d) {\n      return d.id;\n    },\n    getHeight: () => {\n      return 26;\n    },\n    getWidth: () => {\n      return 26;\n    },\n    getVGap: () => {\n      return 20;\n    },\n    getHGap: () => {\n      return 30;\n    },\n    radial: true,\n  },\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container,\n      width,\n      height,\n      transforms: [\n    {\n      type: 'transform-v4-data',\n      activeLifecycle: ['read'],\n    },\n  ],\n      modes: {\n        default: ['drag-canvas', 'zoom-canvas', 'drag-node', 'collapse-expand-tree'],\n      },\n      node: (model) => {\n        return {\n          id: model.id,\n          data: {\n            ...model.data,\n            labelShape: {\n              position: 'center',\n              text: model.id,\n            },\n            labelBackgroundShape: {},\n            animates: {\n              update: [\n                {\n                  fields: ['x', 'y'],\n                  duration: 500,\n                  shapeId: 'group',\n                  order: 0,\n                },\n              ],\n              hide: [\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 200,\n                  shapeId: 'labelShape',\n                },\n              ],\n              show: [\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  shapeId: 'keyShape',\n                },\n                {\n                  fields: ['opacity'],\n                  duration: 1000,\n                  shapeId: 'labelShape',\n                },\n              ],\n            },\n          },\n        };\n      },\n      layout: layoutConfigs.Dendrogram,\n      autoFit: 'view',\n      data: {\n        type: 'treeData',\n        value: data,\n      },\n    });\n\n    const btnContainer = document.createElement('div');\n    btnContainer.style.position = 'absolute';\n    container.appendChild(btnContainer);\n    const tip = document.createElement('span');\n    tip.innerHTML = '👉 Change configs:';\n    btnContainer.appendChild(tip);\n\n    Object.keys(layoutConfigs).forEach((name, i) => {\n      const btn = document.createElement('a');\n      btn.innerHTML = name;\n      btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n      btn.style.padding = '4px';\n      btn.style.marginLeft = i > 0 ? '24px' : '8px';\n      btnContainer.appendChild(btn);\n      btn.addEventListener('click', () => {\n        graph.layout(layoutConfigs[name]);\n      });\n    });\n\nwindow.graph = graph;\n  });\n",title:{zh:"辐射树",en:"Radial Layout"},filename:"radialTree.js",isNew:!1}],icon:"",id:"radialtree",title:{en:"Radial Tree",zh:"辐射树"},childrenKey:"demos",order:8},{demos:[{id:"basicArcDiagram",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*_eivQrJXt8sAAAAAAAAAAABkARQnAQ",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst edgeClusterTransform = (dataAUR = {}, options = {}, graphCore) => {\n  const { dataAdded, dataUpdated, dataRemoved } = dataAUR;\n  const handler = (data = {}, options = {}, core) => {\n    const { nodes = [], edges = [] } = data;\n    const nodeMap = new Map();\n    graphCore?.getAllNodes().forEach((node) => nodeMap.set(node.id, node));\n    nodes.forEach((node) => nodeMap.set(node.id, node));\n    edges.forEach((edge) => {\n      edge.data.cluster = nodeMap.get(edge.source)?.data.cluster;\n    });\n    return data;\n  };\n  return {\n    dataAdded: handler(dataAdded, options, graphCore),\n    dataUpdated: handler(dataUpdated, options, graphCore),\n    dataRemoved: dataRemoved,\n  };\n};\nclass LineLayout {\n  //  implements Layout<{}>\n  id = 'line-layout';\n\n  constructor(options = {}) {\n    this.options = options;\n  }\n  /**\n   * Return the positions of nodes and edges(if needed).\n   */\n  async execute(graph, options = {}) {\n    return this.genericLineLayout(false, graph, options);\n  }\n  /**\n   * To directly assign the positions to the nodes.\n   */\n  async assign(graph, options = {}) {\n    this.genericLineLayout(true, graph, options);\n  }\n\n  async genericLineLayout(assign, graph, options = {}) {\n    const { height = 500 } = { ...this.options, ...options };\n\n    const nodes = graph.getAllNodes();\n    const edges = graph.getAllEdges();\n    const layoutNodes = [];\n    let x = 10;\n    let lastNodeRadius = 0;\n    nodes.forEach((node, i) => {\n      const currentRadius = node.data.keyShape?.r || 16;\n      if (i > 0) {\n        x = layoutNodes[i - 1].data.x + lastNodeRadius + currentRadius + 4;\n      }\n      layoutNodes.push({\n        id: node.id,\n        data: {\n          x,\n          y: height * 0.7,\n        },\n      });\n      lastNodeRadius = currentRadius;\n    });\n    const result = {\n      nodes: layoutNodes,\n      edges,\n    };\n\n    if (assign) {\n      layoutNodes.forEach((node) => {\n        graph.mergeNodeData(node.id, {\n          x: node.data.x,\n          y: node.data.y,\n        });\n      });\n    }\n    return result;\n  }\n}\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'quadratic-edge': Extensions.QuadraticEdge,\n  },\n  transforms: {\n    'edge-cluster': edgeClusterTransform,\n    'transform-v4-data': Extensions.TransformV4Data,\n  },\n  layouts: {\n    'line-layout': LineLayout,\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/70cde3be-22e8-4291-98f1-4d5a5b75b62f.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new ExtGraph({\n      container: 'container',\n      width,\n      height,\n      autoFit: 'view',\n      transforms: ['transform-v4-data', 'edge-cluster'],\n      plugins: [\n        {\n          type: 'lod-controller',\n          disableLod: true,\n        },\n      ],\n      layout: { type: 'line-layout' },\n      theme: {\n        type: 'spec',\n        specification: {\n          node: {\n            dataTypeField: 'cluster',\n          },\n          edge: {\n            dataTypeField: 'cluster',\n          },\n        },\n      },\n      node: {\n        keyShape: {\n          r: 8,\n        },\n        labelShape: {\n          text: {\n            fields: ['name'],\n            formatter: (model) => model.data.name,\n          },\n          angle: Math.PI / 2,\n          textAlign: 'left',\n          offsetX: 10,\n          maxWidth: 100,\n        },\n        anchorPoints: [[0.5, 0]],\n      },\n      edge: {\n        type: 'quadratic-edge',\n        keyShape: {\n          opacity: 0.4,\n        },\n      },\n      modes: {\n        default: ['click-select', 'drag-canvas', 'drag-node'],\n      },\n      data,\n    });\n\n    graph.on('afterlayout', (e) => {\n      const edgeDatas = graph.getAllEdgesData().map((edge) => {\n        const { id, source, target } = edge;\n        const sourceData = graph.getNodeData(source);\n        const targetData = graph.getNodeData(target);\n        const [width, height] = graph.getSize();\n        const xSep = (width - 20) / graph.getAllNodesData().length;\n        const endsSepStep = (targetData.data.x - sourceData.data.x) / xSep;\n        const sign = endsSepStep < 0 ? 1 : -1;\n        return {\n          id,\n          data: {\n            keyShape: {\n              curveOffset: ((sign * width) / 55) * Math.ceil(Math.abs(endsSepStep)),\n            },\n          },\n        };\n      });\n      graph.updateData('edge', edgeDatas);\n    });\n\nwindow.graph = graph;\n  });\n",title:{zh:"基本弧线图",en:"Basic Arc Diagram"},filename:"basicArcDiagram.js",isNew:!1},{id:"circularArcDiagram",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*o-tESYnAAJYAAAAAAAAAAABkARQnAQ",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst edgeClusterTransform = (data = {}, options = {}, graphCore) => {\n  const { dataAdded, dataUpdated, dataRemoved } = data;\n  const handler = (data = {}, options = {}, core) => {\n    const { nodes = [], edges = [] } = data;\n    const nodeMap = new Map();\n    nodes.forEach((node) => nodeMap.set(node.id, node));\n    edges.forEach((edge) => {\n      edge.data.cluster = nodeMap.get(edge.source).data.cluster;\n    });\n    return data;\n  };\n  return {\n    dataAdded: handler(dataAdded, options, graphCore),\n    dataUpdated: handler(dataUpdated, options, graphCore),\n    dataRemoved: handler(dataRemoved, options, graphCore),\n  };\n};\n\nconst ExtGraph = extend(Graph, {\n  transforms: {\n    'edge-cluster': edgeClusterTransform,\n    'transform-v4-data': Extensions.TransformV4Data,\n    'map-node-size': Extensions.MapNodeSize,\n  },\n  edges: {\n    'quadratic-edge': Extensions.QuadraticEdge,\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/70cde3be-22e8-4291-98f1-4d5a5b75b62f.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new ExtGraph({\n      container: 'container',\n      width,\n      height,\n      transforms: [\n        'transform-v4-data',\n        {\n          type: 'map-node-size',\n          field: 'value',\n        },\n        'edge-cluster',\n      ],\n      plugins: [\n        {\n          type: 'lod-controller',\n          disableLod: true,\n        },\n      ],\n      layout: {\n        type: 'circular',\n      },\n      theme: {\n        type: 'spec',\n        specification: {\n          node: {\n            dataTypeField: 'cluster',\n          },\n          edge: {\n            dataTypeField: 'cluster',\n          },\n        },\n      },\n      node: (model) => {\n        return {\n          id: model.id,\n          data: {\n            ...model.data,\n            labelShape: {\n              position: 'right',\n              textAlign: 'left',\n              offsetX: 0,\n              offsetY: 0,\n              ...model.data.labelShape,\n              text: model.data.name,\n              maxWidth: 100,\n            },\n            animates: {\n              update: [\n                {\n                  fields: ['opacity'],\n                  shapeId: 'haloShape',\n                },\n                {\n                  fields: ['lineWidth'],\n                  shapeId: 'keyShape',\n                },\n              ],\n            },\n          },\n        };\n      },\n      edge: {\n        type: 'quadratic-edge',\n        keyShape: {\n          opacity: 0.4,\n          controlPoints: [{ x: width / 2, y: height / 2 }],\n        },\n      },\n      modes: {\n        default: ['drag-node', 'click-select', 'zoom-canvas', 'drag-canvas'],\n      },\n      data,\n    });\n    graph.on('afterlayout', (e) => {\n      const angleUpdates = graph.getAllNodesData().map((node) => {\n        const { x, y } = node.data;\n        const vecX = x - width / 2;\n        const vecY = y - height / 2;\n        const dist = Math.sqrt(vecX * vecX + vecY * vecY);\n        let angle = Math.asin(vecY / dist);\n        if (vecX < 0) angle = -angle;\n        return {\n          id: node.id,\n          data: {\n            labelShape: {\n              position: vecX < 0 ? 'center' : 'right',\n              textAlign: vecX < 0 ? 'right' : 'left',\n              angle,\n            },\n          },\n        };\n      });\n      graph.updateData('node', angleUpdates);\n      graph.fitView();\n    });\nwindow.graph = graph;\n  });\n",title:{zh:"环形弧线图",en:"Circular Arc Diagram"},filename:"circularArcDiagram.js",isNew:!1}],icon:"",id:"arcDiagram",title:{en:"Arc Diagram",zh:"Arc Diagram 弧线图"},childrenKey:"demos",order:9},{demos:[{id:"basicConcentric",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*KXunQKOLCSAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/8dacf27e-e1bc-4522-b6d3-4b6d9b9ed7df.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      autoFit: 'center',\n      data,\n      layout: {\n        type: 'concentric',\n        maxLevelDiff: 0.5,\n        sortBy: 'degree',\n        preventOverlap: true,\n      },\n      node: {\n        style: {\n          size: 5,\n          stroke: '#5B8FF9',\n          fill: '#C6E5FF',\n          lineWidth: 1,\n        },\n      },\n      edge: {\n        style: {\n          stroke: '#E2E2E2',\n        },\n      },\n      behaviors: ['zoom-canvas', 'drag-canvas', 'drag-element'],\n      animation: false,\n    });\n\n    graph.render();\n  });\n",title:{zh:"基本 Concentric 同心圆布局",en:"Basic Concentric Layout"},filename:"basicConcentric.ts",isNew:!1}],icon:"",id:"concentricLayout",title:{en:"Concentric Layout",zh:"Concentric 同心圆布局"},childrenKey:"demos",order:10},{demos:[{id:"grid",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*8RYVTrENVCcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      data: {\n        label: '0',\n        cluster: '0',\n      },\n    },\n    {\n      id: '1',\n      data: {\n        label: '1',\n        cluster: '0',\n      },\n    },\n    {\n      id: '2',\n      data: {\n        label: '2',\n        cluster: '0',\n      },\n    },\n    {\n      id: '3',\n      data: {\n        label: '3',\n        cluster: '0',\n      },\n    },\n    {\n      id: '4',\n      data: {\n        label: '4',\n        cluster: '0',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        label: '5',\n        cluster: '3',\n      },\n    },\n    {\n      id: '6',\n      data: {\n        label: '6',\n        cluster: '0',\n      },\n    },\n    {\n      id: '7',\n      data: {\n        label: '7',\n        cluster: '0',\n      },\n    },\n    {\n      id: '8',\n      data: {\n        label: '8',\n        cluster: '0',\n      },\n    },\n    {\n      id: '9',\n      data: {\n        label: '9',\n        cluster: '3',\n      },\n    },\n    {\n      id: '10',\n      data: {\n        label: '10',\n        cluster: '3',\n      },\n    },\n    {\n      id: '11',\n      data: {\n        label: '11',\n        cluster: '2',\n      },\n    },\n    {\n      id: '12',\n      data: {\n        label: '12',\n        cluster: '2',\n      },\n    },\n    {\n      id: '13',\n      data: {\n        label: '13',\n        cluster: '4',\n      },\n    },\n    {\n      id: '14',\n      data: {\n        label: '14',\n        cluster: '2',\n      },\n    },\n    {\n      id: '15',\n      data: {\n        label: '15',\n        cluster: '2',\n      },\n    },\n    {\n      id: '16',\n      data: {\n        label: '16',\n        cluster: '2',\n      },\n    },\n    {\n      id: '17',\n      data: {\n        label: '17',\n        cluster: '1',\n      },\n    },\n    {\n      id: '18',\n      data: {\n        label: '18',\n        cluster: '4',\n      },\n    },\n    {\n      id: '19',\n      data: {\n        label: '19',\n        cluster: '4',\n      },\n    },\n    {\n      id: '20',\n      data: {\n        label: '20',\n        cluster: '4',\n      },\n    },\n    {\n      id: '21',\n      data: {\n        label: '21',\n        cluster: '0',\n      },\n    },\n    {\n      id: '22',\n      data: {\n        label: '22',\n        cluster: '2',\n      },\n    },\n    {\n      id: '23',\n      data: {\n        label: '23',\n        cluster: '2',\n      },\n    },\n    {\n      id: '24',\n      data: {\n        label: '24',\n        cluster: '2',\n      },\n    },\n    {\n      id: '25',\n      data: {\n        label: '25',\n        cluster: '3',\n      },\n    },\n    {\n      id: '26',\n      data: {\n        label: '26',\n        cluster: '4',\n      },\n    },\n    {\n      id: '27',\n      data: {\n        label: '27',\n        cluster: '4',\n      },\n    },\n    {\n      id: '28',\n      data: {\n        label: '28',\n        cluster: '1',\n      },\n    },\n    {\n      id: '29',\n      data: {\n        label: '29',\n        cluster: '1',\n      },\n    },\n    {\n      id: '30',\n      data: {\n        label: '30',\n        cluster: '4',\n      },\n    },\n    {\n      id: '31',\n      data: {\n        label: '31',\n        cluster: '4',\n      },\n    },\n    {\n      id: '32',\n      data: {\n        label: '32',\n        cluster: '1',\n      },\n    },\n    {\n      id: '33',\n      data: {\n        label: '33',\n        cluster: '2',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-0',\n      source: '0',\n      target: '1',\n      data: {},\n    },\n    {\n      id: 'edge-1',\n      source: '0',\n      target: '2',\n      data: {},\n    },\n    {\n      id: 'edge-2',\n      source: '0',\n      target: '3',\n      data: {},\n    },\n    {\n      id: 'edge-3',\n      source: '0',\n      target: '4',\n      data: {},\n    },\n    {\n      id: 'edge-4',\n      source: '0',\n      target: '5',\n      data: {},\n    },\n    {\n      id: 'edge-5',\n      source: '0',\n      target: '7',\n      data: {},\n    },\n    {\n      id: 'edge-6',\n      source: '0',\n      target: '8',\n      data: {},\n    },\n    {\n      id: 'edge-7',\n      source: '0',\n      target: '9',\n      data: {},\n    },\n    {\n      id: 'edge-8',\n      source: '0',\n      target: '10',\n      data: {},\n    },\n    {\n      id: 'edge-9',\n      source: '0',\n      target: '11',\n      data: {},\n    },\n    {\n      id: 'edge-10',\n      source: '0',\n      target: '13',\n      data: {},\n    },\n    {\n      id: 'edge-11',\n      source: '0',\n      target: '14',\n      data: {},\n    },\n    {\n      id: 'edge-12',\n      source: '0',\n      target: '15',\n      data: {},\n    },\n    {\n      id: 'edge-13',\n      source: '0',\n      target: '16',\n      data: {},\n    },\n    {\n      id: 'edge-14',\n      source: '2',\n      target: '3',\n      data: {},\n    },\n    {\n      id: 'edge-15',\n      source: '4',\n      target: '5',\n      data: {},\n    },\n    {\n      id: 'edge-16',\n      source: '4',\n      target: '6',\n      data: {},\n    },\n    {\n      id: 'edge-17',\n      source: '5',\n      target: '6',\n      data: {},\n    },\n    {\n      id: 'edge-18',\n      source: '7',\n      target: '13',\n      data: {},\n    },\n    {\n      id: 'edge-19',\n      source: '8',\n      target: '14',\n      data: {},\n    },\n    {\n      id: 'edge-20',\n      source: '9',\n      target: '10',\n      data: {},\n    },\n    {\n      id: 'edge-21',\n      source: '10',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-22',\n      source: '10',\n      target: '14',\n      data: {},\n    },\n    {\n      id: 'edge-23',\n      source: '10',\n      target: '12',\n      data: {},\n    },\n    {\n      id: 'edge-24',\n      source: '10',\n      target: '24',\n      data: {},\n    },\n    {\n      id: 'edge-25',\n      source: '10',\n      target: '21',\n      data: {},\n    },\n    {\n      id: 'edge-26',\n      source: '10',\n      target: '20',\n      data: {},\n    },\n    {\n      id: 'edge-27',\n      source: '11',\n      target: '24',\n      data: {},\n    },\n    {\n      id: 'edge-28',\n      source: '11',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-29',\n      source: '11',\n      target: '14',\n      data: {},\n    },\n    {\n      id: 'edge-30',\n      source: '12',\n      target: '13',\n      data: {},\n    },\n    {\n      id: 'edge-31',\n      source: '16',\n      target: '17',\n      data: {},\n    },\n    {\n      id: 'edge-32',\n      source: '16',\n      target: '18',\n      data: {},\n    },\n    {\n      id: 'edge-33',\n      source: '16',\n      target: '21',\n      data: {},\n    },\n    {\n      id: 'edge-34',\n      source: '16',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-35',\n      source: '17',\n      target: '18',\n      data: {},\n    },\n    {\n      id: 'edge-36',\n      source: '17',\n      target: '20',\n      data: {},\n    },\n    {\n      id: 'edge-37',\n      source: '18',\n      target: '19',\n      data: {},\n    },\n    {\n      id: 'edge-38',\n      source: '19',\n      target: '20',\n      data: {},\n    },\n    {\n      id: 'edge-39',\n      source: '19',\n      target: '33',\n      data: {},\n    },\n    {\n      id: 'edge-40',\n      source: '19',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-41',\n      source: '19',\n      target: '23',\n      data: {},\n    },\n    {\n      id: 'edge-42',\n      source: '20',\n      target: '21',\n      data: {},\n    },\n    {\n      id: 'edge-43',\n      source: '21',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-44',\n      source: '22',\n      target: '24',\n      data: {},\n    },\n    {\n      id: 'edge-45',\n      source: '22',\n      target: '25',\n      data: {},\n    },\n    {\n      id: 'edge-46',\n      source: '22',\n      target: '26',\n      data: {},\n    },\n    {\n      id: 'edge-47',\n      source: '22',\n      target: '23',\n      data: {},\n    },\n    {\n      id: 'edge-48',\n      source: '22',\n      target: '28',\n      data: {},\n    },\n    {\n      id: 'edge-49',\n      source: '22',\n      target: '30',\n      data: {},\n    },\n    {\n      id: 'edge-50',\n      source: '22',\n      target: '31',\n      data: {},\n    },\n    {\n      id: 'edge-51',\n      source: '22',\n      target: '32',\n      data: {},\n    },\n    {\n      id: 'edge-52',\n      source: '22',\n      target: '33',\n      data: {},\n    },\n    {\n      id: 'edge-53',\n      source: '23',\n      target: '28',\n      data: {},\n    },\n    {\n      id: 'edge-54',\n      source: '23',\n      target: '27',\n      data: {},\n    },\n    {\n      id: 'edge-55',\n      source: '23',\n      target: '29',\n      data: {},\n    },\n    {\n      id: 'edge-56',\n      source: '23',\n      target: '30',\n      data: {},\n    },\n    {\n      id: 'edge-57',\n      source: '23',\n      target: '31',\n      data: {},\n    },\n    {\n      id: 'edge-58',\n      source: '23',\n      target: '33',\n      data: {},\n    },\n    {\n      id: 'edge-59',\n      source: '32',\n      target: '33',\n      data: {},\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'grid',\n    sortBy: 'id',\n  },\n  node: {\n    style: {\n      size: 20,\n      stroke: '#ccc',\n      lineWidth: 1,\n      labelText: (d) => d.id,\n    },\n    palette: {\n      type: 'group',\n      field: 'cluster',\n      color: 'antv',\n    },\n  },\n  behaviors: ['zoom-canvas', 'drag-canvas', 'drag-element', 'click-select'],\n  animation: true,\n});\n\ngraph.render();\n\n/** Below is the buttons.  */\nconst SORT_BY = {\n  ID: 'id',\n  Degree: 'degree',\n  Cluster: (n1, n2) => Number(n2.data.cluster) - Number(n1.data.cluster),\n};\n\nconst container = document.getElementById('container');\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Grid layout soryBy: ';\nbtnContainer.appendChild(tip);\n\nObject.keys(SORT_BY).forEach((name, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = name;\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', () => {\n    graph.setLayout({ type: 'grid', sortBy: name.toLowerCase() });\n    graph.layout();\n  });\n});\n",title:{zh:"Grid 网格布局",en:"Grid Layout"},filename:"grid.ts",isNew:!1}],icon:"",id:"gridLayout",title:{en:"Grid",zh:"Grid 网格布局"},childrenKey:"demos",order:11},{demos:[{id:"basicMDS",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*myM6T6R_d34AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      data: {\n        label: '0',\n      },\n    },\n    {\n      id: '1',\n      data: {\n        label: '1',\n      },\n    },\n    {\n      id: '2',\n      data: {\n        label: '2',\n      },\n    },\n    {\n      id: '3',\n      data: {\n        label: '3',\n      },\n    },\n    {\n      id: '4',\n      data: {\n        label: '4',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        label: '5',\n      },\n    },\n    {\n      id: '6',\n      data: {\n        label: '6',\n      },\n    },\n    {\n      id: '7',\n      data: {\n        label: '7',\n      },\n    },\n    {\n      id: '8',\n      data: {\n        label: '8',\n      },\n    },\n    {\n      id: '9',\n      data: {\n        label: '9',\n      },\n    },\n    {\n      id: '10',\n      data: {\n        label: '10',\n      },\n    },\n    {\n      id: '11',\n      data: {\n        label: '11',\n      },\n    },\n    {\n      id: '12',\n      data: {\n        label: '12',\n      },\n    },\n    {\n      id: '13',\n      data: {\n        label: '13',\n      },\n    },\n    {\n      id: '14',\n      data: {\n        label: '14',\n      },\n    },\n    {\n      id: '15',\n      data: {\n        label: '15',\n      },\n    },\n    {\n      id: '16',\n      data: {\n        label: '16',\n      },\n    },\n    {\n      id: '17',\n      data: {\n        label: '17',\n      },\n    },\n    {\n      id: '18',\n      data: {\n        label: '18',\n      },\n    },\n    {\n      id: '19',\n      data: {\n        label: '19',\n      },\n    },\n    {\n      id: '20',\n      data: {\n        label: '20',\n      },\n    },\n    {\n      id: '21',\n      data: {\n        label: '21',\n      },\n    },\n    {\n      id: '22',\n      data: {\n        label: '22',\n      },\n    },\n    {\n      id: '23',\n      data: {\n        label: '23',\n      },\n    },\n    {\n      id: '24',\n      data: {\n        label: '24',\n      },\n    },\n    {\n      id: '25',\n      data: {\n        label: '25',\n      },\n    },\n    {\n      id: '26',\n      data: {\n        label: '26',\n      },\n    },\n    {\n      id: '27',\n      data: {\n        label: '27',\n      },\n    },\n    {\n      id: '28',\n      data: {\n        label: '28',\n      },\n    },\n    {\n      id: '29',\n      data: {\n        label: '29',\n      },\n    },\n    {\n      id: '30',\n      data: {\n        label: '30',\n      },\n    },\n    {\n      id: '31',\n      data: {\n        label: '31',\n      },\n    },\n    {\n      id: '32',\n      data: {\n        label: '32',\n      },\n    },\n    {\n      id: '33',\n      data: {\n        label: '33',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-667',\n      source: '0',\n      target: '1',\n      data: {},\n    },\n    {\n      id: 'edge-997',\n      source: '0',\n      target: '2',\n      data: {},\n    },\n    {\n      id: 'edge-422',\n      source: '0',\n      target: '3',\n      data: {},\n    },\n    {\n      id: 'edge-188',\n      source: '0',\n      target: '4',\n      data: {},\n    },\n    {\n      id: 'edge-332',\n      source: '0',\n      target: '5',\n      data: {},\n    },\n    {\n      id: 'edge-148',\n      source: '0',\n      target: '7',\n      data: {},\n    },\n    {\n      id: 'edge-883',\n      source: '0',\n      target: '8',\n      data: {},\n    },\n    {\n      id: 'edge-532',\n      source: '0',\n      target: '9',\n      data: {},\n    },\n    {\n      id: 'edge-968',\n      source: '0',\n      target: '10',\n      data: {},\n    },\n    {\n      id: 'edge-965',\n      source: '0',\n      target: '11',\n      data: {},\n    },\n    {\n      id: 'edge-285',\n      source: '0',\n      target: '13',\n      data: {},\n    },\n    {\n      id: 'edge-320',\n      source: '0',\n      target: '14',\n      data: {},\n    },\n    {\n      id: 'edge-644',\n      source: '0',\n      target: '15',\n      data: {},\n    },\n    {\n      id: 'edge-208',\n      source: '0',\n      target: '16',\n      data: {},\n    },\n    {\n      id: 'edge-690',\n      source: '2',\n      target: '3',\n      data: {},\n    },\n    {\n      id: 'edge-481',\n      source: '4',\n      target: '5',\n      data: {},\n    },\n    {\n      id: 'edge-956',\n      source: '4',\n      target: '6',\n      data: {},\n    },\n    {\n      id: 'edge-344',\n      source: '5',\n      target: '6',\n      data: {},\n    },\n    {\n      id: 'edge-618',\n      source: '7',\n      target: '13',\n      data: {},\n    },\n    {\n      id: 'edge-793',\n      source: '8',\n      target: '14',\n      data: {},\n    },\n    {\n      id: 'edge-330',\n      source: '9',\n      target: '10',\n      data: {},\n    },\n    {\n      id: 'edge-977',\n      source: '10',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-633',\n      source: '10',\n      target: '14',\n      data: {},\n    },\n    {\n      id: 'edge-809',\n      source: '10',\n      target: '12',\n      data: {},\n    },\n    {\n      id: 'edge-535',\n      source: '10',\n      target: '24',\n      data: {},\n    },\n    {\n      id: 'edge-665',\n      source: '10',\n      target: '21',\n      data: {},\n    },\n    {\n      id: 'edge-202',\n      source: '10',\n      target: '20',\n      data: {},\n    },\n    {\n      id: 'edge-803',\n      source: '11',\n      target: '24',\n      data: {},\n    },\n    {\n      id: 'edge-276',\n      source: '11',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-588',\n      source: '11',\n      target: '14',\n      data: {},\n    },\n    {\n      id: 'edge-709',\n      source: '12',\n      target: '13',\n      data: {},\n    },\n    {\n      id: 'edge-207',\n      source: '16',\n      target: '17',\n      data: {},\n    },\n    {\n      id: 'edge-795',\n      source: '16',\n      target: '18',\n      data: {},\n    },\n    {\n      id: 'edge-321',\n      source: '16',\n      target: '21',\n      data: {},\n    },\n    {\n      id: 'edge-97',\n      source: '16',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-522',\n      source: '17',\n      target: '18',\n      data: {},\n    },\n    {\n      id: 'edge-368',\n      source: '17',\n      target: '20',\n      data: {},\n    },\n    {\n      id: 'edge-769',\n      source: '18',\n      target: '19',\n      data: {},\n    },\n    {\n      id: 'edge-673',\n      source: '19',\n      target: '20',\n      data: {},\n    },\n    {\n      id: 'edge-589',\n      source: '19',\n      target: '33',\n      data: {},\n    },\n    {\n      id: 'edge-574',\n      source: '19',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-466',\n      source: '19',\n      target: '23',\n      data: {},\n    },\n    {\n      id: 'edge-400',\n      source: '20',\n      target: '21',\n      data: {},\n    },\n    {\n      id: 'edge-552',\n      source: '21',\n      target: '22',\n      data: {},\n    },\n    {\n      id: 'edge-192',\n      source: '22',\n      target: '24',\n      data: {},\n    },\n    {\n      id: 'edge-119',\n      source: '22',\n      target: '25',\n      data: {},\n    },\n    {\n      id: 'edge-305',\n      source: '22',\n      target: '26',\n      data: {},\n    },\n    {\n      id: 'edge-518',\n      source: '22',\n      target: '23',\n      data: {},\n    },\n    {\n      id: 'edge-950',\n      source: '22',\n      target: '28',\n      data: {},\n    },\n    {\n      id: 'edge-57',\n      source: '22',\n      target: '30',\n      data: {},\n    },\n    {\n      id: 'edge-634',\n      source: '22',\n      target: '31',\n      data: {},\n    },\n    {\n      id: 'edge-875',\n      source: '22',\n      target: '32',\n      data: {},\n    },\n    {\n      id: 'edge-559',\n      source: '22',\n      target: '33',\n      data: {},\n    },\n    {\n      id: 'edge-894',\n      source: '23',\n      target: '28',\n      data: {},\n    },\n    {\n      id: 'edge-831',\n      source: '23',\n      target: '27',\n      data: {},\n    },\n    {\n      id: 'edge-172',\n      source: '23',\n      target: '29',\n      data: {},\n    },\n    {\n      id: 'edge-137',\n      source: '23',\n      target: '30',\n      data: {},\n    },\n    {\n      id: 'edge-136',\n      source: '23',\n      target: '31',\n      data: {},\n    },\n    {\n      id: 'edge-878',\n      source: '23',\n      target: '33',\n      data: {},\n    },\n    {\n      id: 'edge-121',\n      source: '32',\n      target: '33',\n      data: {},\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  padding: 20,\n  autoFit: 'view',\n  data,\n  layout: {\n    type: 'mds',\n    linkDistance: 100,\n  },\n  node: {\n    style: {\n      size: 20,\n      stroke: '#9ec9ff',\n      fill: '#eee',\n      lineWidth: 1,\n      labelText: (d) => d.id,\n      labelFontSize: 12,\n      labelPlacement: 'center',\n      labelBackground: false,\n    },\n  },\n  behaviors: ['drag-element', 'drag-canvas', 'zoom-canvas', 'click-select'],\n  animation: true,\n});\n\ngraph.render();\n",title:{zh:"基本 MDS 布局",en:"Basic MDS Layout"},filename:"basicMDS.ts",isNew:!1}],icon:"",id:"mdsLayout",title:{en:"MDS Layout",zh:"MDS 布局"},childrenKey:"demos",order:12},{demos:[{id:"basicFruchterman",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*1KY7SLEXxqMAAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: '0', data: { cluster: 'a' } },\n    { id: '1', data: { cluster: 'a' } },\n    { id: '2', data: { cluster: 'a' } },\n    { id: '3', data: { cluster: 'a' } },\n    { id: '4', data: { cluster: 'a' } },\n    { id: '5', data: { cluster: 'a' } },\n    { id: '6', data: { cluster: 'a' } },\n    { id: '7', data: { cluster: 'a' } },\n    { id: '8', data: { cluster: 'a' } },\n    { id: '9', data: { cluster: 'a' } },\n    { id: '10', data: { cluster: 'a' } },\n    { id: '11', data: { cluster: 'a' } },\n    { id: '12', data: { cluster: 'a' } },\n    { id: '13', data: { cluster: 'b' } },\n    { id: '14', data: { cluster: 'b' } },\n    { id: '15', data: { cluster: 'b' } },\n    { id: '16', data: { cluster: 'b' } },\n    { id: '17', data: { cluster: 'b' } },\n    { id: '18', data: { cluster: 'c' } },\n    { id: '19', data: { cluster: 'c' } },\n    { id: '20', data: { cluster: 'c' } },\n    { id: '21', data: { cluster: 'c' } },\n    { id: '22', data: { cluster: 'c' } },\n    { id: '23', data: { cluster: 'c' } },\n    { id: '24', data: { cluster: 'c' } },\n    { id: '25', data: { cluster: 'c' } },\n    { id: '26', data: { cluster: 'c' } },\n    { id: '27', data: { cluster: 'c' } },\n    { id: '28', data: { cluster: 'c' } },\n    { id: '29', data: { cluster: 'c' } },\n    { id: '30', data: { cluster: 'c' } },\n    { id: '31', data: { cluster: 'd' } },\n    { id: '32', data: { cluster: 'd' } },\n    { id: '33', data: { cluster: 'd' } },\n  ],\n  edges: [\n    { source: '0', target: '1' },\n    { source: '0', target: '2' },\n    { source: '0', target: '3' },\n    { source: '0', target: '4' },\n    { source: '0', target: '5' },\n    { source: '0', target: '7' },\n    { source: '0', target: '8' },\n    { source: '0', target: '9' },\n    { source: '0', target: '10' },\n    { source: '0', target: '11' },\n    { source: '0', target: '13' },\n    { source: '0', target: '14' },\n    { source: '0', target: '15' },\n    { source: '0', target: '16' },\n    { source: '2', target: '3' },\n    { source: '4', target: '5' },\n    { source: '4', target: '6' },\n    { source: '5', target: '6' },\n    { source: '7', target: '13' },\n    { source: '8', target: '14' },\n    { source: '9', target: '10' },\n    { source: '10', target: '22' },\n    { source: '10', target: '14' },\n    { source: '10', target: '12' },\n    { source: '10', target: '24' },\n    { source: '10', target: '21' },\n    { source: '10', target: '20' },\n    { source: '11', target: '24' },\n    { source: '11', target: '22' },\n    { source: '11', target: '14' },\n    { source: '12', target: '13' },\n    { source: '16', target: '17' },\n    { source: '16', target: '18' },\n    { source: '16', target: '21' },\n    { source: '16', target: '22' },\n    { source: '17', target: '18' },\n    { source: '17', target: '20' },\n    { source: '18', target: '19' },\n    { source: '19', target: '20' },\n    { source: '19', target: '33' },\n    { source: '19', target: '22' },\n    { source: '19', target: '23' },\n    { source: '20', target: '21' },\n    { source: '21', target: '22' },\n    { source: '22', target: '24' },\n    { source: '22', target: '25' },\n    { source: '22', target: '26' },\n    { source: '22', target: '23' },\n    { source: '22', target: '28' },\n    { source: '22', target: '30' },\n    { source: '22', target: '31' },\n    { source: '22', target: '32' },\n    { source: '22', target: '33' },\n    { source: '23', target: '28' },\n    { source: '23', target: '27' },\n    { source: '23', target: '29' },\n    { source: '23', target: '30' },\n    { source: '23', target: '31' },\n    { source: '23', target: '33' },\n    { source: '32', target: '33' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'fruchterman',\n    gravity: 5,\n    speed: 5,\n    animated: true,\n    clustering: false,\n  },\n  node: {\n    style: {\n      size: 20,\n      stroke: '#5B8FF9',\n      fill: '#C6E5FF',\n      lineWidth: 1,\n      labelPlacement: 'center',\n      labelText: (d) => d.id,\n      labelBackground: false,\n    },\n  },\n  animation: true,\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"基本 Fruchterman 布局",en:"Basic Fruchterman Layout"},filename:"basicFruchterman.ts",isNew:!1},{id:"fruchtermanCluster",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-s9CTphuwgcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: '0', data: { cluster: 'a' } },\n    { id: '1', data: { cluster: 'a' } },\n    { id: '2', data: { cluster: 'a' } },\n    { id: '3', data: { cluster: 'a' } },\n    { id: '4', data: { cluster: 'a' } },\n    { id: '5', data: { cluster: 'a' } },\n    { id: '6', data: { cluster: 'a' } },\n    { id: '7', data: { cluster: 'a' } },\n    { id: '8', data: { cluster: 'a' } },\n    { id: '9', data: { cluster: 'a' } },\n    { id: '10', data: { cluster: 'a' } },\n    { id: '11', data: { cluster: 'a' } },\n    { id: '12', data: { cluster: 'a' } },\n    { id: '13', data: { cluster: 'b' } },\n    { id: '14', data: { cluster: 'b' } },\n    { id: '15', data: { cluster: 'b' } },\n    { id: '16', data: { cluster: 'b' } },\n    { id: '17', data: { cluster: 'b' } },\n    { id: '18', data: { cluster: 'c' } },\n    { id: '19', data: { cluster: 'c' } },\n    { id: '20', data: { cluster: 'c' } },\n    { id: '21', data: { cluster: 'c' } },\n    { id: '22', data: { cluster: 'c' } },\n    { id: '23', data: { cluster: 'c' } },\n    { id: '24', data: { cluster: 'c' } },\n    { id: '25', data: { cluster: 'c' } },\n    { id: '26', data: { cluster: 'c' } },\n    { id: '27', data: { cluster: 'c' } },\n    { id: '28', data: { cluster: 'c' } },\n    { id: '29', data: { cluster: 'c' } },\n    { id: '30', data: { cluster: 'c' } },\n    { id: '31', data: { cluster: 'd' } },\n    { id: '32', data: { cluster: 'd' } },\n    { id: '33', data: { cluster: 'd' } },\n  ],\n  edges: [\n    { source: '0', target: '1' },\n    { source: '0', target: '2' },\n    { source: '0', target: '3' },\n    { source: '0', target: '4' },\n    { source: '0', target: '5' },\n    { source: '0', target: '7' },\n    { source: '0', target: '8' },\n    { source: '0', target: '9' },\n    { source: '0', target: '10' },\n    { source: '0', target: '11' },\n    { source: '0', target: '13' },\n    { source: '0', target: '14' },\n    { source: '0', target: '15' },\n    { source: '0', target: '16' },\n    { source: '2', target: '3' },\n    { source: '4', target: '5' },\n    { source: '4', target: '6' },\n    { source: '5', target: '6' },\n    { source: '7', target: '13' },\n    { source: '8', target: '14' },\n    { source: '9', target: '10' },\n    { source: '10', target: '22' },\n    { source: '10', target: '14' },\n    { source: '10', target: '12' },\n    { source: '10', target: '24' },\n    { source: '10', target: '21' },\n    { source: '10', target: '20' },\n    { source: '11', target: '24' },\n    { source: '11', target: '22' },\n    { source: '11', target: '14' },\n    { source: '12', target: '13' },\n    { source: '16', target: '17' },\n    { source: '16', target: '18' },\n    { source: '16', target: '21' },\n    { source: '16', target: '22' },\n    { source: '17', target: '18' },\n    { source: '17', target: '20' },\n    { source: '18', target: '19' },\n    { source: '19', target: '20' },\n    { source: '19', target: '33' },\n    { source: '19', target: '22' },\n    { source: '19', target: '23' },\n    { source: '20', target: '21' },\n    { source: '21', target: '22' },\n    { source: '22', target: '24' },\n    { source: '22', target: '25' },\n    { source: '22', target: '26' },\n    { source: '22', target: '23' },\n    { source: '22', target: '28' },\n    { source: '22', target: '30' },\n    { source: '22', target: '31' },\n    { source: '22', target: '32' },\n    { source: '22', target: '33' },\n    { source: '23', target: '28' },\n    { source: '23', target: '27' },\n    { source: '23', target: '29' },\n    { source: '23', target: '30' },\n    { source: '23', target: '31' },\n    { source: '23', target: '33' },\n    { source: '32', target: '33' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'fruchterman',\n    gravity: 10,\n    speed: 5,\n    clustering: true,\n    nodeClusterBy: 'cluster',\n  },\n  node: {\n    style: {\n      size: 20,\n      stroke: '#5B8FF9',\n      fill: '#C6E5FF',\n      lineWidth: 1,\n      labelPlacement: 'center',\n      labelText: (d) => d.id,\n      labelBackground: false,\n    },\n  },\n  edge: {\n    style: {\n      endArrow: true,\n      endArrowPath: 'M 0,0 L 4,2 L 4,-2 Z',\n    },\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n  animation: true,\n});\n\ngraph.render();\n",title:{zh:"基本 Fruchterman 布局",en:"Basic Fruchterman Layout"},filename:"fruchtermanCluster.ts",isNew:!1},{id:"fruchtermanWebWorker",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*3gn9TZ3oUoIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Doing layout... web-worker is enabled in this demo, so the layout will not block the page.';\ncontainer.appendChild(descriptionDiv);\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/7bacd7d1-4119-4ac1-8be3-4c4b9bcbc25f.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      data,\n      layout: {\n        type: 'fruchterman',\n        speed: 20,\n        gravity: 1,\n        maxIteration: 10000,\n        workerEnabled: true,\n      },\n      node: {\n        style: {\n          size: 6,\n        },\n      },\n      edge: {\n        style: {\n          stroke: '#ddd',\n        },\n      },\n      behaviors: ['drag-canvas', 'drag-element'],\n    });\n\n    graph.render();\n\n    graph.on('afterlayout', () => {\n      descriptionDiv.innerHTML = 'Layout in Worker, Done!';\n    });\n  });\n",title:{zh:"Fruchterman 使用 Web-worker",en:"Fruchterman with Web-worker"},filename:"fruchtermanWebWorker.ts",isNew:!1},{id:"fruchtermanFix",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*sbvuTbp3L6sAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      data,\n      node: {\n        style: {\n          size: 15,\n          stroke: '#5B8FF9',\n          fill: '#C6E5FF',\n          lineWidth: 1,\n        },\n      },\n      edge: {\n        style: {\n          stroke: '#E2E2E2',\n        },\n      },\n      layout: {\n        type: 'fruchterman',\n        speed: 50,\n        gravity: 1,\n        animated: true,\n        maxIteration: 500,\n      },\n      behaviors: ['drag-canvas', 'drag-element'],\n      animation: true,\n    });\n\n    graph.render();\n\n    graph.on('node:dragstart', function () {\n      graph.stopLayout();\n    });\n    graph.on('node:dragend', () => {\n      graph.layout();\n    });\n  });\n",title:{zh:"Fruchterman 固定被拖拽的节点",en:"Fruchterman with Fixing Dragged Nodes"},filename:"fruchtermanFix.ts",isNew:!1}],icon:"",id:"fruchtermanLayout",title:{en:"Fruchterman Layout",zh:"Fruchterman 图布局"},childrenKey:"demos",order:13},{demos:[{id:"basicFruchterman",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SmXBQ6fv8PoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, register } from '@antv/g6';\nimport { FruchtermanLayout } from '@antv/layout-gpu';\n\n// Resister the layout into G6.\nregister('layout', 'fruchterman-gpu', FruchtermanLayout);\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      data: {\n        label: '0',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '1',\n      data: {\n        label: '1',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '2',\n      data: {\n        label: '2',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '3',\n      data: {\n        label: '3',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '4',\n      data: {\n        label: '4',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        label: '5',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '6',\n      data: {\n        label: '6',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '7',\n      data: {\n        label: '7',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '8',\n      data: {\n        label: '8',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '9',\n      data: {\n        label: '9',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '10',\n      data: {\n        label: '10',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '11',\n      data: {\n        label: '11',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '12',\n      data: {\n        label: '12',\n        cluster: 'a',\n      },\n    },\n    {\n      id: '13',\n      data: {\n        label: '13',\n        cluster: 'b',\n      },\n    },\n    {\n      id: '14',\n      data: {\n        label: '14',\n        cluster: 'b',\n      },\n    },\n    {\n      id: '15',\n      data: {\n        label: '15',\n        cluster: 'b',\n      },\n    },\n    {\n      id: '16',\n      data: {\n        label: '16',\n        cluster: 'b',\n      },\n    },\n    {\n      id: '17',\n      data: {\n        label: '17',\n        cluster: 'b',\n      },\n    },\n    {\n      id: '18',\n      data: {\n        label: '18',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '19',\n      data: {\n        label: '19',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '20',\n      data: {\n        label: '20',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '21',\n      data: {\n        label: '21',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '22',\n      data: {\n        label: '22',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '23',\n      data: {\n        label: '23',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '24',\n      data: {\n        label: '24',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '25',\n      data: {\n        label: '25',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '26',\n      data: {\n        label: '26',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '27',\n      data: {\n        label: '27',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '28',\n      data: {\n        label: '28',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '29',\n      data: {\n        label: '29',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '30',\n      data: {\n        label: '30',\n        cluster: 'c',\n      },\n    },\n    {\n      id: '31',\n      data: {\n        label: '31',\n        cluster: 'd',\n      },\n    },\n    {\n      id: '32',\n      data: {\n        label: '32',\n        cluster: 'd',\n      },\n    },\n    {\n      id: '33',\n      data: {\n        label: '33',\n        cluster: 'd',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-997',\n      source: '0',\n      target: '1',\n    },\n    {\n      id: 'edge-631',\n      source: '0',\n      target: '2',\n    },\n    {\n      id: 'edge-852',\n      source: '0',\n      target: '3',\n    },\n    {\n      id: 'edge-757',\n      source: '0',\n      target: '4',\n    },\n    {\n      id: 'edge-912',\n      source: '0',\n      target: '5',\n    },\n    {\n      id: 'edge-780',\n      source: '0',\n      target: '7',\n    },\n    {\n      id: 'edge-497',\n      source: '0',\n      target: '8',\n    },\n    {\n      id: 'edge-506',\n      source: '0',\n      target: '9',\n    },\n    {\n      id: 'edge-650',\n      source: '0',\n      target: '10',\n    },\n    {\n      id: 'edge-145',\n      source: '0',\n      target: '11',\n    },\n    {\n      id: 'edge-91',\n      source: '0',\n      target: '13',\n    },\n    {\n      id: 'edge-838',\n      source: '0',\n      target: '14',\n    },\n    {\n      id: 'edge-183',\n      source: '0',\n      target: '15',\n    },\n    {\n      id: 'edge-540',\n      source: '0',\n      target: '16',\n    },\n    {\n      id: 'edge-569',\n      source: '2',\n      target: '3',\n    },\n    {\n      id: 'edge-131',\n      source: '4',\n      target: '5',\n    },\n    {\n      id: 'edge-875',\n      source: '4',\n      target: '6',\n    },\n    {\n      id: 'edge-189',\n      source: '5',\n      target: '6',\n    },\n    {\n      id: 'edge-295',\n      source: '7',\n      target: '13',\n    },\n    {\n      id: 'edge-927',\n      source: '8',\n      target: '14',\n    },\n    {\n      id: 'edge-519',\n      source: '9',\n      target: '10',\n    },\n    {\n      id: 'edge-411',\n      source: '10',\n      target: '22',\n    },\n    {\n      id: 'edge-430',\n      source: '10',\n      target: '14',\n    },\n    {\n      id: 'edge-61',\n      source: '10',\n      target: '12',\n    },\n    {\n      id: 'edge-812',\n      source: '10',\n      target: '24',\n    },\n    {\n      id: 'edge-957',\n      source: '10',\n      target: '21',\n    },\n    {\n      id: 'edge-588',\n      source: '10',\n      target: '20',\n    },\n    {\n      id: 'edge-249',\n      source: '11',\n      target: '24',\n    },\n    {\n      id: 'edge-814',\n      source: '11',\n      target: '22',\n    },\n    {\n      id: 'edge-596',\n      source: '11',\n      target: '14',\n    },\n    {\n      id: 'edge-664',\n      source: '12',\n      target: '13',\n    },\n    {\n      id: 'edge-556',\n      source: '16',\n      target: '17',\n    },\n    {\n      id: 'edge-254',\n      source: '16',\n      target: '18',\n    },\n    {\n      id: 'edge-376',\n      source: '16',\n      target: '21',\n    },\n    {\n      id: 'edge-813',\n      source: '16',\n      target: '22',\n    },\n    {\n      id: 'edge-262',\n      source: '17',\n      target: '18',\n    },\n    {\n      id: 'edge-287',\n      source: '17',\n      target: '20',\n    },\n    {\n      id: 'edge-874',\n      source: '18',\n      target: '19',\n    },\n    {\n      id: 'edge-395',\n      source: '19',\n      target: '20',\n    },\n    {\n      id: 'edge-26',\n      source: '19',\n      target: '33',\n    },\n    {\n      id: 'edge-890',\n      source: '19',\n      target: '22',\n    },\n    {\n      id: 'edge-795',\n      source: '19',\n      target: '23',\n    },\n    {\n      id: 'edge-59',\n      source: '20',\n      target: '21',\n    },\n    {\n      id: 'edge-878',\n      source: '21',\n      target: '22',\n    },\n    {\n      id: 'edge-585',\n      source: '22',\n      target: '24',\n    },\n    {\n      id: 'edge-27',\n      source: '22',\n      target: '25',\n    },\n    {\n      id: 'edge-578',\n      source: '22',\n      target: '26',\n    },\n    {\n      id: 'edge-113',\n      source: '22',\n      target: '23',\n    },\n    {\n      id: 'edge-65',\n      source: '22',\n      target: '28',\n    },\n    {\n      id: 'edge-133',\n      source: '22',\n      target: '30',\n    },\n    {\n      id: 'edge-512',\n      source: '22',\n      target: '31',\n    },\n    {\n      id: 'edge-728',\n      source: '22',\n      target: '32',\n    },\n    {\n      id: 'edge-150',\n      source: '22',\n      target: '33',\n    },\n    {\n      id: 'edge-30',\n      source: '23',\n      target: '28',\n    },\n    {\n      id: 'edge-839',\n      source: '23',\n      target: '27',\n    },\n    {\n      id: 'edge-572',\n      source: '23',\n      target: '29',\n    },\n    {\n      id: 'edge-29',\n      source: '23',\n      target: '30',\n    },\n    {\n      id: 'edge-811',\n      source: '23',\n      target: '31',\n    },\n    {\n      id: 'edge-653',\n      source: '23',\n      target: '33',\n    },\n    {\n      id: 'edge-53',\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n\n  edge: {\n    style: {\n      startArrow: true,\n    },\n  },\n  layout: {\n    type: 'fruchterman-gpu',\n    speed: 10,\n    maxIteration: 2000,\n  },\n  behaviors: ['zoom-canvas', 'drag-canvas', 'drag-element', 'click-select'],\n});\n\ngraph.render();\n",title:{zh:"GPU Fruchterman 小数据",en:"GPU Fruchterman Small Data"},filename:"basicFruchterman.ts",isNew:!1},{id:"fruchtermanComplexData",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*MOhtRqDDV6oAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, register } from '@antv/g6';\nimport { FruchtermanLayout } from '@antv/layout-gpu';\n\n// Resister the layout into G6.\nregister('layout', 'fruchterman-gpu', FruchtermanLayout);\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/7bacd7d1-4119-4ac1-8be3-4c4b9bcbc25f.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      data,\n      node: {\n        style: {\n          size: 5,\n        },\n      },\n      edge: {\n        style: {\n          opacity: 0.5,\n          endArrow: true,\n          endArrowSize: 2,\n        },\n      },\n      layout: {\n        type: 'fruchterman-gpu',\n      },\n      behaviors: ['zoom-canvas', 'drag-canvas', 'drag-element', 'click-select'],\n    });\n\n    graph.render();\n  });\n",title:{zh:"GPU Fruchterman 复杂数据",en:"GPU Fruchterman with Complex Data"},filename:"fruchtermanComplexData.ts",isNew:!1}],icon:"",id:"gpuLayout",title:{en:"GPU Layout",zh:"GPU 图布局"},childrenKey:"demos",order:14},{demos:[{id:"layoutTranslate",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*aGiCRrsJeCUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  layouts: {\n    mds: Extensions.MDSLayout,\n    radial: Extensions.RadialLayout,\n  },\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n  },\n});\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 20;\n\nconst layoutConfigs = {\n  Circular: {\n    type: 'circular',\n  },\n  Grid: {\n    type: 'grid',\n  },\n  Force: {\n    type: 'force',\n    preventOverlap: true,\n  },\n  Radial: {\n    type: 'radial',\n    preventOverlap: true,\n  },\n  Concentric: {\n    type: 'concentric',\n  },\n  MDS: {\n    type: 'mds',\n    linkDistance: 100,\n  },\n};\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new ExtGraph({\n      container: 'container',\n      width,\n      height,\n      transforms: [\n        {\n          type: 'transform-v4-data',\n          activeLifecycle: ['read'],\n        },\n      ],\n      layout: layoutConfigs.Circular,\n      modes: {\n        default: ['zoom-canvas', 'drag-canvas', 'drag-node', 'click-select', 'brush-select'],\n      },\n      node: (model) => {\n        return {\n          id: model.id,\n          data: {\n            ...model.data,\n            labelShape: {\n              text: model.id,\n            },\n            labelBackgroundShape: {},\n            animates: {\n              update: [\n                {\n                  fields: ['x', 'y'],\n                  shapeId: 'group',\n                },\n                {\n                  fields: ['opacity'],\n                  shapeId: 'haloShape',\n                },\n                {\n                  fields: ['lineWidth'],\n                  shapeId: 'keyShape',\n                },\n              ],\n            },\n          },\n        };\n      },\n      data,\n    });\n\n    window.graph = graph;\n\n    const btnContainer = document.createElement('div');\n    btnContainer.style.position = 'absolute';\n    container.appendChild(btnContainer);\n    const tip = document.createElement('span');\n    tip.innerHTML = '👉 Change layoutConfigs:';\n    btnContainer.appendChild(tip);\n    \n    Object.keys(layoutConfigs).forEach((name, i) => {\n      const btn = document.createElement('a');\n      btn.innerHTML = name;\n      btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n      btn.style.padding = '4px';\n      btn.style.marginLeft = i > 0 ? '24px' : '8px';\n      btnContainer.appendChild(btn);\n      btn.addEventListener('click', () => {\n        graph.layout(layoutConfigs[name]);\n      });\n    });\n  });\n",title:{zh:"布局切换",en:"Layout Translate"},filename:"layoutTranslate.js",isNew:!1},{id:"subgraphLayout",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*RDoPRohHU_gAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions } from '@antv/g6';\nimport { Graph as GraphCore } from '@antv/graphlib';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      data: {\n        label: '0',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '1',\n      data: {\n        label: '1',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '2',\n      data: {\n        label: '2',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '3',\n      data: {\n        label: '3',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '4',\n      data: {\n        label: '4',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        label: '5',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '6',\n      data: {\n        label: '6',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '7',\n      data: {\n        label: '7',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '8',\n      data: {\n        label: '8',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '9',\n      data: {\n        label: '9',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '10',\n      data: {\n        label: '10',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '11',\n      data: {\n        label: '11',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '12',\n      data: {\n        label: '12',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '13',\n      data: {\n        label: '13',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '14',\n      data: {\n        label: '14',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '15',\n      data: {\n        label: '15',\n        subGraph: '1',\n      },\n    },\n    {\n      id: '16',\n      data: {\n        label: '16',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '17',\n      data: {\n        label: '17',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '18',\n      data: {\n        label: '18',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '19',\n      data: {\n        label: '19',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '20',\n      data: {\n        label: '20',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '21',\n      data: {\n        label: '21',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '22',\n      data: {\n        label: '22',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '23',\n      data: {\n        label: '23',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '24',\n      data: {\n        label: '24',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '25',\n      data: {\n        label: '25',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '26',\n      data: {\n        label: '26',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '27',\n      data: {\n        label: '27',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '28',\n      data: {\n        label: '28',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '29',\n      data: {\n        label: '29',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '30',\n      data: {\n        label: '30',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '31',\n      data: {\n        label: '31',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '32',\n      data: {\n        label: '32',\n        subGraph: '0',\n      },\n    },\n    {\n      id: '33',\n      data: {\n        label: '33',\n        subGraph: '0',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-179',\n      source: '0',\n      target: '1',\n    },\n    {\n      id: 'edge-811',\n      source: '0',\n      target: '2',\n    },\n    {\n      id: 'edge-168',\n      source: '0',\n      target: '3',\n    },\n    {\n      id: 'edge-430',\n      source: '0',\n      target: '4',\n    },\n    {\n      id: 'edge-492',\n      source: '0',\n      target: '5',\n    },\n    {\n      id: 'edge-261',\n      source: '0',\n      target: '7',\n    },\n    {\n      id: 'edge-794',\n      source: '0',\n      target: '8',\n    },\n    {\n      id: 'edge-898',\n      source: '0',\n      target: '9',\n    },\n    {\n      id: 'edge-719',\n      source: '0',\n      target: '10',\n    },\n    {\n      id: 'edge-114',\n      source: '0',\n      target: '11',\n    },\n    {\n      id: 'edge-514',\n      source: '0',\n      target: '13',\n    },\n    {\n      id: 'edge-248',\n      source: '0',\n      target: '14',\n    },\n    {\n      id: 'edge-913',\n      source: '0',\n      target: '15',\n    },\n    {\n      id: 'edge-472',\n      source: '0',\n      target: '16',\n    },\n    {\n      id: 'edge-986',\n      source: '2',\n      target: '3',\n    },\n    {\n      id: 'edge-356',\n      source: '4',\n      target: '5',\n    },\n    {\n      id: 'edge-776',\n      source: '4',\n      target: '6',\n    },\n    {\n      id: 'edge-650',\n      source: '5',\n      target: '6',\n    },\n    {\n      id: 'edge-949',\n      source: '7',\n      target: '13',\n    },\n    {\n      id: 'edge-531',\n      source: '8',\n      target: '14',\n    },\n    {\n      id: 'edge-869',\n      source: '9',\n      target: '10',\n    },\n    {\n      id: 'edge-777',\n      source: '10',\n      target: '22',\n    },\n    {\n      id: 'edge-339',\n      source: '10',\n      target: '14',\n    },\n    {\n      id: 'edge-122',\n      source: '10',\n      target: '12',\n    },\n    {\n      id: 'edge-691',\n      source: '10',\n      target: '24',\n    },\n    {\n      id: 'edge-484',\n      source: '10',\n      target: '21',\n    },\n    {\n      id: 'edge-300',\n      source: '10',\n      target: '20',\n    },\n    {\n      id: 'edge-493',\n      source: '11',\n      target: '24',\n    },\n    {\n      id: 'edge-626',\n      source: '11',\n      target: '22',\n    },\n    {\n      id: 'edge-134',\n      source: '11',\n      target: '14',\n    },\n    {\n      id: 'edge-316',\n      source: '12',\n      target: '13',\n    },\n    {\n      id: 'edge-212',\n      source: '16',\n      target: '17',\n    },\n    {\n      id: 'edge-195',\n      source: '16',\n      target: '18',\n    },\n    {\n      id: 'edge-639',\n      source: '16',\n      target: '21',\n    },\n    {\n      id: 'edge-742',\n      source: '16',\n      target: '22',\n    },\n    {\n      id: 'edge-113',\n      source: '17',\n      target: '18',\n    },\n    {\n      id: 'edge-538',\n      source: '17',\n      target: '20',\n    },\n    {\n      id: 'edge-301',\n      source: '18',\n      target: '19',\n    },\n    {\n      id: 'edge-449',\n      source: '19',\n      target: '20',\n    },\n    {\n      id: 'edge-541',\n      source: '19',\n      target: '33',\n    },\n    {\n      id: 'edge-138',\n      source: '19',\n      target: '22',\n    },\n    {\n      id: 'edge-841',\n      source: '19',\n      target: '23',\n    },\n    {\n      id: 'edge-881',\n      source: '20',\n      target: '21',\n    },\n    {\n      id: 'edge-854',\n      source: '21',\n      target: '22',\n    },\n    {\n      id: 'edge-255',\n      source: '22',\n      target: '24',\n    },\n    {\n      id: 'edge-945',\n      source: '22',\n      target: '25',\n    },\n    {\n      id: 'edge-119',\n      source: '22',\n      target: '26',\n    },\n    {\n      id: 'edge-700',\n      source: '22',\n      target: '23',\n    },\n    {\n      id: 'edge-327',\n      source: '22',\n      target: '28',\n    },\n    {\n      id: 'edge-685',\n      source: '22',\n      target: '30',\n    },\n    {\n      id: 'edge-359',\n      source: '22',\n      target: '31',\n    },\n    {\n      id: 'edge-930',\n      source: '22',\n      target: '32',\n    },\n    {\n      id: 'edge-998',\n      source: '22',\n      target: '33',\n    },\n    {\n      id: 'edge-796',\n      source: '23',\n      target: '28',\n    },\n    {\n      id: 'edge-518',\n      source: '23',\n      target: '27',\n    },\n    {\n      id: 'edge-778',\n      source: '23',\n      target: '29',\n    },\n    {\n      id: 'edge-851',\n      source: '23',\n      target: '30',\n    },\n    {\n      id: 'edge-483',\n      source: '23',\n      target: '31',\n    },\n    {\n      id: 'edge-335',\n      source: '23',\n      target: '33',\n    },\n    {\n      id: 'edge-689',\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  autoFit: 'view',\n  modes: {\n    default: ['drag-node', 'zoom-canvas', 'drag-canvas', 'click-select'],\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'cluster',\n      },\n    },\n  },\n  node: {\n    labelBackgroundShape: {},\n  },\n  data,\n});\n\nwindow.graph = graph;\n\nconst btn = document.createElement('a');\nbtn.style.position = 'absolute';\nbtn.innerHTML = '👉 Layout Subgraph';\nbtn.style.fontSize = '20px';\nbtn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\nbtn.style.border = '2px solid #873bf4';\nbtn.style.padding = '4px 8px';\ncontainer.appendChild(btn);\n\nbtn.addEventListener('click', async () => {\n  const subGridLayout = new Extensions.GridLayout({\n    begin: [width / 5, height / 5],\n  });\n  const subgraphNodes0 = graph.getAllNodesData().filter((node) => node.data.subGraph === '0');\n  const subgraphData0 = {\n    nodes: subgraphNodes0,\n    edges: graph\n      .getAllEdgesData()\n      .filter(\n        (edge) =>\n          subgraphNodes0.find((node) => node.id === edge.source) &&\n          subgraphNodes0.find((node) => node.id === edge.target),\n      ),\n  };\n  const gridPositions = await subGridLayout.execute(new GraphCore(subgraphData0));\n  graph.updateNodePosition(gridPositions.nodes);\n\n  const subForceLayout = new Extensions.ForceLayout({\n    center: [(width / 3) * 2, (height / 3) * 2],\n    linkDistance: 100,\n    maxSpeed: 100,\n    preventOverlap: true,\n    nodeSize: 32,\n    onTick: function tick(positions) {\n      // the tick function to show the animation of layout process\n      graph.updateNodePosition(positions.nodes);\n    },\n  });\n  const subgraphNodes1 = graph.getAllNodesData().filter((node) => node.data.subGraph === '1');\n  const subgraphData1 = {\n    nodes: subgraphNodes1,\n    edges: graph\n      .getAllEdgesData()\n      .filter(\n        (edge) =>\n          subgraphNodes1.find((node) => node.id === edge.source) &&\n          subgraphNodes1.find((node) => node.id === edge.target),\n      ),\n  };\n  subForceLayout.execute(new GraphCore(subgraphData1));\n});\n",title:{zh:"子图布局",en:"Subgraph Layout"},filename:"subgraphLayout.js",isNew:!1},{id:"dataChange",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Cq8SRL2NZtYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      data: {\n        label: '0',\n      },\n    },\n    {\n      id: '1',\n      data: {\n        label: '1',\n      },\n    },\n    {\n      id: '2',\n      data: {\n        label: '2',\n      },\n    },\n    {\n      id: '3',\n      data: {\n        label: '3',\n      },\n    },\n    {\n      id: '4',\n      data: {\n        label: '4',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        label: '5',\n      },\n    },\n    {\n      id: '6',\n      data: {\n        label: '6',\n      },\n    },\n    {\n      id: '7',\n      data: {\n        label: '7',\n      },\n    },\n    {\n      id: '8',\n      data: {\n        label: '8',\n      },\n    },\n    {\n      id: '9',\n      data: {\n        label: '9',\n      },\n    },\n    {\n      id: '10',\n      data: {\n        label: '10',\n      },\n    },\n    {\n      id: '11',\n      data: {\n        label: '11',\n      },\n    },\n    {\n      id: '12',\n      data: {\n        label: '12',\n      },\n    },\n    {\n      id: '13',\n      data: {\n        label: '13',\n      },\n    },\n    {\n      id: '14',\n      data: {\n        label: '14',\n      },\n    },\n    {\n      id: '15',\n      data: {\n        label: '15',\n      },\n    },\n    {\n      id: '16',\n      data: {\n        label: '16',\n      },\n    },\n    {\n      id: '17',\n      data: {\n        label: '17',\n      },\n    },\n    {\n      id: '18',\n      data: {\n        label: '18',\n      },\n    },\n    {\n      id: '19',\n      data: {\n        label: '19',\n      },\n    },\n    {\n      id: '20',\n      data: {\n        label: '20',\n      },\n    },\n    {\n      id: '21',\n      data: {\n        label: '21',\n      },\n    },\n    {\n      id: '22',\n      data: {\n        label: '22',\n      },\n    },\n    {\n      id: '23',\n      data: {\n        label: '23',\n      },\n    },\n    {\n      id: '24',\n      data: {\n        label: '24',\n      },\n    },\n    {\n      id: '25',\n      data: {\n        label: '25',\n      },\n    },\n    {\n      id: '26',\n      data: {\n        label: '26',\n      },\n    },\n    {\n      id: '27',\n      data: {\n        label: '27',\n      },\n    },\n    {\n      id: '28',\n      data: {\n        label: '28',\n      },\n    },\n    {\n      id: '29',\n      data: {\n        label: '29',\n      },\n    },\n    {\n      id: '30',\n      data: {\n        label: '30',\n      },\n    },\n    {\n      id: '31',\n      data: {\n        label: '31',\n      },\n    },\n    {\n      id: '32',\n      data: {\n        label: '32',\n      },\n    },\n    {\n      id: '33',\n      data: {\n        label: '33',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-866',\n      source: '0',\n      target: '1',\n    },\n    {\n      id: 'edge-435',\n      source: '0',\n      target: '2',\n    },\n    {\n      id: 'edge-743',\n      source: '0',\n      target: '3',\n    },\n    {\n      id: 'edge-208',\n      source: '0',\n      target: '4',\n    },\n    {\n      id: 'edge-773',\n      source: '0',\n      target: '5',\n    },\n    {\n      id: 'edge-481',\n      source: '0',\n      target: '7',\n    },\n    {\n      id: 'edge-355',\n      source: '0',\n      target: '8',\n    },\n    {\n      id: 'edge-430',\n      source: '0',\n      target: '9',\n    },\n    {\n      id: 'edge-938',\n      source: '0',\n      target: '10',\n    },\n    {\n      id: 'edge-554',\n      source: '0',\n      target: '11',\n    },\n    {\n      id: 'edge-820',\n      source: '0',\n      target: '13',\n    },\n    {\n      id: 'edge-904',\n      source: '0',\n      target: '14',\n    },\n    {\n      id: 'edge-223',\n      source: '0',\n      target: '15',\n    },\n    {\n      id: 'edge-230',\n      source: '0',\n      target: '16',\n    },\n    {\n      id: 'edge-441',\n      source: '2',\n      target: '3',\n    },\n    {\n      id: 'edge-808',\n      source: '4',\n      target: '5',\n    },\n    {\n      id: 'edge-990',\n      source: '4',\n      target: '6',\n    },\n    {\n      id: 'edge-495',\n      source: '5',\n      target: '6',\n    },\n    {\n      id: 'edge-723',\n      source: '7',\n      target: '13',\n    },\n    {\n      id: 'edge-438',\n      source: '8',\n      target: '14',\n    },\n    {\n      id: 'edge-196',\n      source: '9',\n      target: '10',\n    },\n    {\n      id: 'edge-642',\n      source: '10',\n      target: '22',\n    },\n    {\n      id: 'edge-355',\n      source: '10',\n      target: '14',\n    },\n    {\n      id: 'edge-596',\n      source: '10',\n      target: '12',\n    },\n    {\n      id: 'edge-59',\n      source: '10',\n      target: '24',\n    },\n    {\n      id: 'edge-274',\n      source: '10',\n      target: '21',\n    },\n    {\n      id: 'edge-730',\n      source: '10',\n      target: '20',\n    },\n    {\n      id: 'edge-964',\n      source: '11',\n      target: '24',\n    },\n    {\n      id: 'edge-555',\n      source: '11',\n      target: '22',\n    },\n    {\n      id: 'edge-406',\n      source: '11',\n      target: '14',\n    },\n    {\n      id: 'edge-259',\n      source: '12',\n      target: '13',\n    },\n    {\n      id: 'edge-952',\n      source: '16',\n      target: '17',\n    },\n    {\n      id: 'edge-569',\n      source: '16',\n      target: '18',\n    },\n    {\n      id: 'edge-246',\n      source: '16',\n      target: '21',\n    },\n    {\n      id: 'edge-540',\n      source: '16',\n      target: '22',\n    },\n    {\n      id: 'edge-747',\n      source: '17',\n      target: '18',\n    },\n    {\n      id: 'edge-800',\n      source: '17',\n      target: '20',\n    },\n    {\n      id: 'edge-484',\n      source: '18',\n      target: '19',\n    },\n    {\n      id: 'edge-418',\n      source: '19',\n      target: '20',\n    },\n    {\n      id: 'edge-714',\n      source: '19',\n      target: '33',\n    },\n    {\n      id: 'edge-600',\n      source: '19',\n      target: '22',\n    },\n    {\n      id: 'edge-717',\n      source: '19',\n      target: '23',\n    },\n    {\n      id: 'edge-306',\n      source: '20',\n      target: '21',\n    },\n    {\n      id: 'edge-599',\n      source: '21',\n      target: '22',\n    },\n    {\n      id: 'edge-413',\n      source: '22',\n      target: '24',\n    },\n    {\n      id: 'edge-281',\n      source: '22',\n      target: '25',\n    },\n    {\n      id: 'edge-182',\n      source: '22',\n      target: '26',\n    },\n    {\n      id: 'edge-285',\n      source: '22',\n      target: '23',\n    },\n    {\n      id: 'edge-553',\n      source: '22',\n      target: '28',\n    },\n    {\n      id: 'edge-55',\n      source: '22',\n      target: '30',\n    },\n    {\n      id: 'edge-823',\n      source: '22',\n      target: '31',\n    },\n    {\n      id: 'edge-996',\n      source: '22',\n      target: '32',\n    },\n    {\n      id: 'edge-323',\n      source: '22',\n      target: '33',\n    },\n    {\n      id: 'edge-462',\n      source: '23',\n      target: '28',\n    },\n    {\n      id: 'edge-476',\n      source: '23',\n      target: '27',\n    },\n    {\n      id: 'edge-446',\n      source: '23',\n      target: '29',\n    },\n    {\n      id: 'edge-273',\n      source: '23',\n      target: '30',\n    },\n    {\n      id: 'edge-564',\n      source: '23',\n      target: '31',\n    },\n    {\n      id: 'edge-623',\n      source: '23',\n      target: '33',\n    },\n    {\n      id: 'edge-714',\n      source: '32',\n      target: '33',\n    },\n  ],\n};\n\nconst data2 = {\n  nodes: [\n    {\n      id: 'b0',\n      data: {\n        label: '0',\n      },\n    },\n    {\n      id: 'b1',\n      data: {\n        label: '1',\n      },\n    },\n    {\n      id: 'b2',\n      data: {\n        label: '2',\n      },\n    },\n    {\n      id: 'b3',\n      data: {\n        label: '3',\n      },\n    },\n    {\n      id: 'b4',\n      data: {\n        label: '4',\n      },\n    },\n    {\n      id: 'b5',\n      data: {\n        label: '5',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-842',\n      source: 'b0',\n      target: 'b1',\n    },\n    {\n      id: 'edge-862',\n      source: 'b0',\n      target: 'b2',\n    },\n    {\n      id: 'edge-408',\n      source: 'b0',\n      target: 'b3',\n    },\n    {\n      id: 'edge-215',\n      source: 'b0',\n      target: 'b4',\n    },\n    {\n      id: 'edge-379',\n      source: 'b0',\n      target: 'b5',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new Graph({\n  container,\n  width,\n  height,\n  modes: {\n    default: ['drag-canvas', 'drag-node', 'zoom-canvas', 'click-select'],\n  },\n  layout: {\n    type: 'force',\n    animated: true,\n    linkDistance: 100,\n    preventOverlap: true,\n  },\n  edge: {\n    keyShape: {\n      endArrow: true,\n    },\n  },\n  data,\n});\n\nlet currentData = data;\n\nconst btn = document.createElement('a');\nbtn.style.position = 'absolute';\nbtn.innerHTML = '👉 Change Data';\nbtn.style.fontSize = '20px';\nbtn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\nbtn.style.border = '2px solid #873bf4';\nbtn.style.padding = '4px 8px';\ncontainer.appendChild(btn);\nbtn.addEventListener('click', async () => {\n  currentData = currentData === data2 ? data : data2;\n  graph.changeData(currentData);\n});\n\nwindow.graph = graph;\n",title:{zh:"数据动态切换",en:"Change Data"},filename:"dataChange.js",isNew:!1},{id:"customBigraph",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*G4-YT4NDA2oAAAAAAAAAAAAADmJ7AQ/original",source:"import G6, { extend } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      data: {\n        label: 'A',\n        cluster: 'part1',\n      },\n    },\n    {\n      id: '1',\n      data: {\n        label: 'B',\n        cluster: 'part1',\n      },\n    },\n    {\n      id: '2',\n      data: {\n        label: 'C',\n        cluster: 'part1',\n      },\n    },\n    {\n      id: '3',\n      data: {\n        label: 'D',\n        cluster: 'part1',\n      },\n    },\n    {\n      id: '4',\n      data: {\n        label: 'E',\n        cluster: 'part1',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        label: 'F',\n        cluster: 'part1',\n      },\n    },\n    {\n      id: '6',\n      data: {\n        label: 'a',\n        cluster: 'part2',\n      },\n    },\n    {\n      id: '7',\n      data: {\n        label: 'b',\n        cluster: 'part2',\n      },\n    },\n    {\n      id: '8',\n      data: {\n        label: 'c',\n        cluster: 'part2',\n      },\n    },\n    {\n      id: '9',\n      data: {\n        label: 'd',\n        cluster: 'part2',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-270',\n      source: '0',\n      target: '6',\n    },\n    {\n      id: 'edge-483',\n      source: '0',\n      target: '7',\n    },\n    {\n      id: 'edge-942',\n      source: '0',\n      target: '9',\n    },\n    {\n      id: 'edge-569',\n      source: '1',\n      target: '6',\n    },\n    {\n      id: 'edge-152',\n      source: '1',\n      target: '9',\n    },\n    {\n      id: 'edge-540',\n      source: '1',\n      target: '7',\n    },\n    {\n      id: 'edge-754',\n      source: '2',\n      target: '8',\n    },\n    {\n      id: 'edge-78',\n      source: '2',\n      target: '9',\n    },\n    {\n      id: 'edge-824',\n      source: '2',\n      target: '6',\n    },\n    {\n      id: 'edge-308',\n      source: '3',\n      target: '8',\n    },\n    {\n      id: 'edge-254',\n      source: '4',\n      target: '6',\n    },\n    {\n      id: 'edge-283',\n      source: '4',\n      target: '7',\n    },\n    {\n      id: 'edge-360',\n      source: '5',\n      target: '9',\n    },\n  ],\n};\n\nclass BiLayout {\n  //  implements Layout<{}>\n  id = 'bi-layout';\n\n  constructor(options = {}) {\n    this.options = options;\n  }\n  /**\n   * Return the positions of nodes and edges(if needed).\n   */\n  async execute(graph, options = {}) {\n    return this.genericLineLayout(false, graph, options);\n  }\n  /**\n   * To directly assign the positions to the nodes.\n   */\n  async assign(graph, options = {}) {\n    this.genericLineLayout(true, graph, options);\n  }\n\n  async genericLineLayout(assign, graph, options = {}) {\n    const {\n      center = [0, 0],\n      biSep = 100,\n      nodeSep = 20,\n      nodeSize = 32,\n      direction = 'horizontal',\n    } = { ...this.options, ...options };\n    let part1Pos = 0;\n    let part2Pos = 0;\n    if (direction === 'horizontal') {\n      part1Pos = center[0] - biSep / 2;\n      part2Pos = center[0] + biSep / 2;\n    }\n    const nodes = graph.getAllNodes();\n    const edges = graph.getAllEdges();\n\n    const part1Nodes = [];\n    const part2Nodes = [];\n    const part1NodeMap = new Map();\n    const part2NodeMap = new Map();\n    // separate the nodes and init the positions\n    nodes.forEach(function (node, i) {\n      if (node.data.cluster === 'part1') {\n        part1Nodes.push(node);\n        part1NodeMap.set(node.id, i);\n      } else {\n        part2Nodes.push(node);\n        part2NodeMap.set(node.id, i);\n      }\n    });\n\n    // order the part1 node\n    const indexMap = {};\n    part1Nodes.forEach(function (p1n) {\n      let index = 0;\n      let adjCount = 0;\n      edges.forEach(function (edge) {\n        const sourceId = edge.source;\n        const targetId = edge.target;\n        if (sourceId === p1n.id) {\n          index += part2NodeMap.get(targetId);\n          adjCount += 1;\n        } else if (targetId === p1n.id) {\n          index += part2NodeMap.get(sourceId);\n          adjCount += 1;\n        }\n      });\n      index /= adjCount;\n      indexMap[p1n.id] = index;\n    });\n    part1Nodes.sort(function (a, b) {\n      return indexMap[a.id] - indexMap[b.id];\n    });\n    part2Nodes.forEach(function (p2n) {\n      let index = 0;\n      let adjCount = 0;\n      edges.forEach(function (edge) {\n        const sourceId = edge.source;\n        const targetId = edge.target;\n        if (sourceId === p2n.id) {\n          index += part1NodeMap.get(targetId);\n          adjCount += 1;\n        } else if (targetId === p2n.id) {\n          index += part1NodeMap.get(sourceId);\n          adjCount += 1;\n        }\n      });\n      index /= adjCount;\n      indexMap[p2n.id] = index;\n    });\n    part2Nodes.sort(function (a, b) {\n      return indexMap[a.id] - indexMap[b.id];\n    });\n\n    // place the nodes\n    const hLength = part1Nodes.length > part2Nodes.length ? part1Nodes.length : part2Nodes.length;\n    const height = hLength * (nodeSep + nodeSize);\n    let begin = center[1] - height / 2;\n    if (direction === 'vertical') {\n      begin = center[0] - height / 2;\n    }\n    part1Nodes.forEach(function (p1n, i) {\n      if (direction === 'horizontal') {\n        p1n.data.x = part1Pos;\n        p1n.data.y = begin + i * (nodeSep + nodeSize);\n      } else {\n        p1n.data.x = begin + i * (nodeSep + nodeSize);\n        p1n.data.y = part1Pos;\n      }\n    });\n    part2Nodes.forEach(function (p2n, i) {\n      if (direction === 'horizontal') {\n        p2n.data.x = part2Pos;\n        p2n.data.y = begin + i * (nodeSep + nodeSize);\n      } else {\n        p2n.data.x = begin + i * (nodeSep + nodeSize);\n        p2n.data.y = part2Pos;\n      }\n    });\n\n    const result = {\n      nodes: part1Nodes.concat(part2Nodes).map((node) => ({ id: node.id, data: { x: node.data.x, y: node.data.y } })),\n      edges,\n    };\n\n    if (assign) {\n      layoutNodes.forEach((node) => {\n        graph.mergeNodeData(node.id, {\n          x: node.data.x,\n          y: node.data.y,\n        });\n      });\n    }\n    return result;\n  }\n}\n\nconst CustomGraph = extend(Graph, {\n  layouts: {\n    'bi-layout': BiLayout,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new CustomGraph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'bi-layout',\n    biSep: 300,\n    nodeSep: 20,\n    nodeSize: 32,\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'cluster',\n      },\n    },\n  },\n  modes: {\n    default: ['drag-canvas', 'drag-node', 'zoom-canvas', 'click-select'],\n  },\n  data,\n});\n\nwindow.graph = graph;\n",title:{zh:"自定义二分图布局",en:"Custom Bigraph Layout"},filename:"customBigraph.js",isNew:!1},{id:"layoutTiming",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*MOhtRqDDV6oAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst tipDiv = document.createElement('div');\nconst container = document.getElementById('container');\ncontainer.appendChild(tipDiv);\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/7bacd7d1-4119-4ac1-8be3-4c4b9bcbc25f.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new Graph({\n      container: 'container',\n      width,\n      height,\n      transforms: [\n    {\n      type: 'transform-v4-data',\n      activeLifecycle: ['read'],\n    },\n  ],\n      layout: {\n        type: 'force',\n        preventOverlap: true,\n        nodeSize: 32,\n        workerEnabled: true,\n      },\n      modes: {\n        default: ['zoom-canvas', 'drag-canvas', 'drag-node', 'click-select'],\n      },\n      node: {\n        keyShape: {\n          r: 6,\n        },\n      },\n      edge: {\n        keyShape: {\n          opacity: 0.3,\n        },\n      },\n      data,\n    });\n    graph.on('beforelayout', function () {\n      tipDiv.innerHTML = 'Doing force-directed layout... the text will be changed after the layout being done.';\n    });\n    graph.on('afterlayout', function () {\n      tipDiv.innerHTML = 'Done!';\n    });\n\nwindow.graph = graph;\n  });\n",title:{zh:"布局时机监听",en:"Layout Listener"},filename:"layoutTiming.js",isNew:!1}],icon:"",id:"layoutMechanism",title:{en:"Layout Mechanism",zh:"布局机制"},childrenKey:"demos",order:15}],childrenKey:"examples"},{id:"item",title:{zh:"元素",en:"Item"},icon:"shape",examples:[{demos:[{id:"circle",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SuPdRLp1PQgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, GraphEvent } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'circle' },\n    { id: 'circle-halo' },\n    { id: 'circle-badges' },\n    { id: 'circle-ports' },\n    { id: 'circle-active' },\n    { id: 'circle-selected' },\n    { id: 'circle-highlight' },\n    { id: 'circle-inactive' },\n    { id: 'circle-disabled' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'circle', // 👈🏻 Node shape type.\n      size: 40,\n      labelText: (d) => d.id,\n      iconHeight: 20,\n      iconWidth: 20,\n      iconSrc: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      halo: (d) => d.id.includes('halo'),\n      portR: 3,\n      ports: (d) =>\n        d.id.includes('ports')\n          ? [{ placement: 'left' }, { placement: 'right' }, { placement: 'top' }, { placement: 'bottom' }]\n          : [],\n      badges: (d) =>\n        d.id.includes('badges')\n          ? [\n              { text: 'A', placement: 'right-top' },\n              { text: 'Important', placement: 'right' },\n              { text: 'Notice', placement: 'right-bottom' },\n            ]\n          : [],\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n\ngraph.on(GraphEvent.AFTER_RENDER, () => {\n  graph.setElementState({\n    'circle-active': 'active',\n    'circle-selected': 'selected',\n    'circle-highlight': 'highlight',\n    'circle-inactive': 'inactive',\n    'circle-disabled': 'disabled',\n  });\n});\n",title:{zh:"圆形",en:"Circle"},filename:"circle.ts",isNew:!1},{id:"rect",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*etLSQYZnJAAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, GraphEvent } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'rect' },\n    { id: 'rect-halo' },\n    { id: 'rect-badges' },\n    { id: 'rect-ports' },\n    { id: 'rect-active' },\n    { id: 'rect-selected' },\n    { id: 'rect-highlight' },\n    { id: 'rect-inactive' },\n    { id: 'rect-disabled' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'rect', // 👈🏻 Node shape type.\n      size: 40,\n      labelText: (d) => d.id,\n      iconSrc: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      iconWidth: 20,\n      iconHeight: 20,\n      halo: (d) => d.id.includes('halo'),\n      portR: 3,\n      ports: (d) =>\n        d.id.includes('ports')\n          ? [{ placement: 'left' }, { placement: 'right' }, { placement: 'top' }, { placement: 'bottom' }]\n          : [],\n      badges: (d) =>\n        d.id.includes('badges')\n          ? [\n              { text: 'A', placement: 'right-top' },\n              { text: 'Important', placement: 'right' },\n              { text: 'Notice', placement: 'right-bottom' },\n            ]\n          : [],\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n\ngraph.on(GraphEvent.AFTER_RENDER, () => {\n  graph.setElementState({\n    'rect-active': 'active',\n    'rect-selected': 'selected',\n    'rect-highlight': 'highlight',\n    'rect-inactive': 'inactive',\n    'rect-disabled': 'disabled',\n  });\n});\n",title:{zh:"矩形",en:"Rect"},filename:"rect.ts",isNew:!1},{id:"radiusRect",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*r03cSIy59-UAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, GraphEvent } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'rect' },\n    { id: 'rect-halo' },\n    { id: 'rect-badges' },\n    { id: 'rect-ports' },\n    { id: 'rect-active' },\n    { id: 'rect-selected' },\n    { id: 'rect-highlight' },\n    { id: 'rect-inactive' },\n    { id: 'rect-disabled' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'rect', // 👈🏻 Node shape type.\n      radius: 4, // 👈🏻 Set the radius.\n      size: 40,\n      labelText: (d) => d.id,\n      iconSrc: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      iconWidth: 20,\n      iconHeight: 20,\n      halo: (d) => d.id.includes('halo'),\n      portR: 3,\n      ports: (d) =>\n        d.id.includes('ports')\n          ? [{ placement: 'left' }, { placement: 'right' }, { placement: 'top' }, { placement: 'bottom' }]\n          : [],\n      badges: (d) =>\n        d.id.includes('badges')\n          ? [\n              { text: 'A', placement: 'right-top' },\n              { text: 'Important', placement: 'right' },\n              { text: 'Notice', placement: 'right-bottom' },\n            ]\n          : [],\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n\ngraph.on(GraphEvent.AFTER_RENDER, () => {\n  graph.setElementState({\n    'rect-active': 'active',\n    'rect-selected': 'selected',\n    'rect-highlight': 'highlight',\n    'rect-inactive': 'inactive',\n    'rect-disabled': 'disabled',\n  });\n});\n",title:{zh:"圆角矩形",en:"Radius Rect"},filename:"radiusRect.ts",isNew:!1},{id:"diamond",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*oUSlSZt6rCoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, GraphEvent } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'diamond' },\n    { id: 'diamond-halo' },\n    { id: 'diamond-badges' },\n    { id: 'diamond-ports' },\n    { id: 'diamond-active' },\n    { id: 'diamond-selected' },\n    { id: 'diamond-highlight' },\n    { id: 'diamond-inactive' },\n    { id: 'diamond-disabled' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'diamond',\n      size: 40,\n      labelText: (d) => d.id,\n      iconWidth: 20,\n      iconHeight: 20,\n      iconSrc: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      halo: (d) => d.id.includes('halo'),\n      portR: 3,\n      ports: (d) =>\n        d.id.includes('ports')\n          ? [{ placement: 'left' }, { placement: 'right' }, { placement: 'top' }, { placement: 'bottom' }]\n          : [],\n      badges: (d) =>\n        d.id.includes('badges')\n          ? [\n              { text: 'A', placement: 'right-top' },\n              { text: 'Important', placement: 'right' },\n              { text: 'Notice', placement: 'right-bottom' },\n            ]\n          : [],\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n\ngraph.on(GraphEvent.AFTER_RENDER, () => {\n  graph.setElementState({\n    'diamond-active': 'active',\n    'diamond-selected': 'selected',\n    'diamond-highlight': 'highlight',\n    'diamond-inactive': 'inactive',\n    'diamond-disabled': 'disabled',\n  });\n});\n",title:{zh:"菱形",en:"Diamond"},filename:"diamond.ts",isNew:!1},{id:"hexagon",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*muosSr4ft8QAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'hexagon-node': Extensions.HexagonNode,\n  },\n});\n\nconst data = {\n  nodes: [\n    {\n      id: 'hexagon',\n      data: {},\n    },\n    {\n      id: 'hexagon-active',\n      data: {},\n    },\n    {\n      id: 'hexagon-selected',\n      data: {},\n    },\n\n    {\n      id: 'hexagon-highlight',\n      data: {},\n    },\n    {\n      id: 'hexagon-inactive',\n      data: {},\n    },\n    {\n      id: 'hexagon-badges',\n      data: {},\n    },\n    {\n      id: 'hexagon-anchorShapes',\n      data: {},\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['zoom-canvas', 'drag-canvas', 'drag-node', 'click-select'],\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  data,\n  layout: {\n    type: 'grid',\n  },\n  node: (model) => {\n    const { id, data } = model;\n    const config = {\n      id,\n      data: {\n        ...data,\n        type: 'hexagon-node',\n        labelShape: {\n          text: id,\n          position: 'bottom',\n          maxWidth: '500%',\n        },\n        labelBackgroundShape: {},\n        iconShape: {\n          img: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n        },\n        animates: {\n          update: [\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n              states: ['selected', 'active'],\n            },\n            {\n              fields: ['lineWidth'],\n              shapeId: 'keyShape',\n              states: ['selected', 'active'],\n            },\n          ],\n        },\n      },\n    };\n    if (id.includes('badges')) {\n      config.data.badgeShapes = [\n        {\n          text: 'A',\n          position: 'rightTop',\n        },\n        {\n          text: 'Important',\n          position: 'right',\n        },\n        {\n          text: 'Notice',\n          position: 'rightBottom',\n        },\n      ];\n    }\n    if (id.includes('anchorShapes')) {\n      config.data.anchorShapes = [\n        {\n          position: 'top',\n        },\n        {\n          position: 'rightTop',\n        },\n        {\n          position: 'leftTop',\n        },\n        {\n          position: 'rightBottom',\n        },\n        {\n          position: 'leftBottom',\n        },\n        {\n          position: 'bottom',\n        },\n      ];\n    }\n    return config;\n  },\n});\n\ngraph.on('afterrender', (e) => {\n  graph.setItemState('hexagon-active', 'active', true);\n  graph.setItemState('hexagon-selected', 'selected', true);\n  graph.setItemState('hexagon-highlight', 'highlight', true);\n  graph.setItemState('hexagon-inactive', 'inactive', true);\n});\n\nwindow.graph = graph;",title:{zh:"六边形",en:"Hexagon"},filename:"hexagon.js",isNew:!1},{id:"triangle",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*BW_sSbWVQowAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, GraphEvent } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'triangle' },\n    { id: 'triangle-halo' },\n    { id: 'triangle-badges' },\n    { id: 'triangle-ports', data: { direction: 'left' } },\n    { id: 'triangle-active' },\n    { id: 'triangle-selected' },\n    { id: 'triangle-highlight' },\n    { id: 'triangle-inactive' },\n    { id: 'triangle-disabled' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'triangle', // 👈🏻 Node shape type.\n      size: 40,\n      direction: (d) => d.data?.direction,\n      labelText: (d) => d.id,\n      iconSrc: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      halo: (d) => d.id.includes('halo'),\n      portR: 3,\n      ports: (d) => (d.id.includes('ports') ? [{ position: 'left' }, { position: 'top' }, { position: 'bottom' }] : []),\n      badges: (d) =>\n        d.id.includes('badges')\n          ? [\n              { text: 'A', position: 'right-top' },\n              { text: 'Important', position: 'right' },\n              { text: 'Notice', position: 'right-bottom' },\n            ]\n          : [],\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n\ngraph.on(GraphEvent.AFTER_RENDER, () => {\n  graph.setElementState({\n    'triangle-active': 'active',\n    'triangle-selected': 'selected',\n    'triangle-highlight': 'highlight',\n    'triangle-inactive': 'inactive',\n    'triangle-disabled': 'disabled',\n  });\n});\n",title:{zh:"三角形",en:"Triangle"},filename:"triangle.ts",isNew:!1},{id:"image",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*NPG3SL_n-CYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, GraphEvent } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'image' },\n    { id: 'image-halo' },\n    { id: 'image-badges' },\n    { id: 'image-ports' },\n    { id: 'image-active' },\n    { id: 'image-selected' },\n    { id: 'image-highlight' },\n    { id: 'image-inactive' },\n    { id: 'image-disabled' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'image',\n      src: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n      size: 40,\n      labelText: (d) => d.id,\n      halo: (d) => d.id.includes('halo'),\n      portR: 3,\n      ports: (d) =>\n        d.id.includes('ports')\n          ? [{ placement: 'left' }, { placement: 'right' }, { placement: 'top' }, { placement: 'bottom' }]\n          : [],\n      badges: (d) =>\n        d.id.includes('badges')\n          ? [\n              { text: 'A', placement: 'right-top' },\n              { text: 'Important', placement: 'right' },\n              { text: 'Notice', placement: 'right-bottom' },\n            ]\n          : [],\n    },\n    state: {\n      disabled: {\n        opacity: 0.25,\n      },\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n\ngraph.on(GraphEvent.AFTER_RENDER, () => {\n  graph.setElementState({\n    'image-active': 'active',\n    'image-selected': 'selected',\n    'image-highlight': 'highlight',\n    'image-inactive': 'inactive',\n    'image-disabled': 'disabled',\n  });\n});\n",title:{zh:"图片",en:"Image"},filename:"image.ts",isNew:!1},{id:"ellipse",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Vdq4Rb3ESOoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, GraphEvent } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'ellipse' },\n    { id: 'ellipse-halo' },\n    { id: 'ellipse-badges' },\n    { id: 'ellipse-ports' },\n    { id: 'ellipse-active' },\n    { id: 'ellipse-selected' },\n    { id: 'ellipse-highlight' },\n    { id: 'ellipse-inactive' },\n    { id: 'ellipse-disabled' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'ellipse', // 👈🏻 Node shape type.\n      size: [45, 35],\n      labelText: (d) => d.id,\n      iconHeight: 20,\n      iconWidth: 20,\n      iconSrc: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      halo: (d) => d.id.includes('halo'),\n      portR: 3,\n      ports: (d) =>\n        d.id.includes('ports')\n          ? [{ placement: 'left' }, { placement: 'right' }, { placement: 'top' }, { placement: 'bottom' }]\n          : [],\n      badges: (d) =>\n        d.id.includes('badges')\n          ? [\n              { text: 'A', placement: 'right-top' },\n              { text: 'Important', placement: 'right' },\n              { text: 'Notice', placement: 'right-bottom' },\n            ]\n          : [],\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n\ngraph.on(GraphEvent.AFTER_RENDER, () => {\n  graph.setElementState({\n    'ellipse-active': 'active',\n    'ellipse-selected': 'selected',\n    'ellipse-highlight': 'highlight',\n    'ellipse-inactive': 'inactive',\n    'ellipse-disabled': 'disabled',\n  });\n});\n",title:{zh:"椭圆",en:"Ellipse"},filename:"ellipse.ts",isNew:!1},{id:"star",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*YSVjSLyYNwIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, GraphEvent } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'star' },\n    { id: 'star-halo' },\n    { id: 'star-badges' },\n    { id: 'star-ports' },\n    { id: 'star-active' },\n    { id: 'star-selected' },\n    { id: 'star-highlight' },\n    { id: 'star-inactive' },\n    { id: 'star-disabled' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'star', // 👈🏻 Node shape type.\n      size: 40,\n      labelText: (d) => d.id,\n      iconSrc: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      halo: (d) => d.id.includes('halo'),\n      portR: 3,\n      ports: (d) =>\n        d.id.includes('ports')\n          ? [{ placement: 'left' }, { placement: 'right' }, { placement: 'top' }, { placement: 'bottom' }]\n          : [],\n      badges: (d) =>\n        d.id.includes('badges')\n          ? [\n              { text: 'A', placement: 'right-top' },\n              { text: 'Important', placement: 'right' },\n              { text: 'Notice', placement: 'right-bottom' },\n            ]\n          : [],\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n\ngraph.on(GraphEvent.AFTER_RENDER, () => {\n  graph.setElementState({\n    'star-active': 'active',\n    'star-selected': 'selected',\n    'star-highlight': 'highlight',\n    'star-inactive': 'inactive',\n    'star-disabled': 'disabled',\n  });\n});\n",title:{zh:"星形",en:"Star"},filename:"star.ts",isNew:!1},{id:"donut",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*c5f5Q7XuOWoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst data = {\n  nodes: [\n    {\n      id: 'donut',\n      data: {\n        x: 250,\n        y: 150,\n        /**\n         * 甜甜圈内径在 keyShape 半径的占比，取值为 0-1，默认 0.6\n         * The ratio of the inner diameter of the donut to the radius of the keyShape, the value is 0-1\n         */\n        innerSize: 0.6,\n        /**\n         * 甜甜圈字段，每个字段必须为 [key: string]: number\n         * Donut fields, each field must be [key: string]: number\n         */\n        donutAttr: {\n          income: 80,\n          outcome: 40,\n          unknown: 45,\n        },\n        /**\n         * 甜甜圈颜色映射，字段名与 attrs 中的字段名对应。不指定则使用默认色板\n         * A donut colormap with field names corresponding to those in attrs. If not specified, the default swatch will be used\n         */\n        donutColorMap: {\n          income: '#78D3F8',\n          outcome: '#F08BB4',\n          unknown: '#65789B',\n        },\n      },\n    },\n  ],\n};\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'donut-node': Extensions.DonutNode,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['zoom-canvas', 'drag-canvas', 'drag-node', 'click-select'],\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  data,\n  node: {\n    type: 'donut-node',\n    keyShape: {\n      r: 30,\n    },\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n      position: 'bottom',\n    },\n    labelBackgroundShape: {},\n    anchorShapes: [\n      {\n        position: [0, 0.5],\n      },\n      {\n        position: [0.5, 0],\n      },\n      {\n        position: [0.5, 1],\n      },\n    ],\n    iconShape: {\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      width: 20,\n      height: 20,\n    },\n    badgeShapes: [\n      {\n        text: 'A',\n        position: 'rightTop',\n      },\n    ],\n    /** Shapes of donut */\n    donutShapes: {\n      innerSize: { fields: ['innerSize'], formatter: (model) => model.data.innerSize },\n      attrs: {\n        fields: ['donutAttr'],\n        formatter: (model) => model.data.donutAttr,\n      },\n\n      colorMap: {\n        fields: ['donutColorMap'],\n        formatter: (model) => model.data.donutColorMap,\n      },\n    },\n    animates: {\n      update: [\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n          states: ['selected', 'active'],\n        },\n        {\n          fields: ['lineWidth'],\n          shapeId: 'keyShape',\n          states: ['selected', 'active'],\n        },\n      ],\n    },\n  },\n});\n\nwindow.graph = graph;",title:{zh:"甜甜圈",en:"Donut"},filename:"donut.js",isNew:!1},{id:"modelRect",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*w4kQSYQ9djQAAAAAAAAAAABkARQnAQ",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 250,\n        y: 150,\n        type: 'modelRect-node',\n      },\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'modelRect-node': Extensions.ModelRectNode,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['zoom-canvas', 'drag-canvas', 'drag-node'],\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  data,\n  node: (innerModel) => {\n    return {\n      ...innerModel,\n      data: {\n        ...innerModel.data,\n        keyShape: {\n          width: 270,\n          height: 80,\n        },\n        labelShape: {\n          text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vestibulum dapibus lectus, sit amet volutpat ante commodo et. Nulla auctor metus id mauris iaculis tempus. Nunc tincidunt libero et justo laoreet, id tristique purus efficitur. Integer aliquet risus nec ullamcorper bibendum. Proin luctus enim a odio aliquam, id condimentum lorem fermentum. Vivamus fermentum lacus vitae metus placerat, eu rutrum est lacinia. Aenean ullamcorper rhoncus ligula, a facilisis metus eleifend nec. Sed scelerisque, ipsum eget consectetur fermentum, sapien orci bibendum ligula, eget aliquam dolor augue vitae mauris. Cras at justo at lectus tempor fringilla. In ac dolor et elit semper sollicitudin. Duis ac volutpat nunc, sed fringilla leo. Nunc tempus, justo eu consequat lobortis, sapien eros varius nulla, vitae pretium libero magna nec ligula. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aliquam id nisi vel nibh eleifend tempor. Fusce eget eleifend augue.',\n          offsetX: 0,\n          // offsetY: 0,\n          position: 'bottom',\n          maxWidth: '0',\n        },\n        anchorShapes: [\n          {\n            position: 'left',\n            r: 5,\n            lineWidth: 1,\n            fill: '#72CC4A',\n            stroke: '#72CC4A',\n          },\n        ],\n        otherShapes: {\n          // left rect\n          preRect: {\n            show: true,\n            fill: '#5CAAF8',\n            width: 5,\n            radius: 10,\n          },\n          // text description\n          description: {\n            show: true,\n            text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vestibulum dapibus lectus, sit amet volutpat ante commodo et. Nulla auctor metus id mauris iaculis tempus. Nunc tincidunt libero et justo laoreet, id tristique purus efficitur. Integer aliquet risus nec ullamcorper bibendum. Proin luctus enim a odio aliquam, id condimentum lorem fermentum. Vivamus fermentum lacus vitae metus placerat, eu rutrum est lacinia. Aenean ullamcorper rhoncus ligula, a facilisis metus eleifend nec. Sed scelerisque, ipsum eget consectetur fermentum, sapien orci bibendum ligula, eget aliquam dolor augue vitae mauris. Cras at justo at lectus tempor fringilla. In ac dolor et elit semper sollicitudin. Duis ac volutpat nunc, sed fringilla leo. Nunc tempus, justo eu consequat lobortis, sapien eros varius nulla, vitae pretium libero magna nec ligula. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aliquam id nisi vel nibh eleifend tempor. Fusce eget eleifend augue.',\n            fontSize: 12,\n            offsetX: 0,\n            offsetY: 0,\n          },\n          // left icon describing the information\n          logoIcon: {\n            show: true,\n            img: 'https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg',\n            // text: 'logo',\n            width: 16,\n            height: 16,\n            offsetX: 0,\n            offsetY: 0,\n          },\n          // right icon describing the state\n          stateIcon: {\n            show: true,\n            img: 'https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg',\n            // text: 'state',\n            width: 16,\n            height: 16,\n            offsetX: -10,\n            offsetY: 0,\n          },\n        },\n      },\n    };\n  },\n});\n\nwindow.graph = graph;",title:{zh:"模态矩形",en:"ModelRect"},filename:"modelRect.js",isNew:!1},{id:"3d-node",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*MkyMTpesEEYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'sphere-node': Extensions.SphereNode,\n    'cube-node': Extensions.CubeNode,\n  },\n  behaviors: {\n    'orbit-canvas-3d': Extensions.OrbitCanvas3D,\n    'zoom-canvas-3d': Extensions.ZoomCanvas3D,\n  },\n});\n\nconst data = {\n  nodes: [\n    {\n      id: 'sphere-node',\n      data: {\n        type: 'sphere-node',\n        x: 100,\n        y: 100,\n        z: 0,\n        keyShape: {\n          r: 16,\n        },\n        labelShape: {\n          text: 'sphere-node',\n          wordWrap: false,\n          isBillboard: true,\n        },\n      },\n    },\n    {\n      id: 'cube-node',\n      data: {\n        type: 'cube-node',\n        x: 250,\n        y: 250,\n        z: 50,\n        keyShape: {\n          width: 400,\n          height: 400,\n          depth: 400,\n        },\n        labelShape: {\n          text: 'cube-node',\n          wordWrap: false,\n          isBillboard: true,\n        },\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'sphere-node',\n      target: 'cube-node',\n      data: {},\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  renderer: 'webgl-3d',\n  modes: {\n    default: [\n      {\n        type: 'orbit-canvas-3d',\n        trigger: 'drag',\n      },\n      'zoom-canvas-3d',\n    ],\n  },\n  data,\n});\n\n// graph.on('afterrender', (e) => {\n//   graph.setItemState('circle-active', 'active', true);\n//   graph.setItemState('circle-selected', 'selected', true);\n//   graph.setItemState('circle-highlight', 'highlight', true);\n//   graph.setItemState('circle-inactive', 'inactive', true);\n// });\n\nwindow.graph = graph;",title:{zh:"3D 节点",en:"3D Node"},filename:"3d-node.js",isNew:!1}],icon:"",id:"defaultNodes",title:{en:"Built-in Nodes",zh:"内置节点"},childrenKey:"demos",order:0},{demos:[{id:"line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ax2RRKUqXlcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node1' }, { id: 'node2' }, { id: 'node3' }, { id: 'node4' }, { id: 'node5' }, { id: 'node6' }],\n  edges: [\n    {\n      id: 'line-default',\n      source: 'node1',\n      target: 'node2',\n    },\n    {\n      id: 'line-active',\n      source: 'node1',\n      target: 'node3',\n    },\n    {\n      id: 'line-selected',\n      source: 'node1',\n      target: 'node4',\n    },\n    {\n      id: 'line-highlight',\n      source: 'node1',\n      target: 'node5',\n    },\n    {\n      id: 'line-inactive',\n      source: 'node1',\n      target: 'node6',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  edge: {\n    style: {\n      type: 'line', // 👈🏻 Edge shape type.\n      labelText: (d) => d.id!,\n      labelBackground: true,\n      endArrow: true,\n    },\n  },\n  layout: {\n    type: 'radial',\n    unitRadius: 220,\n    linkDistance: 220,\n  },\n});\n\ngraph.render();\n\ngraph.on('afterrender', () => {\n  graph.setElementState({\n    'line-active': 'active',\n    'line-selected': 'selected',\n    'line-highlight': 'highlight',\n    'line-inactive': 'inactive',\n  });\n});\n",title:{zh:"直线",en:"Line"},filename:"line.ts",isNew:!1},{id:"polyline",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*zw8VRou1mRAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node-1', style: { x: 200, y: 200 } },\n    { id: 'node-2', style: { x: 350, y: 120 } },\n  ],\n  edges: [\n    {\n      id: 'edge-1',\n      source: 'node-1',\n      target: 'node-2',\n      style: { controlPoints: [[300, 190]] },\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  edge: {\n    style: {\n      type: 'polyline', // 👈🏻 Edge shape type.\n      controlPoints: (d) => d.style.controlPoints,\n    },\n  },\n  behaviors: [{ type: 'drag-element' }],\n});\n\ngraph.render();\n",title:{zh:"折线-带控制点",en:"Polyline with Control Points"},filename:"polyline.ts",isNew:!1},{id:"polylineOrth",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ldO6S4NOfKQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node-1', style: { x: 200, y: 200 } },\n    { id: 'node-2', style: { x: 350, y: 120 } },\n  ],\n  edges: [\n    {\n      id: 'edge-1',\n      source: 'node-1',\n      target: 'node-2',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  edge: {\n    style: {\n      type: 'polyline', // 👈🏻 Edge shape type.\n      router: true,\n    },\n  },\n  behaviors: [{ type: 'drag-element' }],\n});\n\ngraph.render();\n",title:{zh:"正交线",en:"Orthogonal Line"},filename:"polylineOrth.ts",isNew:!1},{id:"polylineOrthHasCPs",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*C9apQa9NioMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node-1', style: { x: 200, y: 200 } },\n    { id: 'node-2', style: { x: 350, y: 120 } },\n    { id: 'node-cp', style: { x: 300, y: 190, size: 5, color: 'rgb(244, 109, 67)' } },\n  ],\n  edges: [\n    {\n      id: 'edge-1',\n      source: 'node-1',\n      target: 'node-2',\n      style: { controlPoints: [[300, 190]] },\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  edge: {\n    style: {\n      type: 'polyline', // 👈🏻 Edge shape type.\n      router: true,\n      controlPoints: (d) => d.style.controlPoints,\n    },\n  },\n  behaviors: [{ type: 'drag-element' }],\n});\n\ngraph.render();\n",title:{zh:"正交线-带控制点",en:"Orthogonal Line with Control Points"},filename:"polylineOrthHasCPs.ts",isNew:!1},{id:"loopPolyline",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*OReBSqIkp_cAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node1' }, { id: 'node2' }, { id: 'node3-ports' }, { id: 'node4-ports' }],\n  edges: [\n    {\n      id: 'loop-1',\n      source: 'node1',\n      target: 'node1',\n      placement: 'top',\n    },\n    {\n      id: 'loop-2',\n      source: 'node1',\n      target: 'node1',\n      placement: 'right',\n    },\n    {\n      id: 'loop-3',\n      source: 'node1',\n      target: 'node1',\n      placement: 'bottom',\n    },\n    {\n      id: 'loop-4',\n      source: 'node1',\n      target: 'node1',\n      placement: 'left',\n    },\n    {\n      id: 'loop-5',\n      source: 'node2',\n      target: 'node2',\n      placement: 'top-right',\n    },\n    {\n      id: 'loop-6',\n      source: 'node2',\n      target: 'node2',\n      placement: 'bottom-right',\n    },\n    {\n      id: 'loop-7',\n      source: 'node2',\n      target: 'node2',\n      placement: 'bottom-left',\n    },\n    {\n      id: 'loop-8',\n      source: 'node2',\n      target: 'node2',\n      placement: 'top-left',\n    },\n    {\n      id: 'loop-9',\n      source: 'node3-ports',\n      target: 'node3-ports',\n      sourcePort: 'port1',\n      targetPort: 'port2',\n    },\n    {\n      id: 'loop-10',\n      source: 'node4-ports',\n      target: 'node4-ports',\n      sourcePort: 'port2',\n      targetPort: 'port2',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'rect',\n      size: [80, 30],\n      port: (d) => d.id.includes('ports'),\n      portR: 3,\n      ports: [\n        {\n          key: 'port1',\n          placement: [0.7, 0],\n        },\n        {\n          key: 'port2',\n          placement: 'right',\n        },\n      ],\n    },\n  },\n  edge: {\n    style: {\n      type: 'polyline',\n      sourcePort: (d) => d.sourcePort,\n      targetPort: (d) => d.targetPort,\n      endArrow: true,\n      loopPlacement: (d) => d.placement,\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n",title:{zh:"折线自环边",en:"Polyline Loop"},filename:"loopPolyline.ts",isNew:!1},{id:"quadratic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*RRelQ7VrFc4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node1' }, { id: 'node2' }, { id: 'node3' }, { id: 'node4' }, { id: 'node5' }, { id: 'node6' }],\n  edges: [\n    {\n      id: 'line-default',\n      source: 'node1',\n      target: 'node2',\n    },\n    {\n      id: 'line-active',\n      source: 'node1',\n      target: 'node3',\n    },\n    {\n      id: 'line-selected',\n      source: 'node1',\n      target: 'node4',\n    },\n    {\n      id: 'line-highlight',\n      source: 'node1',\n      target: 'node5',\n    },\n    {\n      id: 'line-inactive',\n      source: 'node1',\n      target: 'node6',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  edge: {\n    style: {\n      type: 'quadratic', // 👈🏻 Edge shape type.\n      labelText: (d) => d.id!,\n      labelBackground: true,\n      endArrow: true,\n    },\n  },\n  layout: {\n    type: 'radial',\n    unitRadius: 220,\n    linkDistance: 220,\n  },\n});\n\ngraph.render();\n\ngraph.on('afterrender', () => {\n  graph.setElementState({\n    'line-active': 'active',\n    'line-selected': 'selected',\n    'line-highlight': 'highlight',\n    'line-inactive': 'inactive',\n  });\n});\n",title:{zh:"二次贝塞尔曲线",en:"Quadratic"},filename:"quadratic.ts",isNew:!1},{id:"cubic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*cVd-TLQWujYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node1' }, { id: 'node2' }, { id: 'node3' }, { id: 'node4' }, { id: 'node5' }, { id: 'node6' }],\n  edges: [\n    {\n      id: 'line-default',\n      source: 'node1',\n      target: 'node2',\n    },\n    {\n      id: 'line-active',\n      source: 'node1',\n      target: 'node3',\n    },\n    {\n      id: 'line-selected',\n      source: 'node1',\n      target: 'node4',\n    },\n    {\n      id: 'line-highlight',\n      source: 'node1',\n      target: 'node5',\n    },\n    {\n      id: 'line-inactive',\n      source: 'node1',\n      target: 'node6',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  edge: {\n    style: {\n      type: 'cubic', // 👈🏻 Edge shape type.\n      labelText: (d) => d.id!,\n      labelBackground: true,\n      endArrow: true,\n    },\n  },\n  layout: {\n    type: 'radial',\n    unitRadius: 220,\n    linkDistance: 220,\n  },\n});\n\ngraph.render();\n\ngraph.on('afterrender', () => {\n  graph.setElementState({\n    'line-active': 'active',\n    'line-selected': 'selected',\n    'line-highlight': 'highlight',\n    'line-inactive': 'inactive',\n  });\n});\n",title:{zh:"三次贝塞尔曲线",en:"Cubic"},filename:"cubic.ts",isNew:!1},{id:"verticalCubic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*wrDlQKxNHNEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node1' }, { id: 'node2' }, { id: 'node3' }, { id: 'node4' }, { id: 'node5' }, { id: 'node6' }],\n  edges: [\n    {\n      id: 'line-default',\n      source: 'node1',\n      target: 'node2',\n    },\n    {\n      id: 'line-active',\n      source: 'node1',\n      target: 'node3',\n    },\n    {\n      id: 'line-selected',\n      source: 'node1',\n      target: 'node4',\n    },\n    {\n      id: 'line-highlight',\n      source: 'node1',\n      target: 'node5',\n    },\n    {\n      id: 'line-inactive',\n      source: 'node1',\n      target: 'node6',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      port: true,\n      ports: [{ placement: 'top' }, { placement: 'bottom' }],\n    },\n  },\n  edge: {\n    style: {\n      type: 'cubic-vertical', // 👈🏻 Edge shape type.\n      labelText: (d) => d.id!,\n      labelBackground: true,\n      endArrow: true,\n    },\n  },\n  layout: {\n    type: 'antv-dagre',\n    begin: [50, 50],\n    rankdir: 'TB',\n    nodesep: 35,\n    ranksep: 150,\n  },\n});\n\ngraph.render();\n\ngraph.on('afterrender', () => {\n  graph.setElementState({\n    'line-active': 'active',\n    'line-selected': 'selected',\n    'line-highlight': 'highlight',\n    'line-inactive': 'inactive',\n  });\n});\n",title:{zh:"三次贝塞尔曲线-垂直",en:"Vertical Cubic"},filename:"verticalCubic.ts",isNew:!1},{id:"horizontalCubic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*6Gj2R50AJ8AAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node1' }, { id: 'node2' }, { id: 'node3' }, { id: 'node4' }, { id: 'node5' }, { id: 'node6' }],\n  edges: [\n    {\n      id: 'line-default',\n      source: 'node1',\n      target: 'node2',\n    },\n    {\n      id: 'line-active',\n      source: 'node1',\n      target: 'node3',\n    },\n    {\n      id: 'line-selected',\n      source: 'node1',\n      target: 'node4',\n    },\n    {\n      id: 'line-highlight',\n      source: 'node1',\n      target: 'node5',\n    },\n    {\n      id: 'line-inactive',\n      source: 'node1',\n      target: 'node6',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      port: true,\n      ports: [{ placement: 'right' }, { placement: 'left' }],\n    },\n  },\n  edge: {\n    style: {\n      type: 'cubic-horizontal', // 👈🏻 Edge shape type.\n      labelText: (d) => d.id!,\n      labelBackground: true,\n      endArrow: true,\n    },\n  },\n  layout: {\n    type: 'antv-dagre',\n    rankdir: 'LR',\n    nodesep: 30,\n    ranksep: 150,\n  },\n});\n\ngraph.render();\n\ngraph.on('afterrender', () => {\n  graph.setElementState({\n    'line-active': 'active',\n    'line-selected': 'selected',\n    'line-highlight': 'highlight',\n    'line-inactive': 'inactive',\n  });\n});\n",title:{zh:"三次贝塞尔曲线-水平",en:"Horizontal Cubic"},filename:"horizontalCubic.ts",isNew:!1},{id:"loopCurve",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*6Gj2R50AJ8AAAAAAAAAAAAAADmJ7AQ/original",source:"import type { GraphData } from '@antv/g6';\nimport { Graph, Utils } from '@antv/g6';\n\nconst data: GraphData = {\n  nodes: [{ id: 'node1' }, { id: 'node2' }, { id: 'node3-ports' }, { id: 'node4-ports' }],\n  edges: [\n    {\n      id: 'loop-1',\n      source: 'node1',\n      target: 'node1',\n      style: { placement: 'top' },\n    },\n    {\n      id: 'loop-2',\n      source: 'node1',\n      target: 'node1',\n      style: { placement: 'right' },\n    },\n    {\n      id: 'loop-3',\n      source: 'node1',\n      target: 'node1',\n      style: { placement: 'bottom' },\n    },\n    {\n      id: 'loop-4',\n      source: 'node1',\n      target: 'node1',\n      style: { placement: 'left' },\n    },\n    {\n      id: 'loop-5',\n      source: 'node2',\n      target: 'node2',\n      style: { placement: 'top-right' },\n    },\n    {\n      id: 'loop-6',\n      source: 'node2',\n      target: 'node2',\n      style: { placement: 'bottom-right' },\n    },\n    {\n      id: 'loop-7',\n      source: 'node2',\n      target: 'node2',\n      style: { placement: 'bottom-left' },\n    },\n    {\n      id: 'loop-8',\n      source: 'node2',\n      target: 'node2',\n      style: { placement: 'top-left' },\n    },\n    {\n      id: 'loop-9',\n      source: 'node3-ports',\n      target: 'node3-ports',\n      style: { sourcePort: 'port1', targetPort: 'port2' },\n    },\n    {\n      id: 'loop-10',\n      source: 'node4-ports',\n      target: 'node4-ports',\n      style: { sourcePort: 'port2', targetPort: 'port2' },\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      type: 'rect',\n      size: [80, 30],\n      port: (d) => Utils.idOf(d).toString().includes('ports'),\n      portR: 3,\n      ports: [\n        {\n          key: 'port1',\n          placement: [0.7, 0],\n        },\n        {\n          key: 'port2',\n          placement: 'right',\n        },\n      ],\n    },\n  },\n  edge: {\n    style: {\n      type: 'line',\n      sourcePort: (d) => d.style!.sourcePort,\n      targetPort: (d) => d.style!.targetPort,\n      endArrow: true,\n      loopPlacement: (d) => d.style!.placement,\n    },\n  },\n  layout: {\n    type: 'grid',\n  },\n});\n\ngraph.render();\n",title:{zh:"曲线自环边",en:"Curve Loop"},filename:"loopCurve.ts",isNew:!1}],icon:"",id:"defaultEdges",title:{en:"Built-in Edges",zh:"内置边"},childrenKey:"demos",order:1},{demos:[{id:"circle",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Kbk1S5pzSY0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node1', style: { x: 250, y: 150, parentId: 'combo1' } },\n    { id: 'node2', style: { x: 350, y: 150, parentId: 'combo1' } },\n    { id: 'node3', style: { x: 250, y: 300, parentId: 'combo2' } },\n  ],\n  edges: [],\n  combos: [\n    { id: 'combo1', style: { parentId: 'combo2' } }, // collapsed: true\n    { id: 'combo2', style: {} },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  node: {\n    style: {\n      labelText: (d) => d.id,\n    },\n  },\n  combo: {\n    style: {\n      type: 'circle', // 👈🏻 Combo shape type.\n    },\n  },\n  data,\n  behaviors: ['drag-element', 'collapse-expand'],\n});\n\ngraph.render();\n",title:"圆形",filename:"circle.ts",isNew:!1},{id:"rect",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*PKtgSZzmb3YAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node1', style: { x: 250, y: 150, parentId: 'combo1' } },\n    { id: 'node2', style: { x: 350, y: 150, parentId: 'combo1' } },\n    { id: 'node3', style: { x: 250, y: 300, parentId: 'combo2' } },\n  ],\n  edges: [],\n  combos: [\n    { id: 'combo1', style: { parentId: 'combo2' } }, // collapsed: true\n    { id: 'combo2', style: {} },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  node: {\n    style: {\n      labelText: (d) => d.id,\n    },\n  },\n  combo: {\n    style: {\n      type: 'rect', // 👈🏻 Combo shape type.\n      padding: 20,\n    },\n  },\n  data,\n  behaviors: ['drag-element', 'collapse-expand'],\n});\n\ngraph.render();\n",title:"矩形",filename:"rect.ts",isNew:!1}],icon:"",id:"defaultCombos",title:{en:"Built-in Combos",zh:"内置 Combo"},childrenKey:"demos",order:2},{demos:[{id:"built-in-arrows",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*VlxQQoEpTIgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst edgeIds = [\n  'default-arrow',\n  'triangle-arrow',\n  'simple-arrow',\n  'vee-arrow',\n  'circle-arrow',\n  'rect-arrow',\n  'diamond-arrow',\n  'triangleRect-arrow',\n];\n\nconst data = {\n  nodes: new Array(16).fill(0).map((_, i) => ({ id: `node${i + 1}` })),\n  edges: edgeIds.map((id, i) => ({\n    id,\n    source: `node${i * 2 + 1}`,\n    target: `node${i * 2 + 2}`,\n  })),\n};\n\nconst graph = new Graph({\n  data,\n  edge: {\n    style: {\n      type: 'line', // 👈🏻 Edge shape type.\n      labelText: (d) => d.id!,\n      labelBackground: true,\n      endArrow: true,\n      endArrowType: (d) => d.id.split('-')[0],\n    },\n  },\n  layout: {\n    type: 'grid',\n    cols: 2,\n  },\n});\n\ngraph.render();\n",title:{zh:"默认和内置箭头",en:"Default and Built-in Arrows"},filename:"built-in-arrows.ts",isNew:!1},{id:"custom-arrows",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*6wrVRoF3S98AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: new Array(6).fill(0).map((_, i) => ({ id: `node${i + 1}` })),\n  edges: [\n    {\n      id: 'custom-arrow-1',\n      source: 'node1',\n      target: 'node2',\n      style: {\n        endArrowPath: 'M0,0 L10,4 L14,14 L18,4 L28,0 L18,-4 L14,-14 L10,-4 Z',\n        endArrowOffset: 14,\n      },\n    },\n    {\n      id: 'custom-arrow-2',\n      source: 'node3',\n      target: 'node4',\n      style: {\n        endArrowPath: 'M 3,-5 L 3,5 L 15,10 L 15,-10 Z',\n        endArrowOffset: 10,\n      },\n    },\n    {\n      id: 'image-arrow',\n      source: 'node5',\n      target: 'node6',\n      style: {\n        endArrowSrc: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n        endArrowSize: 28,\n        endArrowTransform: 'rotate(90deg)',\n      },\n    },\n  ],\n};\n\nconst graph = new Graph({\n  data,\n  edge: {\n    style: {\n      type: 'line', // 👈🏻 Edge shape type.\n      color: '#F6BD16',\n      labelText: (d) => d.id!,\n      labelBackground: true,\n      endArrow: true,\n    },\n  },\n  layout: {\n    type: 'grid',\n    cols: 2,\n  },\n});\n\ngraph.render();\n",title:{zh:"自定义箭头",en:"Custom Arrows"},filename:"custom-arrows.ts",isNew:!1}],icon:"",id:"arrows",title:{en:"Arrow of Edge",zh:"边的箭头"},childrenKey:"demos",order:3},{demos:[{id:"card",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*3cRGRb5nB_UAAAAAAAAAAABkARQnAQ",source:"import { Extensions, Graph, extend, stdLib } from '@antv/g6';\n\nlet graph;\n\nconst ERROR_COLOR = '#F5222D';\n\nconst getNodeConfig = (node) => {\n  if (node.nodeError) {\n    return {\n      basicColor: ERROR_COLOR,\n      fontColor: '#FFF',\n      borderColor: ERROR_COLOR,\n      bgColor: '#E66A6C',\n    };\n  }\n  let config = {\n    basicColor: '#5B8FF9',\n    fontColor: '#5B8FF9',\n    borderColor: '#5B8FF9',\n    bgColor: '#C6E5FF',\n  };\n  switch (node.type) {\n    case 'root': {\n      config = {\n        basicColor: '#E3E6E8',\n        fontColor: 'rgba(0,0,0,0.85)',\n        borderColor: '#E3E6E8',\n        bgColor: '#5b8ff9',\n      };\n      break;\n    }\n    default:\n      break;\n  }\n  return config;\n};\n\nclass CardNode extends Extensions.RectNode {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { data: cfg } = model;\n    const config = getNodeConfig(cfg);\n\n    const isRoot = cfg.dataType === 'root';\n    const nodeError = cfg.nodeError;\n\n    const otherShapes = {};\n\n    if (!isRoot) {\n      otherShapes['left-dot-shape'] = this.upsertShape(\n        'circle',\n        'left-dot-shape',\n        { cx: 3, cy: 32, r: 6, fill: config.basicColor },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n    }\n\n    /** rect shape */\n    otherShapes['rect-shape'] = this.upsertShape(\n      'rect',\n      'rect-shape',\n      {\n        x: 3,\n        y: 0,\n        width: 243 - 19,\n        height: 64,\n        fill: config.bgColor,\n        stroke: config.borderColor,\n        radius: 2,\n        cursor: 'pointer',\n        zIndex: 0,\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n\n    /* Left bolder border */\n    otherShapes['left-border-shape'] = this.upsertShape(\n      'rect',\n      'left-border-shape',\n      {\n        x: 3,\n        y: 0,\n        width: 3,\n        height: 64,\n        fill: config.basicColor,\n        radius: 1.5,\n        zIndex: 0,\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n\n    if (cfg.dataType !== 'root') {\n      /* the type text */\n      otherShapes['type-text-shape'] = this.upsertShape(\n        'text',\n        'type-text-shape',\n        {\n          text: cfg.dataType,\n          x: 3,\n          y: -10,\n          fontSize: 12,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: 'rgba(0,0,0,0.65)',\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n    }\n\n    if (cfg.ip) {\n      /* ip start */\n      /* ipBox */\n      otherShapes['ip-container-shape'] = this.upsertShape(\n        'rect',\n        'ip-container-shape',\n        {\n          fill: nodeError ? 'rgba(0,0,0,0)' : '#fff',\n          stroke: nodeError ? 'rgba(255,255,255,0.65)' : 'rgba(0,0,0,0)',\n          radius: 2,\n          cursor: 'pointer',\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n\n      /* ip */\n      otherShapes['ip-text-shape'] = this.upsertShape(\n        'text',\n        'ip-text-shape',\n        {\n          text: cfg.ip,\n          x: 0,\n          y: 19,\n          fontSize: 12,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: nodeError ? 'rgba(255,255,255,0.85)' : 'rgba(0,0,0,0.65)',\n          cursor: 'pointer',\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n\n      const ipBBox = otherShapes['ip-text-shape'].getBBox();\n      console.log('ipBBox', ipBBox);\n      /* the distance from the IP to the right is 12px */\n      otherShapes['ip-text-shape'].attr({\n        x: 224 - 12 - ipBBox.width,\n      });\n      /* ipBox */\n      otherShapes['ip-container-shape'].attr({\n        x: 224 - 12 - ipBBox.width - 4,\n        y: ipBBox.y - 5,\n        width: ipBBox.width + 8,\n        height: ipBBox.height + 10,\n        cursor: 'pointer',\n      });\n\n      /* a transparent shape on the IP for click listener */\n      otherShapes['ip-box'] = this.upsertShape(\n        'rect',\n        'ip-box',\n        {\n          stroke: '',\n          cursor: 'pointer',\n          x: 224 - 12 - ipBBox.width - 4,\n          y: ipBBox.y - 5,\n          width: ipBBox.width + 8,\n          height: ipBBox.height + 10,\n          fill: '#fff',\n          opacity: 0,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n\n      /* copyIpLine */\n      otherShapes['ip-cp-line'] = this.upsertShape(\n        'rect',\n        'ip-cp-line',\n        {\n          x: 194,\n          y: 7,\n          width: 1,\n          height: 24,\n          fill: '#E3E6E8',\n          opacity: 0,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n\n      /* copyIpBG */\n      otherShapes['ip-cp-bg'] = this.upsertShape(\n        'rect',\n        'ip-cp-bg',\n        {\n          x: 195,\n          y: 8,\n          width: 22,\n          height: 22,\n          fill: '#FFF',\n          cursor: 'pointer',\n          opacity: cfg.showIcon ? 1 : 0,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n\n      /* copyIpIcon */\n      otherShapes['ip-cp-icon'] = this.upsertShape(\n        'image',\n        'ip-cp-icon',\n        {\n          x: 200,\n          y: 13,\n          height: 12,\n          width: 12,\n          img: 'https://os.alipayobjects.com/rmsportal/DFhnQEhHyPjSGYW.png',\n          cursor: 'pointer',\n          opacity: cfg.showIcon ? 1 : 0,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n\n      /* a transparent rect on the icon area for click listener */\n      otherShapes['ip-cp-box'] = this.upsertShape(\n        'rect',\n        'ip-cp-box',\n        { x: 195, y: 8, width: 22, height: 22, fill: '#FFF', cursor: 'pointer', opacity: 0 },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n      /* ip end */\n    }\n\n    /* name */\n    otherShapes['name-text-shape'] = this.upsertShape(\n      'text',\n      'name-text-shape',\n      {\n        text: cfg.name,\n        x: 19,\n        y: 19,\n        fontSize: 14,\n        fontWeight: 700,\n        textAlign: 'left',\n        textBaseline: 'middle',\n        fill: config.fontColor,\n        cursor: 'pointer',\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n\n    /* the description text */\n    otherShapes['bottom-text-shape'] = this.upsertShape(\n      'text',\n      'bottom-text-shape',\n      {\n        text: cfg.keyInfo,\n        x: 19,\n        y: 45,\n        fontSize: 14,\n        textAlign: 'left',\n        textBaseline: 'middle',\n        fill: config.fontColor,\n        cursor: 'pointer',\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n\n    if (nodeError) {\n      otherShapes['error-text-shape'] = this.upsertShape(\n        'text',\n        'error-text-shape',\n        {\n          x: 191,\n          y: 62,\n          text: '⚠️',\n          fill: '#000',\n          fontSize: 18,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n    }\n\n    const hasChildren = cfg.children && cfg.children.length > 0;\n    const keyShapeBBox = shapeMap.keyShape.getLocalBounds();\n    if (hasChildren) {\n      otherShapes['marker-shape'] = this.upsertShape(\n        'path',\n        'markerShape',\n        {\n          zIndex: 10,\n          cursor: 'pointer',\n          stroke: '#666',\n          lineWidth: 1,\n          fill: '#fff',\n          path: stdLib.markers.expand(keyShapeBBox.max[0] - 15, keyShapeBBox.center[1], 8),\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n    }\n    return otherShapes;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'card-node': CardNode,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        showIcon: false,\n        name: 'cardNodeApp',\n        ip: '127.0.0.1',\n        nodeError: true,\n        dataType: 'root',\n        keyInfo: 'this is a card node info',\n        x: 100,\n        y: 50,\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        showIcon: false,\n        name: 'cardNodeApp',\n        ip: '127.0.0.1',\n        nodeError: false,\n        dataType: 'subRoot',\n        keyInfo: 'this is sub root',\n        x: 100,\n        y: 150,\n      },\n    },\n    {\n      id: 'node3',\n      data: {\n        showIcon: false,\n        name: 'cardNodeApp',\n        ip: '127.0.0.1',\n        nodeError: false,\n        dataType: 'subRoot',\n        keyInfo: 'this is sub root',\n        x: 100,\n        y: 250,\n        children: [\n          {\n            name: 'sub',\n          },\n        ],\n      },\n    },\n  ],\n  edges: [],\n};\n\ngraph = new ExtGraph({\n  container,\n  width,\n  height,\n  autoFit: 'center',\n  data,\n  node: {\n    type: 'card-node',\n    keyShape: {\n      x: 243 / 2,\n      y: 32,\n      width: 243,\n      height: 64,\n      fill: 'transport',\n    },\n    otherShapes: {},\n  },\n});\n\ngraph.on('node:pointermove', (event) => {\n  const { itemId, target } = event;\n  if (target.id === 'ip-container-shape') {\n    graph.updateData('node', {\n      id: itemId,\n      data: {\n        showIcon: true,\n      },\n    });\n  }\n});\n\ngraph.on('node:pointerleave', (event) => {\n  const { itemId } = event;\n  graph.updateData('node', {\n    id: itemId,\n    data: {\n      showIcon: false,\n    },\n  });\n});\n\nwindow.graph = graph;",title:{zh:"卡片",en:"Card"},filename:"card.js",isNew:!1},{id:"cardNode",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*b-g0RoOpI3sAAAAAAAAAAABkARQnAQ",source:"import { Graph, Extensions, extend, stdLib } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst ICON_MAP = {\n  a: 'https://gw.alipayobjects.com/mdn/rms_8fd2eb/afts/img/A*0HC-SawWYUoAAAAAAAAAAABkARQnAQ',\n  b: 'https://gw.alipayobjects.com/mdn/rms_8fd2eb/afts/img/A*sxK0RJ1UhNkAAAAAAAAAAABkARQnAQ',\n};\n\nclass CardNode extends Extensions.RectNode {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const keyShapeBBox = shapeMap.keyShape.getLocalBounds();\n    const x = -keyShapeBBox.halfExtents[0],\n      y = -keyShapeBBox.halfExtents[1];\n    const { data } = model;\n\n    const color = data.error ? '#F4664A' : '#30BF78';\n    const r = 2;\n\n    const otherShapes = {\n      // title box\n      titleBox: this.upsertShape(\n        'rect',\n        'titleBox',\n        { x: 0, y: 0, width: 200, height: 20, fill: color, radius: [r, r, 0, 0] },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n      // left icon\n      nodeIcon: this.upsertShape(\n        'image',\n        'nodeIcon',\n        {\n          x: 4,\n          y: 2,\n          height: 16,\n          width: 16,\n          cursor: 'pointer',\n          img: ICON_MAP[data.nodeType],\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n      // title text\n      title: this.upsertShape(\n        'text',\n        'title',\n        {\n          textBaseline: 'top',\n          y: 2,\n          x: 24,\n          lineHeight: 20,\n          text: data.title,\n          fill: '#fff',\n          fontSize: 12,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n    };\n\n    if (data.nodeLevel > 0) {\n      otherShapes.markerShape = this.upsertShape(\n        'path',\n        'markerShape',\n        {\n          cursor: 'pointer',\n          stroke: '#666',\n          lineWidth: 1,\n          fill: '#fff',\n          path: data.collapsed\n            ? stdLib.markers.expand(keyShapeBBox.max[0], keyShapeBBox.center[1], 6)\n            : stdLib.markers.collapse(keyShapeBBox.max[0], keyShapeBBox.center[1], 6),\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n    }\n\n    // content list\n    data.panels.forEach((panel, index) => {\n      otherShapes[`panel-title-${index}`] = this.upsertShape(\n        'text',\n        `panel-title-${index}`,\n        {\n          textBaseline: 'top',\n          y: 25,\n          x: 24 + index * 60,\n          lineHeight: 20,\n          text: panel.title,\n          fill: 'rgba(0,0,0,0.4)',\n          fontSize: 12,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n      otherShapes[`panel-value-${index}`] = this.upsertShape(\n        'text',\n        `panel-value-${index}`,\n        {\n          textBaseline: 'top',\n          y: 42,\n          x: 24 + index * 60,\n          lineHeight: 20,\n          text: panel.value,\n          fill: '#595959',\n          fontSize: 12,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      );\n    });\n\n    return otherShapes;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'card-node': CardNode,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  autoFit: 'center',\n  modes: {\n    default: ['drag-node'],\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 100,\n          y: 100,\n          nodeType: 'a',\n          title: 'node1',\n          error: true,\n          nodeLevel: 2,\n          panels: [\n            { title: '成功率', value: '11%' },\n            { title: '耗时', value: '111' },\n            { title: '错误数', value: '111' },\n          ],\n        },\n      },\n      {\n        id: 'node2',\n        data: {\n          x: 100,\n          y: 200,\n          nodeType: 'b',\n          title: 'node2',\n          error: false,\n          nodeLevel: 0,\n          panels: [\n            { title: '成功率', value: '11%' },\n            { title: '耗时', value: '111' },\n            { title: '错误数', value: '111' },\n          ],\n        },\n      },\n      {\n        id: 'node3',\n        data: {\n          x: 100,\n          y: 300,\n          title: 'node3',\n          error: false,\n          nodeType: 'a',\n          nodeLevel: 3,\n          panels: [\n            { title: '成功率', value: '11%' },\n            { title: '耗时', value: '111' },\n            { title: '错误数', value: '111' },\n          ],\n          collapse: true,\n        },\n      },\n    ],\n  },\n  node: (nodeInnerModel) => {\n    const { id, data } = nodeInnerModel;\n    const color = data.error ? '#F4664A' : '#30BF78';\n    const r = 2;\n    return {\n      id,\n      data: {\n        ...data,\n        type: 'card-node',\n        keyShape: {\n          x: 100,\n          y: 30,\n          width: 200,\n          height: 60,\n          fill: '#fff',\n          lineWidth: 1,\n          stroke: color,\n          radius: r,\n        },\n        otherShapes: {},\n      },\n    };\n  },\n});\n\nwindow.graph = graph;",title:{zh:"卡片 2",en:"Card 2"},filename:"cardNode.js",isNew:!1},{id:"pieChart",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*idENQpnwA1sAAAAAAAAAAABkARQnAQ",source:"/**\n * Custom a pie chart node\n */\nimport { Graph, Extensions, extend, stdLib } from '@antv/g6';\n\nconst lightBlue = '#5b8ff9';\nconst lightOrange = '#5ad8a6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nclass PieNode extends Extensions.CircleNode {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { data: cfg } = model;\n    // node radius\n    const radius = cfg.size / 2;\n    // the ratio of indegree to outdegree\n    const inPercentage = cfg.inDegree / cfg.degree;\n    // the anble for the indegree fan\n    const inAngle = inPercentage * Math.PI * 2;\n    // the end position for the in-degree fan\n    const inArcEnd = [radius * Math.cos(inAngle), -radius * Math.sin(inAngle)];\n    let isInBigArc = 0,\n      isOutBigArc = 1;\n    if (inAngle > Math.PI) {\n      isInBigArc = 1;\n      isOutBigArc = 0;\n    }\n\n    const otherShapes = {\n      ['in-fan-shape']: this.upsertShape(\n        'path',\n        'in-fan-shape',\n        {\n          path: [\n            ['M', radius, 0],\n            ['A', radius, radius, 0, isInBigArc, 0, inArcEnd[0], inArcEnd[1]],\n            ['L', 0, 0],\n            ['Z'],\n          ],\n          lineWidth: 0,\n          fill: lightOrange,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n      ['out-fan-shape']: this.upsertShape(\n        'path',\n        'out-fan-shape',\n        {\n          path: [\n            ['M', inArcEnd[0], inArcEnd[1]],\n            ['A', radius, radius, 0, isOutBigArc, 0, radius, 0],\n            ['L', 0, 0],\n            ['Z'],\n          ],\n          lineWidth: 0,\n          fill: lightBlue,\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n    };\n    return otherShapes;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'pie-node': PieNode,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  autoFit: 'center',\n  modes: {\n    default: ['drag-node'],\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          size: 80,\n          inDegree: 80,\n          degree: 360,\n          x: 150,\n          y: 150,\n        },\n      },\n      {\n        id: 'node2',\n        data: {\n          size: 80,\n          inDegree: 280,\n          degree: 360,\n          x: 350,\n          y: 150,\n        },\n      },\n    ],\n    edges: [{ id: 'edge1', source: 'node1', target: 'node2' }],\n  },\n\n  node: {\n    type: 'pie-node',\n    otherShapes: {},\n  },\n});\n\nwindow.graph = graph;",title:{zh:"使用 G 自定义的饼图节点",en:"Pie Chart Node"},filename:"pieChart.js",isNew:!1},{id:"g2BarChart",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*VcCDR5myr70AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * Custom Bar chart with @antv/g2\n */\nimport { Graph, Extensions, extend } from '@antv/g6';\nimport { stdlib, renderToMountedElement } from '@antv/g2';\n\nconst G2Library = { ...stdlib() };\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nclass G2BarChartNode extends Extensions.RectNode {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { id, data } = model;\n    const {\n      size: [width, height],\n      value,\n    } = data;\n\n    const group = this.upsertShape(\n      'rect',\n      'g2-bar-chart-group',\n      {\n        x: -width / 2,\n        y: -height / 2,\n        width,\n        height,\n        fill: '#fff',\n        stroke: '#697b8c',\n        radius: 10,\n        shadowColor: '#697b8c',\n        shadowBlur: 10,\n        shadowOffsetX: 5,\n        shadowOffsetY: 5,\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n\n    // to make group trigger DOMNodeInsertedIntoDocument event\n    group.isMutationObserved = true;\n    group.addEventListener('DOMNodeInsertedIntoDocument', () => {\n      renderToMountedElement(\n        // @antv/g2 Specification\n        // https://g2.antv.antgroup.com/examples/general/interval/#column\n        {\n          width,\n          height,\n          data: { value },\n          title: id,\n          type: 'interval',\n          axis: {\n            x: { title: false },\n            y: { title: false },\n          },\n          scale: {\n            y: { domain: [0, 100] },\n          },\n          encode: {\n            x: 'subject',\n            y: 'score',\n            color: 'subject',\n          },\n          legend: { color: false },\n        },\n        {\n          group,\n          library: G2Library,\n        },\n      );\n    });\n\n    return {\n      'g2-bar-chart-group': group,\n    };\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'g2-bar-chart': G2BarChartNode,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  autoFit: 'center',\n  modes: {\n    default: [\n      {\n        type: 'drag-node',\n        // prevent hide the node when dragging\n        enableTransient: false,\n      },\n    ],\n  },\n  data: {\n    nodes: [\n      {\n        id: 'Jack',\n        data: {\n          size: [250, 250],\n          value: [\n            { subject: 'Math', score: 95 },\n            { subject: 'Chinese', score: 70 },\n            { subject: 'English', score: 75 },\n            { subject: 'Geography', score: 80 },\n            { subject: 'Physics', score: 90 },\n            { subject: 'Chemistry', score: 85 },\n            { subject: 'Biology', score: 70 },\n          ],\n        },\n      },\n      {\n        id: 'Aaron',\n        data: {\n          size: [250, 250],\n          value: [\n            { subject: 'Math', score: 70 },\n            { subject: 'Chinese', score: 90 },\n            { subject: 'English', score: 90 },\n            { subject: 'Geography', score: 60 },\n            { subject: 'Physics', score: 70 },\n            { subject: 'Chemistry', score: 65 },\n            { subject: 'Biology', score: 80 },\n          ],\n        },\n      },\n      {\n        id: 'Rebecca',\n        data: {\n          size: [250, 250],\n          value: [\n            { subject: 'Math', score: 60 },\n            { subject: 'Chinese', score: 95 },\n            { subject: 'English', score: 100 },\n            { subject: 'Geography', score: 80 },\n            { subject: 'Physics', score: 60 },\n            { subject: 'Chemistry', score: 90 },\n            { subject: 'Biology', score: 85 },\n          ],\n        },\n      },\n    ],\n    edges: [],\n  },\n  node: {\n    type: 'g2-bar-chart',\n    otherShapes: {},\n    keyShape: {\n      width: {\n        fields: ['size'],\n        formatter: (model) => model.data.size[0],\n      },\n      height: {\n        fields: ['size'],\n        formatter: (model) => model.data.size[1],\n      },\n      opacity: 0,\n    },\n  },\n});\n\nwindow.graph = graph;\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Try to:';\nbtnContainer.appendChild(tip);\n\nconst students = ['Emily', 'Liam', 'Olivia', 'Ethan', 'Sophia', 'Mason'];\n\n['Add Student'].forEach((name, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = name;\n  btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', () => {\n    const student = students.shift();\n    if (!student) return;\n    const randomScore = () => 60 + Math.floor(Math.random() * 40);\n    graph.addData('node', {\n      id: student,\n      data: {\n        size: [250, 250],\n        value: [\n          { subject: 'Math', score: randomScore() },\n          { subject: 'Chinese', score: randomScore() },\n          { subject: 'English', score: randomScore() },\n          { subject: 'Geography', score: randomScore() },\n          { subject: 'Physics', score: randomScore() },\n          { subject: 'Chemistry', score: randomScore() },\n          { subject: 'Biology', score: randomScore() },\n        ],\n      },\n    });\n    graph.layout();\n  });\n});\n",title:{zh:"使用 G2 自定义的条形图节点",en:"G2 Bar Chart Node"},filename:"g2BarChart.js",isNew:!1},{id:"g2LatticeChart",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-ojrRKKxYxMAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * Custom Bar chart with @antv/g2\n */\nimport { Graph, Extensions, extend } from '@antv/g6';\nimport { stdlib, renderToMountedElement } from '@antv/g2';\n\nconst G2Library = { ...stdlib() };\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nclass G2BarChartNode extends Extensions.RectNode {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { data } = model;\n    const {\n      size: [width, height],\n      value,\n    } = data;\n    const group = this.upsertShape(\n      'group',\n      'g2-lattice-chart-group',\n      {\n        x: -width / 2,\n        y: -height / 2,\n        zIndex: 10,\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n\n    // to make group trigger DOMNodeInsertedIntoDocument event\n    group.isMutationObserved = true;\n    group.addEventListener('DOMNodeInsertedIntoDocument', () => {\n      renderToMountedElement(\n        // @antv/g2 Specification\n        // https://g2.antv.antgroup.com/examples/animation/group/#point\n        {\n          width,\n          height,\n          margin: 0,\n          padding: 10,\n          type: 'view',\n          autoFit: true,\n          style: { plotFill: '#000' },\n          children: [\n            {\n              type: 'point',\n              padding: 0,\n              data: { value },\n              encode: { x: 'x', y: 'y', color: 'value', shape: 'point' },\n              transform: [\n                {\n                  type: 'stackEnter',\n                  groupBy: ['x', 'y'],\n                  orderBy: 'color',\n                  duration: 10000,\n                },\n              ],\n              scale: {\n                y: { range: [0, 1] },\n                color: {\n                  type: 'sqrt',\n                  range: ['hsl(152,80%,80%)', 'hsl(228,30%,40%)'],\n                },\n              },\n              axis: false,\n              legend: { color: false },\n            },\n          ],\n        },\n        {\n          group,\n          library: G2Library,\n        },\n      );\n    });\n\n    return {\n      'g2-lattice-chart-group': group,\n    };\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'g2-bar-chart': G2BarChartNode,\n  },\n});\n\nconst generateValue = () => {\n  const xRange = [0, 100];\n  const yRange = [0, 100];\n  // create random lattice data\n  const positions = {};\n  const data = [];\n  for (let i = 0; i < 100; i++) {\n    let x = Math.round(Math.random() * (xRange[1] - xRange[0]) + xRange[0]);\n    let y = Math.round(Math.random() * (yRange[1] - yRange[0]) + yRange[0]);\n    const key = `${x}-${y}`;\n    if (positions[key]) {\n      i--;\n      continue;\n    }\n    positions[key] = true;\n    data.push({ x, y, value: Math.round(Math.random() * 10) });\n  }\n  return data;\n};\n\nconst dataLength = 5;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  autoFit: 'center',\n  layout: {\n    type: 'force',\n    preventOverlap: true,\n    animated: true,\n    linkDistance: (d) => {\n      if (d.source === 'node0' || d.target === 'node0') {\n        return 200;\n      }\n      return 80;\n    },\n  },\n  modes: {\n    default: [\n      {\n        type: 'drag-node',\n        // prevent hide the node when dragging\n        enableTransient: false,\n      },\n      'zoom-canvas',\n    ],\n  },\n  data: {\n    nodes: Array.from({ length: dataLength }).map((_, i) => ({\n      id: `Area${i}`,\n      data: { value: generateValue(), size: [150, 100] },\n    })),\n    edges: Array.from({ length: dataLength }).map((_, i) => {\n      return {\n        id: `Edge${i}`,\n        source: `Area${i}`,\n        target: `Area${(i + 1) % 5}`,\n      };\n    }),\n  },\n  node: {\n    type: 'g2-bar-chart',\n    otherShapes: {},\n    keyShape: {\n      width: {\n        fields: ['size'],\n        formatter: (model) => model.data.size[0],\n      },\n      height: {\n        fields: ['size'],\n        formatter: (model) => model.data.size[1],\n      },\n    },\n  },\n});\n\nwindow.graph = graph;\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Try to:';\nbtnContainer.appendChild(tip);\n\n['Refresh Data'].forEach((name, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = name;\n  btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', () => {\n    Array.from({ length: dataLength }).forEach((_, i) => {\n      graph.updateData('node', {\n        id: `Area${i}`,\n        data: { value: generateValue() },\n      });\n    });\n  });\n});\n",title:{zh:"使用 G2 自定义的点阵图节点",en:"G2 Lattice Node"},filename:"g2LatticeChart.js",isNew:!1},{id:"g2ActiveChart",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*GVyoQKk2WIIAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * Custom Bar chart with @antv/g2\n */\nimport { Graph, Extensions, extend } from '@antv/g6';\nimport { stdlib, renderToMountedElement } from '@antv/g2';\n\nconst G2Library = { ...stdlib() };\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nclass G2BarChartNode extends Extensions.RectNode {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { id, data } = model;\n    const { radius = 50, value } = data;\n\n    const group = this.upsertShape(\n      'circle',\n      'g2-active-chart-group',\n      {\n        r: radius,\n        fill: '#fff',\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n\n    const title = this.upsertShape(\n      'text',\n      'g2-active-chart-title',\n      {\n        y: radius + 10,\n        fontSize: 10,\n        text: id,\n        textAlign: 'center',\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n\n    // to make group trigger DOMNodeInsertedIntoDocument event\n    group.isMutationObserved = true;\n    group.addEventListener('DOMNodeInsertedIntoDocument', () => {\n      const activeRadius = radius / 4;\n      const activeSize = radius / 2;\n      renderToMountedElement(\n        // @antv/g2 Specification\n        // https://g2.antv.antgroup.com/examples/general/radial/#apple-activity\n        {\n          x: -radius,\n          y: -radius,\n          width: radius * 2,\n          height: radius * 2,\n          type: 'view',\n          data: value,\n          margin: 0,\n          coordinate: { type: 'radial', innerRadius: 0.2 },\n          children: [\n            {\n              type: 'interval',\n              encode: { x: 'name', y: 1, size: activeSize, color: 'color' },\n              scale: { color: { type: 'identity' } },\n              style: { fillOpacity: 0.25 },\n              animate: false,\n              tooltip: false,\n            },\n            {\n              type: 'interval',\n              encode: { x: 'name', y: 'percent', color: 'color', size: activeSize },\n              style: {\n                radius: activeRadius,\n                shadowColor: 'rgba(0,0,0,0.45)',\n                shadowBlur: 20,\n                shadowOffsetX: -2,\n                shadowOffsetY: -5,\n              },\n              animate: {\n                enter: { type: 'fadeIn', duration: 1000 },\n              },\n              axis: false,\n              tooltip: false,\n            },\n            {\n              type: 'image',\n              encode: { x: 'name', y: 0, src: (d) => d.icon, size: 6 },\n              style: { transform: 'translateX(6)' },\n            },\n          ],\n        },\n        {\n          group,\n          library: G2Library,\n        },\n      );\n    });\n\n    return {\n      'g2-active-chart-group': group,\n      'g2-active-chart-title': title,\n    };\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'g2-bar-chart': G2BarChartNode,\n  },\n});\n\nconst generateValue = () => {\n  const getRandomPercent = () => +(Math.random() * 0.9 + 0.1).toFixed(1);\n\n  return [\n    {\n      name: 'activity1',\n      percent: getRandomPercent(),\n      color: '#1ad5de',\n      icon: 'https://gw.alipayobjects.com/zos/antfincdn/ck11Y6aRrz/shangjiantou.png',\n    },\n    {\n      name: 'activity2',\n      percent: getRandomPercent(),\n      color: '#a0ff03',\n      icon: 'https://gw.alipayobjects.com/zos/antfincdn/zY2JB7hhrO/shuangjiantou.png',\n    },\n    {\n      name: 'activity3',\n      percent: getRandomPercent(),\n      color: '#e90b3a',\n      icon: 'https://gw.alipayobjects.com/zos/antfincdn/%24qBxSxdK05/jiantou.png',\n    },\n  ];\n};\n\nconst people = ['Aaron', 'Rebecca', 'Emily', 'Liam', 'Olivia', 'Ethan', 'Sophia', 'Mason'];\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  autoFit: 'center',\n  layout: {\n    type: 'force',\n    preventOverlap: true,\n    animated: false,\n    linkDistance: (d) => {\n      if (d.source === 'node0' || d.target === 'node0') {\n        return 200;\n      }\n      return 80;\n    },\n  },\n  modes: {\n    default: [\n      {\n        type: 'drag-node',\n        // prevent hide the node when dragging\n        enableTransient: false,\n      },\n      'zoom-canvas',\n    ],\n  },\n  data: {\n    nodes: people.map((name, i) => ({\n      id: name,\n      data: { value: generateValue() },\n    })),\n    edges: people.map((_, i) => {\n      return {\n        id: `Edge${i}`,\n        source: people[i],\n        target: people[(i + 1) % 5],\n      };\n    }),\n  },\n  node: {\n    type: 'g2-bar-chart',\n    otherShapes: {},\n  },\n});\n\nwindow.graph = graph;",title:{zh:"使用 G2 自定义的活动图节点",en:"G2 Active Node"},filename:"g2ActiveChart.js",isNew:!1},{id:"react-node",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*wyOxRoAbiPYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend } from '@antv/g6';\nimport { createReactNode } from '@antv/g6-react-node';\nimport { Alert } from 'antd';\n\nconst Node = ({ model }) => {\n  const { data } = model;\n  const { message, nodeType } = data;\n  return <Alert message={message} type={nodeType} showIcon />;\n};\n\nconst ReactNode = createReactNode(Node);\n\nconst ExtendGraph = extend(Graph, {\n  nodes: {\n    'react-node': ReactNode,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nwindow.graph = new ExtendGraph({\n  container: 'container',\n  width,\n  height,\n  autoFit: 'center',\n  modes: {\n    default: [{ type: 'drag-node', enableTransient: false }],\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: { size: [120, 40], message: 'Success', nodeType: 'success' } },\n      { id: 'node2', data: { size: [120, 40], message: 'Warning', nodeType: 'warning' } },\n    ],\n    edges: [\n      {\n        source: 'node1',\n        target: 'node2',\n      },\n    ],\n  },\n  node: {\n    type: 'react-node',\n    otherShapes: {},\n  },\n});\n",title:{zh:"使用 React 写法创建自定义 G 节点",en:"React Node"},filename:"react-node.js",isNew:!1}],icon:"",id:"customNode",title:{en:"Custom Node",zh:"自定义节点"},childrenKey:"demos",order:4},{demos:[{id:"extraShape",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HZVSQqa-I8AAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nclass CustomEdge extends Extensions.CubicEdge {\n  afterDraw(model, shapeMap, diffData, diffState) {\n    const data = model.data;\n    const { keyShape } = shapeMap;\n    const midPoint = keyShape.getPoint(0.5);\n    shapeMap.midShape = this.upsertShape(\n      'rect',\n      'midShape',\n      {\n        width: 10,\n        height: 10,\n        x: midPoint.x - 5,\n        y: midPoint.y - 5,\n        fill: data.midShapeColor,\n        ...model.data?.otherShapes?.midShape, // merged style from mappers and states\n      },\n      {\n        model,\n        shapeMap,\n        diffData,\n        diffState,\n      },\n    );\n    // get the coordinate of the quatile on the path\n    // 获取路径上的四分位点坐标\n    const quatile = keyShape.getPoint(0.25);\n    // add a circle on the quatile of the path\n    // 在四分位点上放置一个圆形\n    shapeMap.quatileShape = this.upsertShape(\n      'circle',\n      'quatileShape',\n      {\n        r: 5,\n        cx: quatile.x,\n        cy: quatile.y,\n        zIndex: 1,\n        fill: data.quatileShapeColor,\n        ...model.data?.otherShapes?.quatileShape, // merged style from mappers and states\n      },\n      {\n        model,\n        shapeMap,\n      },\n    );\n    return shapeMap;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'custom-edge': CustomEdge,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['click-select'],\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 100,\n          y: 100,\n        },\n      },\n      {\n        id: 'node2',\n        data: {\n          x: 300,\n          y: 100,\n        },\n      },\n      {\n        id: 'node3',\n        data: {\n          x: 300,\n          y: 200,\n        },\n      },\n    ],\n    edges: [\n      {\n        id: 'edge1',\n        source: 'node1',\n        target: 'node2',\n        data: {\n          midShapeColor: '#f00',\n          quatileShapeColor: '#f00',\n        },\n      },\n      {\n        id: 'edge2',\n        source: 'node1',\n        target: 'node3',\n        data: {\n          midShapeColor: '#0f0',\n          quatileShapeColor: '#0f0',\n        },\n      },\n    ],\n  },\n  edge: {\n    type: 'custom-edge',\n    otherShapes: {},\n  },\n});\n\nwindow.graph = graph;",title:{zh:"添加额外图形",en:"Custom Edge with Extra Shapes"},filename:"extraShape.js",isNew:!1},{id:"customPolyline",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*MPQTSap6ZusAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nclass CustomPolyline extends Extensions.LineEdge {\n  getPath(sourcePoint, targetPoint) {\n    return [\n      ['M', sourcePoint.x, sourcePoint.y],\n      ['L', targetPoint.x / 3 + (2 / 3) * sourcePoint.x, sourcePoint.y],\n      ['L', targetPoint.x / 3 + (2 / 3) * sourcePoint.x, targetPoint.y],\n      ['L', targetPoint.x, targetPoint.y],\n    ];\n  }\n\n  drawKeyShape(model, sourcePoint, targetPoint, shapeMap, diffData, diffState) {\n    const { keyShape: keyShapeStyle } = this.mergedStyles;\n    const { startArrow, endArrow, ...others } = keyShapeStyle;\n    const lineStyle = {\n      ...others,\n      path: this.getPath(sourcePoint, targetPoint),\n      isBillboard: true,\n    };\n    this.upsertArrow('start', startArrow, others, model, lineStyle);\n    this.upsertArrow('end', endArrow, others, model, lineStyle);\n    return this.upsertShape('path', 'keyShape', lineStyle, {\n      model,\n      shapeMap,\n      diffData,\n      diffState,\n    });\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'custom-polyline': CustomPolyline,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['click-select', 'drag-node'],\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 150,\n          y: 100,\n          r: 40,\n          anchorPoints: [\n            [1, 0.5],\n            [1, 0],\n          ],\n        },\n      },\n      {\n        id: 'node2',\n        data: {\n          x: 300,\n          y: 200,\n          r: 40,\n          anchorPoints: [\n            [0, 0.5],\n            [0, 1],\n          ],\n        },\n      },\n    ],\n    edges: [\n      {\n        id: 'edge1',\n        source: 'node1',\n        target: 'node2',\n      },\n    ],\n  },\n  edge: (edgeInnerModel) => {\n    const { id, data } = edgeInnerModel;\n    return {\n      id,\n      data: {\n        ...data,\n        type: 'custom-polyline',\n        keyShape: {\n          lineWidth: 1,\n          stroke: '#F6BD16',\n          startArrow: {\n            path: 'M 0,0 L 12,6 L 9,0 L 12,-6 Z',\n            fill: '#F6BD16',\n          },\n          endArrow: {\n            path: 'M 0,0 L 12,6 L 9,0 L 12,-6 Z',\n            fill: '#F6BD16',\n          },\n        },\n      },\n    };\n  },\n});\n\nwindow.graph = graph;",title:{zh:"自定义折线",en:"Custom Polyline"},filename:"customPolyline.js",isNew:!1},{id:"edgeMulLabel",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dosgT7wNvF0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nclass MultipleLabelsEdge extends Extensions.LineEdge {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const labels = model.data.labels;\n    // the left label\n    const startPoint = shapeMap.keyShape.getPoint(0);\n    const leftTextStyle = {\n      text: labels[0],\n      fill: '#595959',\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'bottom',\n      x: startPoint.x,\n      y: startPoint.y,\n    };\n    shapeMap.leftTextShape = this.upsertShape('text', 'leftTextShape', leftTextStyle, {\n      model,\n      shapeMap,\n      diffData,\n      diffState,\n    });\n\n    // the right label\n    const endPoint = shapeMap.keyShape.getPoint(1);\n    const rightTextStyle = {\n      text: labels[1],\n      fill: '#595959',\n      fontSize: 12,\n      textAlign: 'end',\n      textBaseline: 'bottom',\n      x: endPoint.x,\n      y: endPoint.y,\n    };\n    shapeMap.rightTextShape = this.upsertShape('text', 'rightTextShape', rightTextStyle, {\n      model,\n      shapeMap,\n      diffData,\n      diffState,\n    });\n    return shapeMap;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'multiple-labels-edge': MultipleLabelsEdge,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['click-select', 'drag-node'],\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 100,\n          y: 100,\n        },\n      },\n      {\n        id: 'node2',\n        data: {\n          x: 300,\n          y: 100,\n        },\n      },\n    ],\n    edges: [\n      {\n        id: 'edge1',\n        source: 'node1',\n        target: 'node2',\n        data: {\n          // The left and right labels\n          labels: ['hello', 'world'],\n        },\n      },\n    ],\n  },\n  edge: {\n    type: 'multiple-labels-edge',\n    keyShape: {\n      stroke: '#F6BD16',\n    },\n    otherShapes: {},\n  },\n});\n\nwindow.graph = graph;",title:{zh:"多标签边",en:"Multiple Labels"},filename:"edgeMulLabel.js",isNew:!1}],icon:"",id:"customEdge",title:{en:"Custom Edge",zh:"自定义边"},childrenKey:"demos",order:5},{demos:[{id:"ports",screenshot:"",source:"import { Graph, Utils } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node-1', style: { x: 80, y: 200 } },\n    { id: 'node-2', style: { x: 250, y: 200 } },\n  ],\n  edges: [\n    {\n      id: 'edge-1',\n      source: 'node-1',\n      target: 'node-2',\n    },\n    {\n      id: 'edge-2',\n      source: 'node-1',\n      target: 'node-2',\n    },\n    { id: 'edge-3', source: 'node-1', target: 'node-2' },\n  ],\n};\n\nconst graph = new Graph({\n  data,\n  node: {\n    style: {\n      type: (d) => (d.id === 'node-1' ? 'circle' : 'rect'),\n      size: (d) => (d.id === 'node-1' ? 30 : [50, 150]),\n      port: true,\n      ports: (d) =>\n        d.id === 'node-2'\n          ? [\n              { key: 'port-1', placement: [0, 0.15] },\n              { key: 'port-2', placement: [0, 0.5] },\n              { key: 'port-3', placement: [0, 0.85] },\n            ]\n          : [],\n    },\n  },\n  edge: {\n    style: {\n      targetPort: (d) => `port-${Utils.idOf(d).toString().split('-')[1]}`,\n      endArrow: true,\n    },\n  },\n});\n\ngraph.render();\n\nconst updatePort = (attr: string, value: any) => {\n  graph.updateNodeData((prev) => {\n    const node2Data = prev.find((node: any) => node.id === 'node-2')!;\n    return [\n      ...prev.filter((node: any) => node.id !== 'node-2'),\n      {\n        ...node2Data,\n        style: {\n          ...node2Data!.style,\n          [attr]: value,\n        },\n      },\n    ];\n  });\n};\n\nconst isPortShow = () => {\n  const node2Data = graph.getNodeData().find((node: any) => node.id === 'node-2')!;\n  return (node2Data?.style?.portR as number) > 0;\n};\n\nconst configActions = {\n  'Show/Hide Graphic': () => {\n    updatePort('portR', isPortShow() ? 0 : 3);\n  },\n  'Link to Center/Outer': () => {\n    const node2Data = graph.getNodeData().find((node: any) => node.id === 'node-2')!;\n    updatePort('portLinkToCenter', !node2Data?.style?.portLinkToCenter);\n  },\n};\n\nconst container = document.getElementById('container')!;\nconst controllerContainer = document.createElement('div');\ncontrollerContainer.style.position = 'absolute';\ncontainer.appendChild(controllerContainer);\n\nconst btnContainer = document.createElement('div');\ncontrollerContainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = `👉 Ports Config: `;\nbtnContainer.appendChild(tip);\nObject.keys(configActions).forEach((name, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = name;\n  btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', async () => {\n    configActions[name]();\n    await graph.draw();\n  });\n});\n",title:{zh:"设置连接桩",en:"Ports"},filename:"ports.ts",isNew:!1}],icon:"",id:"ports",title:{en:"Node Ports",zh:"节点连接桩"},childrenKey:"demos",order:5},{demos:[{id:"cCircle",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*F_nVSKzOQ64AAAAAAAAAAAAADmJ7AQ/original",source:"import { Extensions, Graph, stdLib, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Click the bottom marker to collapse/expand the combo.';\ncontainer.appendChild(descriptionDiv);\n\nclass CCircleCombo extends Extensions.CircleCombo {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { data } = model;\n    const keyShapeBBox = shapeMap.keyShape.getLocalBounds();\n    const otherShapes = {\n      markerShape: this.upsertShape(\n        'path',\n        'markerShape',\n        {\n          cursor: 'pointer',\n          stroke: '#666',\n          lineWidth: 1,\n          fill: '#fff',\n          path: data.collapsed\n            ? stdLib.markers.expand(keyShapeBBox.center[0], keyShapeBBox.max[1], 8)\n            : stdLib.markers.collapse(keyShapeBBox.center[0], keyShapeBBox.max[1], 8),\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n    };\n    return otherShapes;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  combos: {\n    'c-circle-combo': CCircleCombo,\n  },\n  behaviors: {\n    'hover-activate': Extensions.HoverActivate,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  stackCfg: {\n    ignoreStateChange: true,\n  },\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    // animates: {\n    //   update: [\n    //     {\n    //       fields: ['opacity'],\n    //       shapeId: 'haloShape',\n    //     },\n    //   ],\n    // },\n  },\n  combo: (model) => {\n    return {\n      id: model.id,\n      data: {\n        type: 'c-circle-combo',\n        ...model.data,\n        keyShape: {\n          padding: [10, 20, 30, 40],\n          r: 50,\n        },\n        labelShape: {\n          text: model.data.label,\n          position: 'top',\n        },\n        otherShapes: {},\n      },\n    };\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 350,\n          y: 200,\n          parentId: 'combo1',\n        },\n      },\n      { id: 'node2', data: { x: 350, y: 250, parentId: 'combo1' } },\n      { id: 'node3', data: { x: 100, y: 200, parentId: 'combo3' } },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2' },\n      { id: 'edge2', source: 'node1', target: 'node3' },\n      { id: 'edge3', source: 'combo1', target: 'node3' },\n    ],\n    combos: [\n      { id: 'combo1', data: { label: 'Combo 1', parentId: 'combo2' } },\n      { id: 'combo2', data: { label: 'Combo 2' } },\n      { id: 'combo3', data: { label: 'Combo 3', collapsed: true } },\n    ],\n  },\n  modes: {\n    default: [\n      {\n        type: 'drag-node',\n        enableTransient: false,\n        updateComboStructure: false,\n      },\n      'drag-canvas',\n      {\n        type: 'click-select',\n        itemTypes: ['node', 'edge', 'combo'],\n      },\n      {\n        type: 'drag-combo',\n        enableTransient: true,\n        updateComboStructure: true,\n      },\n    ],\n  },\n});\n\n/** Click the bottom marker to collapse/expand the combo. */\ngraph.on('combo:click', (event) => {\n  const { itemId, target } = event;\n  if (target.id === 'markerShape') {\n    const model = graph.getComboData(itemId);\n    if (model.data.collapsed) {\n      graph.expandCombo(itemId);\n    } else {\n      graph.collapseCombo(itemId);\n    }\n  }\n});\n\nwindow.graph = graph;",title:"带有 Marker 的 Circle",filename:"cCircle.js",isNew:!1},{id:"cRect",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*5MDIQ4NU5xoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Extensions, Graph, stdLib, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Click the bottom marker to collapse/expand the combo.';\ncontainer.appendChild(descriptionDiv);\n\nclass CRectCombo extends Extensions.RectCombo {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { data } = model;\n    const keyShapeBBox = shapeMap.keyShape.getLocalBounds();\n    const otherShapes = {\n      markerShape: this.upsertShape(\n        'path',\n        'markerShape',\n        {\n          cursor: 'pointer',\n          stroke: '#666',\n          lineWidth: 1,\n          fill: '#fff',\n          path: data.collapsed\n            ? stdLib.markers.expand(keyShapeBBox.center[0], keyShapeBBox.max[1], 8)\n            : stdLib.markers.collapse(keyShapeBBox.center[0], keyShapeBBox.max[1], 8),\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n    };\n    return otherShapes;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  combos: {\n    'c-rect-combo': CRectCombo,\n  },\n  // behaviors: {\n  //   'hover-activate': Extensions.HoverActivate,\n  // },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  stackCfg: {\n    ignoreStateChange: true,\n  },\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    animates: {\n      update: [\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n        },\n      ],\n    },\n  },\n  combo: (model) => {\n    return {\n      id: model.id,\n      data: {\n        type: 'c-rect-combo',\n        ...model.data,\n        keyShape: {\n          padding: [10, 20, 30, 40],\n          r: 50,\n        },\n        labelShape: {\n          text: model.data.label,\n          position: 'top',\n        },\n        otherShapes: {},\n        animates: {\n          buildIn: [\n            {\n              fields: ['opacity'],\n              duration: 500,\n              delay: 500 + Math.random() * 500,\n            },\n          ],\n          buildOut: [\n            {\n              fields: ['opacity'],\n              duration: 200,\n            },\n          ],\n          update: [\n            {\n              fields: ['lineWidth', 'r'],\n              shapeId: 'keyShape',\n            },\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n            },\n          ],\n        },\n      },\n    };\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 350,\n          y: 200,\n          parentId: 'combo1',\n        },\n      },\n      { id: 'node2', data: { x: 350, y: 250, parentId: 'combo1' } },\n      { id: 'node3', data: { x: 100, y: 200, parentId: 'combo3' } },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2' },\n      { id: 'edge2', source: 'node1', target: 'node3' },\n    ],\n    combos: [\n      { id: 'combo1', data: { label: 'Combo 1', parentId: 'combo2' } },\n      { id: 'combo2', data: { label: 'Combo 2' } },\n      { id: 'combo3', data: { label: 'Combo 3', collapsed: true } },\n    ],\n  },\n  modes: {\n    default: [\n      {\n        type: 'drag-node',\n        enableTransient: false,\n        updateComboStructure: false,\n      },\n      'drag-canvas',\n      {\n        type: 'click-select',\n        itemTypes: ['node', 'edge', 'combo'],\n      },\n      {\n        type: 'drag-combo',\n        enableTransient: true,\n        updateComboStructure: true,\n      },\n    ],\n  },\n});\n\n/** Click the bottom marker to collapse/expand the combo. */\ngraph.on('combo:click', (event) => {\n  const { itemId, target } = event;\n  if (target.id === 'markerShape') {\n    const model = graph.getComboData(itemId);\n    if (model.data.collapsed) {\n      graph.expandCombo(itemId);\n    } else {\n      graph.collapseCombo(itemId);\n    }\n  }\n});\n\nwindow.graph = graph;",title:"带有 Marker 的 Rect",filename:"cRect.js",isNew:!1}],icon:"",id:"customCombo",title:{en:"Custom Combo",zh:"自定义 Combo"},childrenKey:"demos",order:6},{demos:[{id:"copyLabel",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*O5DCQ4ziMisAAAAAAAAAAAAAARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        label: 'Click to copy this label which is too long to be displayed',\n      },\n    },\n  ],\n  edges: [],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      x: 200,\n      y: 200,\n      size: 150,\n      labelPlacement: 'center',\n      labelText: (d) => d.data.label,\n      labelMaxWidth: '90%',\n      labelBackgroundFill: '#eee',\n      labelBackgroundFillOpacity: 0.5,\n      labelBackgroundRadius: 4,\n      labelPointerEvents: 'none',\n      labelBackgroundPointerEvents: 'none',\n    },\n  },\n  behaviors: ['drag-element'],\n});\n\ngraph.render();\n\ngraph.on('node:click', (e) => {\n  const id = e.target.id;\n  const node = graph.getNodeData(id);\n  const label = node?.data?.label as string;\n\n  navigator.clipboard.writeText(label as string);\n  alert('copied to clipboard!');\n});\n\ngraph.on('node:pointerenter', (e) => {\n  graph.setElementState({ [e.target.id]: 'active' });\n});\n\ngraph.on('node:pointerout', (e) => {\n  graph.setElementState({ [e.target.id]: [] });\n});\n",title:{zh:"文本超长交互与复制",en:"Long Label Show and Copy"},filename:"copyLabel.ts",isNew:!1},{id:"labelLen",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*LsGJTIaynVwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 100,\n        y: 150,\n        label: 'This label is too long to be displayed',\n        size: 100,\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        x: 400,\n        y: 150,\n        label: 'This label is too long to be displayed',\n        size: 150,\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n      data: {\n        label: 'This label is too long to be displayed',\n      },\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      x: (d) => d.data.x,\n      y: (d) => d.data.y,\n      size: (d) => d.data.size,\n      labelPlacement: 'center',\n      labelText: (d) => d.data.label,\n      labelMaxWidth: '90%',\n      labelBackgroundFill: '#eee',\n      labelBackgroundFillOpacity: 0.5,\n      labelBackgroundRadius: 4,\n    },\n  },\n  edge: {\n    style: {\n      labelOffsetY: -4,\n      labelTextBaseline: 'bottom',\n      labelText: (d) => d.data.label,\n      labelMaxWidth: '80%',\n      labelBackgroundFill: 'red',\n      labelBackgroundFillOpacity: 0.5,\n      labelBackgroundRadius: 4,\n    },\n  },\n  behaviors: ['drag-element'],\n});\n\ngraph.render();\n",title:{zh:"文本超长",en:"Long Label"},filename:"labelLen.ts",isNew:!1},{id:"labelLen1",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*UlYDSaAlGLkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 100,\n        y: 150,\n        label: `This label is too  long to be displayed`,\n        size: 100,\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        x: 400,\n        y: 150,\n        label: 'This label is too long to be displayed',\n        size: 150,\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n      data: {\n        label: 'This label is too long to be displayed',\n      },\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  fitCenter: true,\n  data,\n  node: {\n    style: {\n      type: 'rect',\n      x: (d) => d.data.x,\n      y: (d) => d.data.y,\n      size: (d) => d.data.size,\n      labelPlacement: 'bottom',\n      labelText: (d) => d.data.label,\n      labelMaxWidth: '90%',\n      labelBackgroundFill: '#eee',\n      labelBackgroundFillOpacity: 0.5,\n      labelBackgroundRadius: 4,\n      labelWordWrap: true,\n      labelMaxLines: 4,\n    },\n  },\n  edge: {\n    style: {\n      labelOffsetY: -4,\n      labelTextBaseline: 'bottom',\n      labelText: (d) => d.data.label,\n      labelMaxWidth: '80%',\n      labelBackgroundFill: 'red',\n      labelBackgroundFillOpacity: 0.5,\n      labelBackgroundRadius: 4,\n      labelWordWrap: true,\n      labelMaxLines: 4,\n    },\n  },\n  behaviors: ['drag-element'],\n});\n\ngraph.render();\n",title:{zh:"多行显示超长文本",en:"Break Line for Long Label"},filename:"labelLen1.ts",isNew:!1}],icon:"",id:"label",title:{en:"Long Label",zh:"超长文本"},childrenKey:"demos",order:7},{demos:[{id:"label-background",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*m5ABT5ra4w4AAAAAAAAAAABkARQnAQ",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 150,\n        y: 100,\n      },\n    },\n    {\n      id: 'node2',\n      data: { x: 250, y: 200 },\n    },\n    {\n      id: 'node3',\n      data: { x: 450, y: 200 },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n    },\n    {\n      id: 'edge2',\n      source: 'node1',\n      target: 'node3',\n    },\n    {\n      id: 'edge3',\n      source: 'node2',\n      target: 'node3',\n    },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  node: {\n    style: {\n      labelText: (d) => d.id,\n      labelPosition: 'bottom',\n      labelFill: '#e66465',\n      labelFontSize: 12,\n      labelFontStyle: 'italic',\n      labelBackgroundFill: '#eee',\n      labelBackgroundStroke: '#9ec9ff',\n      labelBackgroundRadius: 2,\n    },\n  },\n  edge: {\n    style: {\n      labelText: (d) => d.id,\n      labelPosition: 'center',\n      labelTextBaseline: 'top',\n      labelDy: 5,\n      labelFontSize: 12,\n      labelFontWeight: 'bold',\n      labelFill: '#1890ff',\n      labelBackgroundFill: '#eee',\n      labelBackgroundStroke: '#9ec9ff',\n      labelBackgroundRadius: 2,\n    },\n  },\n  layout: {\n    type: 'force',\n  },\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"设置元素的文本背景",en:"Set Node Label Background"},filename:"label-background.ts",isNew:!1}],icon:"",id:"labelBg",title:{en:"Label Background",zh:"设置文本背景"},childrenKey:"demos",order:8},{demos:[{id:"multiEdges",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*g2p_Qa_wZcIAAAAAAAAAAABkARQnAQ",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 50,\n        y: 350,\n        label: 'A',\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        x: 250,\n        y: 150,\n        label: 'B',\n      },\n    },\n    {\n      id: 'node3',\n      data: { x: 450, y: 350, label: 'C' },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node3',\n      data: {\n        label: `A -> C`,\n      },\n    },\n    {\n      id: 'edge2',\n      source: 'node3',\n      target: 'node1',\n      data: {\n        label: `C -> A`,\n      },\n    },\n  ],\n};\n\nfor (let i = 0; i < 10; i++) {\n  data.edges.push({\n    id: `edgeA-B${i}`,\n    source: 'node1',\n    target: 'node2',\n    data: {\n      label: `${i}th edge of A -> B`,\n    },\n  });\n}\n\nfor (let i = 0; i < 5; i++) {\n  data.edges.push({\n    id: `edgeB-C${i}`,\n    source: 'node2',\n    target: 'node3',\n    data: {\n      label: `${i}th edge of B -> C`,\n    },\n  });\n}\n\nconst ExtGraph = extend(Graph, {\n  transforms: {\n    'process-parallel-edges': Extensions.ProcessParallelEdges,\n  },\n  edges: {\n    'quadratic-edge': Extensions.QuadraticEdge,\n    'loop-edge': Extensions.LoopEdge,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst graph = new ExtGraph({\n  container,\n  width,\n  height,\n  data,\n  transforms: [\n    {\n      type: 'process-parallel-edges',\n      multiEdgeType: 'quadratic-edge',\n      loopEdgeType: 'loop-edge',\n    },\n  ],\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  modes: {\n    default: ['drag-node'],\n  },\n  node: {\n    labelShape: {\n      text: {\n        fields: ['label'],\n        formatter: (model) => model.data.label,\n      },\n      position: 'center',\n    },\n  },\n});\n\nlet currentAction = 'remove';\nconst removeEdgeBtn = document.createElement('button');\nremoveEdgeBtn.style.position = 'absolute';\nremoveEdgeBtn.style.zIndex = 10;\nremoveEdgeBtn.id = 'parallelEdges-removeEdge';\nremoveEdgeBtn.textContent = '移除/增加边';\nremoveEdgeBtn.addEventListener('click', (e) => {\n  currentAction = currentAction === 'remove' ? 'add' : 'remove';\n  if (currentAction === 'remove') {\n    graph.removeData('edge', ['new-edge']);\n  } else {\n    graph.addData('edge', {\n      id: 'new-edge',\n      source: 'node1',\n      target: 'node2',\n      data: {\n        label: 'new edge',\n        keyShape: {\n          stroke: '#0f0',\n          lineWidth: 2,\n        },\n      },\n    });\n  }\n});\ncontainer.appendChild(removeEdgeBtn);\n\nlet updateIndex = 1;\nconst updateEdgeBtn = document.createElement('button');\nremoveEdgeBtn.style.position = 'absolute';\nremoveEdgeBtn.style.zIndex = 10;\nupdateEdgeBtn.textContent = '更新边';\nupdateEdgeBtn.id = 'parallelEdges-updateData';\nupdateEdgeBtn.addEventListener('click', (e) => {\n  graph.updateData('edge', {\n    id: 'edge2',\n    source: 'node3',\n    target: `node${updateIndex + 1}`,\n    data: {\n      label: 'update edge',\n    },\n  });\n  updateIndex = (updateIndex + 1) % 3;\n});\ncontainer.appendChild(updateEdgeBtn);\n\nwindow.graph = graph;",title:{zh:"两节点间存在多条边",en:"Multiple Edges Between 2 Nodes"},filename:"multiEdges.js",isNew:!1}],icon:"",id:"multiEdge",title:{en:"Multiple Edges Between 2 Nodes",zh:"两节点间存在多条边"},childrenKey:"demos",order:9}],childrenKey:"examples"},{id:"interaction",title:{zh:"交互",en:"Interaction"},icon:"interaction",examples:[{demos:[{id:"activateRelations",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7cgmToibajkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\ninsertCss(`\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #000;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n`);\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst ExtGraph = extend(Graph, {\n  plugins: {\n    tooltip: Extensions.Tooltip,\n  },\n  behaviors: {\n    'activate-relations': Extensions.ActivateRelations,\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/xiaomi.json')\n  .then((res) => res.json())\n  .then((data) => {\n    console.log('data', data);\n    const graph = new ExtGraph({\n      container: 'container',\n      width,\n      height,\n      autoFit: 'view',\n      layout: {\n        type: 'force',\n        preventOverlap: true,\n        nodeSize: 32,\n        workerEnabled: true,\n      },\n      plugins: [\n        {\n          key: 'tooltip1',\n          type: 'tooltip',\n          trigger: 'pointerenter',\n          getContent: (e) => {\n            let innerHTML;\n            const getNodeNameById = (id) => data.nodes.find((node) => node.id === id).name;\n            if (e.itemType === 'node') {\n              innerHTML = getNodeNameById(e.itemId);\n            } else {\n              const { source, target } = data.edges.find((edge) => edge.id === e.itemId);\n              innerHTML = `来源：${getNodeNameById(source)}<br/>去向：${getNodeNameById(target)}`;\n            }\n            return `\n        <div class='g6-component-tooltip'>\n          ${innerHTML}\n        </div>\n            `;\n          },\n        },\n      ],\n      modes: {\n        default: [{ type: 'activate-relations', trigger: 'pointerenter' }, 'drag-canvas', 'zoom-canvas'],\n      },\n      data,\n      node: {\n        keyShape: {\n          r: 10,\n        },\n        animates: {\n          update: [\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n              states: ['selected'],\n              duration: 500,\n            },\n          ],\n        },\n      },\n      edge: {\n        keyShape: {\n          stroke: '#aaa',\n          lineAppendWidth: 2,\n          opacity: 0.3,\n        },\n        animates: {\n          update: [\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n              states: ['selected'],\n              duration: 500,\n            },\n          ],\n        },\n      },\n    });\n\nwindow.graph = graph;\n  });\n",title:{zh:"内置的高亮节点",en:"Activate Relations"},filename:"activateRelations.js",isNew:!1},{id:"highlightDark",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*AdibQby3Ma0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\ninsertCss(`\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #000;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n`);\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst ExtGraph = extend(Graph, {\n  plugins: {\n    tooltip: Extensions.Tooltip,\n  },\n  behaviors: {\n    'activate-relations': Extensions.ActivateRelations,\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/xiaomi.json')\n  .then((res) => res.json())\n  .then((data) => {\n    console.log('data', data);\n    const graph = new ExtGraph({\n      container: 'container',\n      width,\n      height,\n      autoFit: 'view',\n      layout: {\n        type: 'force',\n        preventOverlap: true,\n        nodeSize: 32,\n        workerEnabled: true,\n      },\n      plugins: [\n        {\n          key: 'tooltip1',\n          type: 'tooltip',\n          trigger: 'pointerenter',\n          getContent: (e) => {\n            let innerHTML;\n            const getNodeNameById = (id) => data.nodes.find((node) => node.id === id).name;\n            if (e.itemType === 'node') {\n              innerHTML = getNodeNameById(e.itemId);\n            } else {\n              const { source, target } = data.edges.find((edge) => edge.id === e.itemId);\n              innerHTML = `来源：${getNodeNameById(source)}<br/>去向：${getNodeNameById(target)}`;\n            }\n            return `\n        <div class='g6-component-tooltip'>\n          ${innerHTML}\n        </div>\n            `;\n          },\n        },\n      ],\n      modes: {\n        default: ['drag-canvas'],\n      },\n      data,\n      node: {\n        keyShape: {\n          r: 10,\n          opacity: 1,\n        },\n        animates: {\n          update: [\n            {\n              fields: ['opacity'],\n              shapeId: 'keyShape',\n              states: ['dark'],\n              duration: 300,\n            },\n          ],\n        },\n      },\n      nodeState: {\n        highlight: {\n          keyShape: {\n            opacity: 1,\n            fill: '#0f0',\n          },\n        },\n        dark: {\n          keyShape: {\n            opacity: 0.2,\n          },\n        },\n      },\n      edge: {\n        keyShape: {\n          stroke: '#aaa',\n          lineAppendWidth: 2,\n          opacity: 0.5,\n        },\n      },\n      edgeState: {\n        highlight: {\n          keyShape: {\n            stroke: '#999',\n          },\n        },\n        dark: {\n          keyshape: {\n            stroke: '#aaa',\n            opacity: 0.3,\n          },\n        },\n      },\n    });\n\n    graph.on('node:pointerenter', function (e) {\n      const { itemId } = e;\n      const allNodesId = graph.getAllNodesData().map((node) => node.id);\n      const highlightIds = [itemId];\n      graph.clearItemState(allNodesId);\n      graph.setItemState(itemId, 'dark', false);\n      graph.setItemState(itemId, 'highlight', true);\n      graph.getAllEdgesData().forEach(function (edge) {\n        const sourceId = edge.source;\n        const targetId = edge.target;\n        if (sourceId === itemId) {\n          graph.setItemState(targetId, 'dark', false);\n          graph.setItemState(targetId, 'highlight', true);\n          graph.setItemState(edge.id, 'highlight', true);\n          highlightIds.push(edge.id);\n          highlightIds.push(targetId);\n        } else if (targetId === itemId) {\n          graph.setItemState(sourceId, 'dark', false);\n          graph.setItemState(sourceId, 'highlight', true);\n          graph.setItemState(edge.id, 'highlight', true);\n          highlightIds.push(edge.id);\n          highlightIds.push(sourceId);\n        } else {\n          graph.setItemState(edge.id, 'highlight', false);\n        }\n      });\n      graph.setItemState(\n        allNodesId.filter((id) => !highlightIds.includes(id)),\n        'dark',\n        true,\n      );\n    });\n\n    graph.on('node:pointerleave', function (e) {\n      const allNodesIds = graph.getAllNodesData().map((node) => node.id);\n      const allEdgesIds = graph.getAllEdgesData().map((edge) => edge.id);\n      graph.clearItemState([...allNodesIds, ...allEdgesIds]);\n    });\n\nwindow.graph = graph;\n  });\n",title:{zh:"自定义高亮",en:"Custom Highlight"},filename:"highlightDark.js",isNew:!1}],icon:"",id:"highlight",title:{en:"Highlight Nodes",zh:"高亮相邻节点"},childrenKey:"demos",order:0},{demos:[{id:"changeData",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*5QGSRJ7EXxQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'cubic-horizontal-edge': Extensions.CubicHorizontalEdge,\n    'cubic-vertical-edge': Extensions.CubicVerticalEdge,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst data = {\n  isRoot: true,\n  id: 'Root',\n  children: [\n    {\n      id: 'SubTreeNode1',\n      raw: {},\n      children: [\n        {\n          id: 'SubTreeNode1.1',\n        },\n        {\n          id: 'SubTreeNode1.2',\n          children: [\n            {\n              id: 'SubTreeNode1.2.1',\n            },\n            {\n              id: 'SubTreeNode1.2.2',\n            },\n            {\n              id: 'SubTreeNode1.2.3',\n            },\n          ],\n        },\n      ],\n    },\n    {\n      id: 'SubTreeNode2',\n      children: [\n        {\n          id: 'SubTreeNode2.1',\n        },\n      ],\n    },\n    {\n      id: 'SubTreeNode3',\n      children: [\n        {\n          id: 'SubTreeNode3.1',\n        },\n        {\n          id: 'SubTreeNode3.2',\n        },\n        {\n          id: 'SubTreeNode3.3',\n        },\n      ],\n    },\n    {\n      id: 'SubTreeNode4',\n    },\n    {\n      id: 'SubTreeNode5',\n    },\n    {\n      id: 'SubTreeNode6',\n    },\n  ],\n};\n\nconst graph = new ExtGraph({\n  container,\n  width,\n  height,\n  data,\n  modes: {\n    default: ['drag-canvas', 'zoom-canvas', 'drag-node'],\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: (model) => {\n    return {\n      id: model.id,\n      data: {\n        ...model.data,\n        labelBackgroundShape: {},\n\n        labelShape: {\n          text: model.id,\n          position: model.data.childrenIds?.length ? 'left' : 'right',\n          offsetX: model.data.childrenIds?.length ? -10 : 10,\n          maxWidth: '300%',\n        },\n        anchorPoints: [\n          [0, 0.5],\n          [1, 0.5],\n        ],\n      },\n    };\n  },\n  edge: {\n    type: 'cubic-horizontal-edge',\n  },\n  layout: {\n    type: 'compactBox',\n    direction: 'LR',\n    getHeight: function getHeight() {\n      return 32;\n    },\n    getWidth: function getWidth() {\n      return 32;\n    },\n    getVGap: function getVGap() {\n      return 10;\n    },\n    getHGap: function getHGap() {\n      return 100;\n    },\n  },\n  autoFit: 'view',\n  data: {\n    type: 'treeData',\n    value: data,\n  },\n});\n\n/** Click */\nlet count = 0;\n\ngraph.on('node:click', (event) => {\n  const { itemId } = event;\n\n  const newNodes = [\n    { id: `child-data1-${count}`, data: { type: 'rect-node' } },\n    { id: `x1-${count}` },\n    { id: `y1-${count}` },\n    { id: `child-data2-${count}`, data: { type: 'rect-node' } },\n    { id: `x2-${count}` },\n    { id: `y2-${count}` },\n  ];\n\n  const newEdges = [\n    { id: `edge1-${count}`, source: itemId, target: `child-data1-${count}` },\n    { id: `edge2-${count}`, source: itemId, target: `child-data2-${count}` },\n    { id: `edge3-${count}`, source: `child-data1-${count}`, target: `x1-${count}` },\n    { id: `edge4-${count}`, source: `child-data1-${count}`, target: `y1-${count}` },\n    { id: `edge5-${count}`, source: `child-data2-${count}`, target: `x2-${count}` },\n    { id: `edge6-${count}`, source: `child-data2-${count}`, target: `y2-${count}` },\n  ];\n\n  graph.addData('node', newNodes);\n  graph.addData('edge', newEdges);\n\n  graph.layout();\n  count++;\n});\n\ngraph.on('canvas:click', (e) => graph.layout());\n\nconst tip = document.createElement('span');\ntip.innerHTML = 'Click on the leaf node to dynamically add multiple pieces of data to the tree diagram.';\ntip.style.position = 'absolute';\ncontainer.appendChild(tip);\n\nwindow.graph = graph;// });\n",title:{zh:"使用 changeData",en:"Using changeData"},filename:"changeData.js",isNew:!1}],icon:"",id:"treeBehavior",title:{en:"Custom Tree Graph Behavior",zh:"自定义树图交互"},childrenKey:"demos",order:1},{demos:[{id:"update",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DSVuQ6oH_m8AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 100,\n        y: 150,\n        label: 'label before been hovered',\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        x: 300,\n        y: 150,\n        label: 'label before been hovered',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n      data: {\n        label: 'label before been hovered',\n      },\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst graph = new Graph({\n  container,\n  width,\n  height,\n  modes: {\n    default: ['drag-node'],\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  data,\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['label'],\n        formatter: (model) => model.data.label,\n      },\n      maxLines: 4,\n    },\n  },\n  edge: {\n    labelShape: {\n      text: {\n        fields: ['label'],\n        formatter: (model) => model.data.label,\n      },\n      maxLines: 2,\n    },\n  },\n});\n\n// 节点上的点击事件\ngraph.on('node:pointerenter', (event) => {\n  const { itemId } = event;\n  graph.updateData('node', {\n    id: itemId,\n    data: {\n      label: `after been hovered ${itemId}`,\n      labelShape: {\n        fill: '#0f0',\n      },\n    },\n  });\n});\n\ngraph.on('edge:pointerenter', (event) => {\n  const { itemId } = event;\n  graph.updateData('edge', {\n    id: itemId,\n    data: {\n      label: `after been hovered ${itemId}`,\n      labelShape: {\n        fill: '#0f0',\n      },\n    },\n  });\n});\n\ngraph.on('node:pointerleave', (event) => {\n  const { itemId } = event;\n  graph.updateData('node', {\n    id: itemId,\n    data: {\n      label: 'label before been hovered',\n      labelShape: {\n        fill: '#000',\n      },\n    },\n  });\n});\n\ngraph.on('edge:pointerleave', (event) => {\n  const { itemId } = event;\n  graph.updateData('edge', {\n    id: itemId,\n    data: {\n      label: 'label before been hovered',\n      labelShape: {\n        fill: '#000',\n      },\n    },\n  });\n});\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML =\n  'Mouse hover over node to update node style and its label text. <br/> Mouse hover over edge to update edge style and its label text';\ncontainer.appendChild(descriptionDiv);\n\nwindow.graph = graph;",title:{zh:"更新节点或边上的标签",en:"Update the Label"},filename:"update.js",isNew:!1}],icon:"",id:"label",title:{en:"Label and Background Updating",zh:"改变标签或背景"},childrenKey:"demos",order:3},{demos:[{id:"circle",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*Rvx9SYSHGsIAAAAAAAAAAABkARQnAQ",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML =\n  'Double click the combo to collapse/expand it. Drag the node or combo to change the hierarchy.';\ncontainer.appendChild(descriptionDiv);\n\nconst Graph = extend(BaseGraph, {\n  behaviors: {\n    'hover-activate': Extensions.HoverActivate,\n  },\n});\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  stackCfg: {\n    ignoreStateChange: true,\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    animates: {\n      update: [\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n        },\n      ],\n    },\n  },\n  combo: (model) => {\n    return {\n      id: model.id,\n      data: {\n        type: 'circle-combo',\n        ...model.data,\n        keyShape: {\n          padding: [10, 20, 30, 40],\n          r: 50,\n        },\n        labelShape: {\n          text: model.data.label,\n          position: 'top',\n        },\n\n        animates: {\n          buildIn: [\n            {\n              fields: ['opacity'],\n              duration: 500,\n              delay: 500 + Math.random() * 500,\n            },\n          ],\n          buildOut: [\n            {\n              fields: ['opacity'],\n              duration: 200,\n            },\n          ],\n          update: [\n            {\n              fields: ['lineWidth', 'r'],\n              shapeId: 'keyShape',\n            },\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n            },\n          ],\n        },\n      },\n    };\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 350,\n          y: 200,\n          parentId: 'combo1',\n        },\n      },\n      { id: 'node2', data: { x: 350, y: 250, parentId: 'combo1' } },\n      { id: 'node3', data: { x: 100, y: 200, parentId: 'combo3' } },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2' },\n      { id: 'edge2', source: 'node1', target: 'node3' },\n      { id: 'edge3', source: 'combo1', target: 'node3' },\n    ],\n    combos: [\n      { id: 'combo1', data: { label: 'Combo 1', parentId: 'combo2' } },\n      { id: 'combo2', data: { label: 'Combo 2' } },\n      { id: 'combo3', data: { label: 'Combo 3', collapsed: true } },\n    ],\n  },\n  modes: {\n    default: [\n      'collapse-expand-combo',\n      {\n        type: 'drag-node',\n        enableTransient: false,\n        updateComboStructure: false,\n      },\n      'drag-canvas',\n      {\n        type: 'click-select',\n        itemTypes: ['node', 'edge', 'combo'],\n      },\n      {\n        type: 'hover-activate',\n        itemTypes: ['node', 'edge', 'combo'],\n      },\n      {\n        type: 'drag-combo',\n        enableTransient: true,\n        updateComboStructure: true,\n      },\n    ],\n  },\n});\n\nwindow.graph = graph;",title:"圆形 Combo",filename:"circle.js",isNew:!1},{id:"rect",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*qvmVTZc-iNcAAAAAAAAAAABkARQnAQ",source:"import { Graph as BaseGraph, extend, Extensions } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  behaviors: {\n    'hover-activate': Extensions.HoverActivate,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML =\n  'Double click the combo to collapse/expand it. Drag the node or combo to change the hierarchy.';\ncontainer.appendChild(descriptionDiv);\n\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  stackCfg: {\n    ignoreStateChange: true,\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    animates: {\n      update: [\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n        },\n      ],\n    },\n  },\n  combo: (model) => {\n    return {\n      id: model.id,\n      data: {\n        type: 'rect-combo',\n        ...model.data,\n        keyShape: {\n          padding: [10, 20, 30, 40],\n          r: 50,\n        },\n        labelShape: {\n          text: model.data.label,\n          position: 'top',\n        },\n\n        animates: {\n          buildIn: [\n            {\n              fields: ['opacity'],\n              duration: 500,\n              delay: 500 + Math.random() * 500,\n            },\n          ],\n          buildOut: [\n            {\n              fields: ['opacity'],\n              duration: 200,\n            },\n          ],\n          update: [\n            {\n              fields: ['lineWidth', 'r'],\n              shapeId: 'keyShape',\n            },\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n            },\n          ],\n        },\n      },\n    };\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 350,\n          y: 200,\n          parentId: 'combo1',\n        },\n      },\n      { id: 'node2', data: { x: 350, y: 250, parentId: 'combo1' } },\n      { id: 'node3', data: { x: 100, y: 200, parentId: 'combo3' } },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2' },\n      { id: 'edge2', source: 'node1', target: 'node3' },\n    ],\n    combos: [\n      { id: 'combo1', data: { label: 'Combo 1', parentId: 'combo2' } },\n      { id: 'combo2', data: { label: 'Combo 2' } },\n      { id: 'combo3', data: { label: 'Combo 3', collapsed: true } },\n    ],\n  },\n  modes: {\n    default: [\n      'collapse-expand-combo',\n      {\n        type: 'drag-node',\n        enableTransient: false,\n        updateComboStructure: false,\n      },\n      'drag-canvas',\n      {\n        type: 'click-select',\n        itemTypes: ['node', 'edge', 'combo'],\n      },\n      {\n        type: 'hover-activate',\n        itemTypes: ['node', 'edge', 'combo'],\n      },\n      {\n        type: 'drag-combo',\n        enableTransient: true,\n        updateComboStructure: true,\n      },\n    ],\n  },\n});\n\nwindow.graph = graph;",title:"矩形 Combo",filename:"rect.js",isNew:!1},{id:"cCircle",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*1LelSq5TP9EAAAAAAAAAAABkARQnAQ",source:"import { Extensions, Graph, stdLib, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Click the bottom marker to collapse/expand the combo.';\ncontainer.appendChild(descriptionDiv);\n\nclass CCircleCombo extends Extensions.CircleCombo {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { data } = model;\n    const keyShapeBBox = shapeMap.keyShape.getLocalBounds();\n    const otherShapes = {\n      markerShape: this.upsertShape(\n        'path',\n        'markerShape',\n        {\n          cursor: 'pointer',\n          stroke: '#666',\n          lineWidth: 1,\n          fill: '#fff',\n          path: data.collapsed\n            ? stdLib.markers.expand(keyShapeBBox.center[0], keyShapeBBox.max[1], 8)\n            : stdLib.markers.collapse(keyShapeBBox.center[0], keyShapeBBox.max[1], 8),\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n    };\n    return otherShapes;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  combos: {\n    'c-circle-combo': CCircleCombo,\n  },\n  behaviors: {\n    'hover-activate': Extensions.HoverActivate,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  stackCfg: {\n    ignoreStateChange: true,\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    animates: {\n      update: [\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n        },\n      ],\n    },\n  },\n  combo: (model) => {\n    return {\n      id: model.id,\n      data: {\n        type: 'c-circle-combo',\n        ...model.data,\n        keyShape: {\n          padding: [10, 20, 30, 40],\n          r: 50,\n        },\n        labelShape: {\n          text: model.data.label,\n          position: 'top',\n        },\n        otherShapes: {},\n        animates: {\n          buildIn: [\n            {\n              fields: ['opacity'],\n              duration: 500,\n              delay: 500 + Math.random() * 500,\n            },\n          ],\n          buildOut: [\n            {\n              fields: ['opacity'],\n              duration: 200,\n            },\n          ],\n          update: [\n            {\n              fields: ['lineWidth', 'r'],\n              shapeId: 'keyShape',\n            },\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n            },\n          ],\n        },\n      },\n    };\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 350,\n          y: 200,\n          parentId: 'combo1',\n        },\n      },\n      { id: 'node2', data: { x: 350, y: 250, parentId: 'combo1' } },\n      { id: 'node3', data: { x: 100, y: 200, parentId: 'combo3' } },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2' },\n      { id: 'edge2', source: 'node1', target: 'node3' },\n      { id: 'edge3', source: 'combo1', target: 'node3' },\n    ],\n    combos: [\n      { id: 'combo1', data: { label: 'Combo 1', parentId: 'combo2' } },\n      { id: 'combo2', data: { label: 'Combo 2' } },\n      { id: 'combo3', data: { label: 'Combo 3', collapsed: true } },\n    ],\n  },\n  modes: {\n    default: [\n      {\n        type: 'drag-node',\n        enableTransient: false,\n        updateComboStructure: false,\n      },\n      'drag-canvas',\n      {\n        type: 'click-select',\n        itemTypes: ['node', 'edge', 'combo'],\n      },\n      {\n        type: 'drag-combo',\n        enableTransient: true,\n        updateComboStructure: true,\n      },\n    ],\n  },\n});\n\n/** Click the bottom marker to collapse/expand the combo. */\ngraph.on('combo:click', (event) => {\n  const { itemId, target } = event;\n  if (target.id === 'markerShape') {\n    const model = graph.getComboData(itemId);\n    if (model.data.collapsed) {\n      graph.expandCombo(itemId);\n    } else {\n      graph.collapseCombo(itemId);\n    }\n  }\n});\n\nwindow.graph = graph;",title:"扩展圆形 Combo",filename:"cCircle.js",isNew:!1},{id:"cRect",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*rQGaT4kiaYoAAAAAAAAAAABkARQnAQ",source:"import { Extensions, Graph, stdLib, extend } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Click the bottom marker to collapse/expand the combo.';\ncontainer.appendChild(descriptionDiv);\n\nclass CRectCombo extends Extensions.RectCombo {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    const { data } = model;\n    const keyShapeBBox = shapeMap.keyShape.getLocalBounds();\n    const otherShapes = {\n      markerShape: this.upsertShape(\n        'path',\n        'markerShape',\n        {\n          cursor: 'pointer',\n          stroke: '#666',\n          lineWidth: 1,\n          fill: '#fff',\n          path: data.collapsed\n            ? stdLib.markers.expand(keyShapeBBox.center[0], keyShapeBBox.max[1], 8)\n            : stdLib.markers.collapse(keyShapeBBox.center[0], keyShapeBBox.max[1], 8),\n        },\n        {\n          model,\n          shapeMap,\n          diffData,\n          diffState,\n        },\n      ),\n    };\n    return otherShapes;\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  combos: {\n    'c-rect-combo': CRectCombo,\n  },\n  // behaviors: {\n  //   'hover-activate': Extensions.HoverActivate,\n  // },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  stackCfg: {\n    ignoreStateChange: true,\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    animates: {\n      update: [\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n        },\n      ],\n    },\n  },\n  combo: (model) => {\n    return {\n      id: model.id,\n      data: {\n        type: 'c-rect-combo',\n        ...model.data,\n        keyShape: {\n          padding: [10, 20, 30, 40],\n          r: 50,\n        },\n        labelShape: {\n          text: model.data.label,\n          position: 'top',\n        },\n        otherShapes: {},\n        animates: {\n          buildIn: [\n            {\n              fields: ['opacity'],\n              duration: 500,\n              delay: 500 + Math.random() * 500,\n            },\n          ],\n          buildOut: [\n            {\n              fields: ['opacity'],\n              duration: 200,\n            },\n          ],\n          update: [\n            {\n              fields: ['lineWidth', 'r'],\n              shapeId: 'keyShape',\n            },\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n            },\n          ],\n        },\n      },\n    };\n  },\n  data: {\n    nodes: [\n      {\n        id: 'node1',\n        data: {\n          x: 350,\n          y: 200,\n          parentId: 'combo1',\n        },\n      },\n      { id: 'node2', data: { x: 350, y: 250, parentId: 'combo1' } },\n      { id: 'node3', data: { x: 100, y: 200, parentId: 'combo3' } },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2' },\n      { id: 'edge2', source: 'node1', target: 'node3' },\n    ],\n    combos: [\n      { id: 'combo1', data: { label: 'Combo 1', parentId: 'combo2' } },\n      { id: 'combo2', data: { label: 'Combo 2' } },\n      { id: 'combo3', data: { label: 'Combo 3', collapsed: true } },\n    ],\n  },\n  modes: {\n    default: [\n      {\n        type: 'drag-node',\n        enableTransient: false,\n        updateComboStructure: false,\n      },\n      'drag-canvas',\n      {\n        type: 'click-select',\n        itemTypes: ['node', 'edge', 'combo'],\n      },\n      {\n        type: 'drag-combo',\n        enableTransient: true,\n        updateComboStructure: true,\n      },\n    ],\n  },\n});\n\n/** Click the bottom marker to collapse/expand the combo. */\ngraph.on('combo:click', (event) => {\n  const { itemId, target } = event;\n  if (target.id === 'markerShape') {\n    const model = graph.getComboData(itemId);\n    if (model.data.collapsed) {\n      graph.expandCombo(itemId);\n    } else {\n      graph.collapseCombo(itemId);\n    }\n  }\n});\n\nwindow.graph = graph;",title:"扩展矩形 Combo",filename:"cRect.js",isNew:!1}],icon:"",id:"combo",title:{en:"Node Combo",zh:"节点分组 Combo"},childrenKey:"demos",order:4},{demos:[{id:"moveAnimate",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DxCTR4XH_XwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 150,\n        y: 50,\n        label: 'node1',\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        x: 200,\n        y: 150,\n        label: 'node2',\n      },\n    },\n    {\n      id: 'node3',\n      data: {\n        x: 100,\n        y: 150,\n        label: 'node3',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n    },\n    {\n      id: 'edge2',\n      source: 'node2',\n      target: 'node3',\n    },\n    {\n      id: 'edge3',\n      source: 'node3',\n      target: 'node1',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  data,\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['label'],\n        formatter: (model) => model.data.label,\n      },\n    },\n  },\n  edge: {\n    keyShape: {\n      stroke: '#b5b5b5',\n    },\n  },\n});\n\n// 节点上的点击事件\ngraph.on('node:click', (event) => {\n  const { itemId } = event;\n  graph.focusItem(itemId, {\n    easing: 'ease-in',\n    duration: 1000,\n  });\n});\n\nwindow.graph = graph;\n",title:{zh:"点击节点带有动画地移动到画布中心",en:"Click to Animately Focus a Node"},filename:"moveAnimate.js",isNew:!1},{id:"move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DxCTR4XH_XwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 150,\n        y: 50,\n        label: 'node1',\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        x: 200,\n        y: 150,\n        label: 'node2',\n      },\n    },\n    {\n      id: 'node3',\n      data: {\n        x: 100,\n        y: 150,\n        label: 'node3',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n    },\n    {\n      id: 'edge2',\n      source: 'node2',\n      target: 'node3',\n    },\n    {\n      id: 'edge3',\n      source: 'node3',\n      target: 'node1',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  data,\n  node: {\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['label'],\n        formatter: (model) => model.data.label,\n      },\n    },\n  },\n  edge: {\n    keyShape: {\n      stroke: '#b5b5b5',\n    },\n  },\n});\n\n// 节点上的点击事件\ngraph.on('node:click', (event) => {\n  const { itemId } = event;\n  graph.focusItem(itemId);\n});\n\nwindow.graph = graph;\n",title:{zh:"点击节点移动到画布中心",en:"Click to Focus a Node"},filename:"move.js",isNew:!1}],icon:"",id:"position",title:{en:"Click to Focus a Node",zh:"聚焦一个节点"},childrenKey:"demos",order:6},{demos:[{id:"partialNode",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ZPt0SKT5JXQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nclass CustomNode extends Extensions.CircleNode {\n  drawOtherShapes(model, shapeMap, diffData, diffState) {\n    return {\n      responseShape: this.upsertShape(\n        'circle',\n        'responseShape',\n        {\n          r: 8,\n          fill: '#0f0',\n          cx: 0,\n          cy: -25,\n          zIndex: 10,\n        },\n        { shapeMap, model, diffData, diffState },\n      ),\n    };\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  nodes: {\n    'custom-node': CustomNode,\n  },\n});\n\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 100,\n        y: 150,\n        label: 'Click the Green Circle',\n        size: 100,\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        x: 300,\n        y: 150,\n        label: 'Click the Green Circle',\n        size: 100,\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge-1',\n      source: 'node1',\n      target: 'node2',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new ExtGraph({\n  container,\n  width,\n  height,\n  modes: {\n    default: ['drag-node'],\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    type: 'custom-node',\n    keyShape: {\n      r: {\n        fields: ['size'],\n        formatter: (model) => model.data.size / 2,\n      },\n    },\n    labelShape: {\n      position: 'center',\n      text: {\n        fields: ['label'],\n        formatter: (model) => model.data.label,\n      },\n    },\n    labelBackgroundShape: {},\n    otherShapes: {},\n  },\n  data,\n});\n\n// 节点上的点击事件\ngraph.on('node:click', (event) => {\n  const { itemId, target } = event;\n  if (target.id === 'responseShape') {\n    graph.updateData('node', {\n      id: itemId,\n      data: {\n        label: 'Response!',\n      },\n    });\n    graph.setItemState(itemId, 'selected', true);\n  }\n});\n\ngraph.on('canvas:click', (event) => {\n  const nodeIds = graph.getAllNodesData().map((node) => node.id);\n  graph.setItemState(nodeIds, 'selected', false);\n  graph.updateData(\n    'node',\n    nodeIds.map((id) => ({\n      id,\n      data: {\n        label: 'Click the Green Circle',\n      },\n    })),\n  );\n});\n\nwindow.graph = graph;\n",title:{zh:"响应节点中部分区域",en:"Region Response"},filename:"partialNode.js",isNew:!1}],icon:"",id:"partialResponse",title:{en:"Region Response",zh:"响应区域事件"},childrenKey:"demos",order:7},{demos:[{id:"createEdgeByDragging",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*fmolQIbMbB4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'create-edge': Extensions.CreateEdge,\n  },\n});\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'grid',\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: {} },\n      { id: 'node2', data: {} },\n      { id: 'node3', data: {} },\n      { id: 'node4', data: {} },\n      { id: 'node5', data: {} },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2', data: {} },\n      { id: 'edge2', source: 'node1', target: 'node3', data: {} },\n      { id: 'edge3', source: 'node1', target: 'node4', data: {} },\n      { id: 'edge4', source: 'node2', target: 'node3', data: {} },\n      { id: 'edge5', source: 'node3', target: 'node4', data: {} },\n      { id: 'edge6', source: 'node4', target: 'node5', data: {} },\n    ],\n  },\n  modes: {\n    default: [\n      {\n        key: 'create-edge-behavior-key',\n        type: 'create-edge',\n        trigger: 'drag',\n        edgeConfig: { keyShape: { stroke: '#f00' } },\n        createVirtualEventName: 'begincreate',\n        cancelCreateEventName: 'cancelcreate',\n      },\n    ],\n  },\n});\n\ngraph.on('begincreate', (e) => {\n  graph.setCursor('crosshair');\n});\ngraph.on('cancelcreate', (e) => {\n  graph.setCursor('default');\n});\n\nwindow.graph = graph;\n",title:{zh:"从节点拖拽创建边",en:"Create Edge by Dragging"},filename:"createEdgeByDragging.js",isNew:!1},{id:"createEdgeByClicking",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*tUZLRLMSaR4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'create-edge': Extensions.CreateEdge,\n  },\n});\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'grid',\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: {} },\n      { id: 'node2', data: {} },\n      { id: 'node3', data: {} },\n      { id: 'node4', data: {} },\n      { id: 'node5', data: {} },\n    ],\n    edges: [\n      {\n        id: 'edge1',\n        source: 'node1',\n        target: 'node2',\n        data: {},\n      },\n      { id: 'edge2', source: 'node1', target: 'node3', data: {} },\n      { id: 'edge3', source: 'node1', target: 'node4', data: {} },\n      { id: 'edge4', source: 'node2', target: 'node3', data: {} },\n      { id: 'edge5', source: 'node3', target: 'node4', data: {} },\n      { id: 'edge6', source: 'node4', target: 'node5', data: {} },\n    ],\n  },\n  modes: {\n    default: [\n      {\n        key: 'create-edge-behavior-key',\n        type: 'create-edge',\n        trigger: 'click',\n        edgeConfig: { keyShape: { lineDash: [5, 5] } },\n        createVirtualEventName: 'begincreate',\n        createActualEventName: 'aftercreate',\n        cancelCreateEventName: 'cancelcreate',\n      },\n    ],\n  },\n});\n\ngraph.on('begincreate', (e) => {\n  console.log('bgin');\n  graph.setCursor('crosshair');\n});\ngraph.on('aftercreate', (e) => {\n  const { edge } = e;\n  console.log('finish', edge.id, graph.getEdgeData(edge.id));\n  graph.updateData('edge', {\n    id: edge.id,\n    data: {\n      keyShape: {\n        lineDash: ['100%', 0],\n      },\n    },\n  });\n});\ngraph.on('cancelcreate', (e) => {\n  graph.setCursor('default');\n});\n\nwindow.graph = graph;\n",title:{zh:"点击节点创建边",en:"Create Edge by Clicking"},filename:"createEdgeByClicking.js",isNew:!1}],icon:"",id:"createEdge",title:{en:"Create Edge",zh:"创建边"},childrenKey:"demos",order:8},{demos:[{id:"setMode",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*y1qkTKqhQXkAAAAAAAAAAABkARQnAQ",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nclass ClickAddNodeBehavior extends Extensions.BaseBehavior {\n  getEvents() {\n    // The event is canvas:click, the responsing function is onClick\n    return {\n      'canvas:click': this.onClick,\n    };\n  }\n  onClick(ev) {\n    // Add a new node\n    this.graph.addData('node', {\n      id: `node-${Math.random()}`, // Generate the unique id\n      data: {\n        x: ev.canvas.x,\n        y: ev.canvas.y,\n      },\n    });\n  }\n}\n\n// Custom behavior: click two end nodes to add an edge\nclass ClickAddEdgeBehavior extends Extensions.BaseBehavior {\n  virtualEdgeId = 'add-edge-virtual-edge';\n  virtualNodeId = 'add-edge-virtual-node';\n  getEvents() {\n    // Set the events and the corresponding responsing function for this behavior\n    return {\n      'node:click': this.onClick, // The event is canvas:click, the responsing function is onClick\n      pointermove: this.onMousemove, // The event is mousemove, the responsing function is onMousemove\n      'edge:click': this.onEdgeClick, // The event is edge:click, the responsing function is onEdgeClick\n    };\n  }\n  // The responsing function for node:click defined in getEvents\n  onClick(ev) {\n    // The position where the mouse clicks\n    if (this.addingEdge && this.edge) {\n      graph.addData('edge', {\n        id: `actual-edge-${Math.random()}`,\n        target: ev.itemId,\n        source: this.edge.source,\n      });\n      if (this.graph.getNodeData(this.virtualNodeId)) this.graph.removeData('node', this.virtualNodeId);\n      if (this.graph.getEdgeData(this.virtualEdgeId)) this.graph.removeData('edge', this.virtualEdgeId);\n      this.edge = null;\n      this.addingEdge = false;\n    } else {\n      // Add anew edge, the end node is the current node user clicks\n      this.graph.addData('node', {\n        id: this.virtualNodeId,\n        data: {\n          x: ev.canvas.x,\n          y: ev.canvas.y,\n          keyShape: {\n            opacity: 0,\n            interactive: false,\n          },\n          labelShape: {\n            opacity: 0,\n            interactive: false,\n          },\n        },\n      });\n      this.edge = graph.addData('edge', {\n        id: this.virtualEdgeId,\n        source: ev.itemId,\n        target: this.virtualNodeId,\n        data: {},\n      });\n      this.addingEdge = true;\n    }\n  }\n  // The responsing function for mousemove defined in getEvents\n  onMousemove(ev) {\n    // The current position the mouse clicks\n    if (this.addingEdge && this.edge) {\n      // Update the end node to the current node the mouse clicks\n      // this.graph.updateData('edge', {\n      //   id: this.edge.id,\n      //   target: point,\n      // });\n      this.graph.updateData('node', {\n        id: this.virtualNodeId,\n        data: {\n          x: ev.canvas.x,\n          y: ev.canvas.y,\n        },\n      });\n    }\n  }\n  // The responsing function for edge:click defined in getEvents\n  onEdgeClick(ev) {\n    if (this.addingEdge && this.edge.id === ev.itemId) {\n      this.graph.removeData('node', this.virtualNodeId);\n      this.graph.removeData('edge', this.virtualEdgeId);\n      this.edge = null;\n      this.addingEdge = false;\n    }\n  }\n}\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'click-add-node': ClickAddNodeBehavior,\n    'click-add-edge': ClickAddEdgeBehavior,\n  },\n});\n\n// Initial data\nconst data = {\n  nodes: [\n    {\n      id: 'node1',\n      data: {\n        x: 100,\n        y: 200,\n      },\n    },\n    {\n      id: 'node2',\n      data: {\n        x: 300,\n        y: 200,\n      },\n    },\n    {\n      id: 'node3',\n      data: {\n        x: 300,\n        y: 300,\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      target: 'node2',\n      source: 'node1',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\n\n// Add a selector to DOM\nconst selector = document.createElement('select');\nselector.id = 'selector';\nselector.style.position = 'absolute';\nselector.style.zIndex = 10;\nconst selection1 = document.createElement('option');\nselection1.value = 'default';\nselection1.innerHTML = 'Default Mode';\nconst selection2 = document.createElement('option');\nselection2.value = 'addNode';\nselection2.innerHTML = 'Add Node (By clicking canvas)';\nconst selection3 = document.createElement('option');\nselection3.value = 'addEdge';\nselection3.innerHTML = 'Add Edge (By clicking two end nodes)';\nselector.appendChild(selection1);\nselector.appendChild(selection2);\nselector.appendChild(selection3);\ncontainer.appendChild(selector);\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  // The sets of behavior modes\n  modes: {\n    // Defualt mode\n    default: ['drag-node', 'click-select', 'drag-canvas'],\n    // Adding node mode\n    addNode: ['click-add-node', 'click-select'],\n    // Adding edge mode\n    addEdge: ['click-add-edge', 'click-select'],\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  data,\n});\n\n// Listen to the selector, change the mode when the selector is changed\nselector.addEventListener('change', (e) => {\n  const value = e.target.value;\n  // change the behavior mode\n  graph.setMode(value);\n});\n\nwindow.graph = graph;\n",title:{zh:"设置交互模式",en:"Set Mode"},filename:"setMode.js",isNew:!1}],icon:"",id:"setMode",title:{en:"Change Mode to Add items",zh:"切换模式增加点和边"},childrenKey:"demos",order:8},{demos:[{id:"dragCanvas",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0f81RI8DTF0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'grid',\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: {} },\n      { id: 'node2', data: {} },\n      { id: 'node3', data: {} },\n      { id: 'node4', data: {} },\n      { id: 'node5', data: {} },\n    ],\n    edges: [\n      {\n        id: 'edge1',\n        source: 'node1',\n        target: 'node2',\n        data: {},\n      },\n      { id: 'edge2', source: 'node1', target: 'node3', data: {} },\n      { id: 'edge3', source: 'node1', target: 'node4', data: {} },\n      { id: 'edge4', source: 'node2', target: 'node3', data: {} },\n      { id: 'edge5', source: 'node3', target: 'node4', data: {} },\n      { id: 'edge6', source: 'node4', target: 'node5', data: {} },\n    ],\n  },\n  modes: {\n    default: ['drag-canvas'],\n  },\n});\n\nwindow.graph = graph;\n",title:{zh:"拖拽画布",en:"Drag Canvas"},filename:"dragCanvas.js",isNew:!1},{id:"scrollBoth",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*VoBZR7Z62KEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'scroll-canvas': Extensions.ScrollCanvas,\n  },\n});\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'grid',\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: {} },\n      { id: 'node2', data: {} },\n      { id: 'node3', data: {} },\n      { id: 'node4', data: {} },\n      { id: 'node5', data: {} },\n    ],\n    edges: [\n      {\n        id: 'edge1',\n        source: 'node1',\n        target: 'node2',\n        data: {},\n      },\n      { id: 'edge2', source: 'node1', target: 'node3', data: {} },\n      { id: 'edge3', source: 'node1', target: 'node4', data: {} },\n      { id: 'edge4', source: 'node2', target: 'node3', data: {} },\n      { id: 'edge5', source: 'node3', target: 'node4', data: {} },\n      { id: 'edge6', source: 'node4', target: 'node5', data: {} },\n    ],\n  },\n  modes: {\n    default: ['scroll-canvas'],\n  },\n});\n\nwindow.graph = graph;\n",title:{zh:"双向滚动画布",en:"Scroll Canvas"},filename:"scrollBoth.js",isNew:!1},{id:"scrollY",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*c5DCSoAYsZQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'scroll-canvas': Extensions.ScrollCanvas,\n  },\n});\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'grid',\n    cols: 1,\n    height: 3000,\n    begin: [0, 0],\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: {} },\n      { id: 'node2', data: {} },\n      { id: 'node3', data: {} },\n      { id: 'node4', data: {} },\n      { id: 'node5', data: {} },\n    ],\n    edges: [\n      {\n        id: 'edge1',\n        source: 'node1',\n        target: 'node2',\n        data: {},\n      },\n      { id: 'edge2', source: 'node1', target: 'node2', data: {} },\n      { id: 'edge3', source: 'node2', target: 'node3', data: {} },\n      { id: 'edge4', source: 'node3', target: 'node4', data: {} },\n      { id: 'edge5', source: 'node4', target: 'node5', data: {} },\n    ],\n  },\n  modes: {\n    default: [\n      {\n        type: 'scroll-canvas',\n        direction: 'y',\n      },\n    ],\n  },\n});\n\nwindow.graph = graph;\n",title:{zh:"Y 轴滚动画布",en:"Scroll Canvas alone Y-asix"},filename:"scrollY.js",isNew:!1}],icon:"",id:"moveCanvas",title:{en:"Move Canvas",zh:"移动画布"},childrenKey:"demos",order:9},{demos:[{id:"shortcuts-fitView",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*fmolQIbMbB4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'shortcuts-call': Extensions.ShortcutsCall,\n  },\n});\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'grid',\n  },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: {} },\n      { id: 'node2', data: {} },\n      { id: 'node3', data: {} },\n      { id: 'node4', data: {} },\n      { id: 'node5', data: {} },\n    ],\n    edges: [\n      {\n        id: 'edge1',\n        source: 'node1',\n        target: 'node2',\n        data: {},\n      },\n      { id: 'edge2', source: 'node1', target: 'node3', data: {} },\n      { id: 'edge3', source: 'node1', target: 'node4', data: {} },\n      { id: 'edge4', source: 'node2', target: 'node3', data: {} },\n      { id: 'edge5', source: 'node3', target: 'node4', data: {} },\n      { id: 'edge6', source: 'node4', target: 'node5', data: {} },\n    ],\n  },\n  modes: {\n    default: [\n      {\n        key: 'shortcuts-call-zoomout',\n        type: 'shortcuts-call',\n        trigger: 'shift',\n        combinedKey: '_',\n        functionName: 'zoom',\n        functionParams: [0.9, undefined, { duration: 500, easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)' }],\n      },\n      {\n        key: 'shortcuts-call-zoomin',\n        type: 'shortcuts-call',\n        trigger: 'shift',\n        combinedKey: '+',\n        functionName: 'zoom',\n        functionParams: [1.1, undefined, { duration: 500, easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)' }],\n      },\n      {\n        key: 'shortcuts-call-fitview',\n        type: 'shortcuts-call',\n        trigger: 'shift',\n        combinedKey: 'f',\n        functionName: 'fitView',\n        functionParams: [undefined, { duration: 500, easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)' }],\n      },\n    ],\n  },\n});\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML =\n  '👉 Press [Shift +] to zoom in  <br/> 👉 Press [Shift -] to zoom out <br/> 👉 Press [Shift f] to fit view';\nbtnContainer.appendChild(tip);\ncontainer.appendChild(btnContainer);\n\nwindow.graph = graph;\n",title:{zh:"快捷键自适应画布",en:"FitView by Shortcuts"},filename:"shortcuts-fitView.js",isNew:!1}],icon:"",id:"shortcutsCall",title:{en:"Shortcuts Call",zh:"快捷键"},childrenKey:"demos",order:9},{demos:[{id:"dragCanvasTwoFingers",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*wSo2RaweecEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nclass TwoFingerScrollCanvas extends Extensions.BaseBehavior {\n  getEvents() {\n    this.graph.canvas\n      .getContextService()\n      .getDomElement()\n      .addEventListener('wheel', (e) => {\n        e.preventDefault();\n      });\n    return {\n      wheel: this.onWheel,\n    };\n  }\n  onWheel = (ev) => {\n    const x = ev.deltaX || ev.movementX || 0;\n    let y = ev.deltaY || ev.movementY || 0;\n    if (!y && navigator.userAgent.indexOf('Firefox') > -1) y = (-ev.wheelDelta * 125) / 3;\n    this.graph.translate({ dx: -x, dy: -y });\n  };\n}\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'double-finger-drag-canvas': TwoFingerScrollCanvas,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  transforms: [\n    {\n      type: 'transform-v4-data',\n      activeLifecycle: ['read'],\n    },\n  ],\n  modes: {\n    default: ['double-finger-drag-canvas'],\n  },\n  layout: {\n    type: 'force',\n    linkDistance: 50,\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n  .then((res) => res.json())\n  .then((data) => {\n    graph.read(data);\n  });\n\nwindow.graph = graph;",title:{zh:"两指平移画布",en:"Drag Canvas by Two fingers"},filename:"dragCanvasTwoFingers.js",isNew:!1}],icon:"",id:"customBehavior",title:{en:"Custom Behavior",zh:"自定义交互"},childrenKey:"demos",order:10},{demos:[{id:"autoLod",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*gElGTpq1Q9gAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node0', data: { size: 50, label: '0', x: 326, y: 268 } },\n    { id: 'node1', data: { size: 30, label: '1', x: 280, y: 384 } },\n    { id: 'node2', data: { size: 30, label: '2', x: 234, y: 167 } },\n    { id: 'node3', data: { size: 30, label: '3', x: 391, y: 368 } },\n    { id: 'node4', data: { size: 30, label: '4', x: 444, y: 209 } },\n    { id: 'node5', data: { size: 30, label: '5', x: 378, y: 157 } },\n    { id: 'node6', data: { size: 15, label: '6', x: 229, y: 400 } },\n    { id: 'node7', data: { size: 15, label: '7', x: 281, y: 440 } },\n    { id: 'node8', data: { size: 15, label: '8', x: 188, y: 119 } },\n    { id: 'node9', data: { size: 15, label: '9', x: 287, y: 157 } },\n    { id: 'node10', data: { size: 15, label: '10', x: 185, y: 200 } },\n    { id: 'node11', data: { size: 15, label: '11', x: 238, y: 110 } },\n    { id: 'node12', data: { size: 15, label: '12', x: 239, y: 221 } },\n    { id: 'node13', data: { size: 15, label: '13', x: 176, y: 160 } },\n    { id: 'node14', data: { size: 15, label: '14', x: 389, y: 423 } },\n    { id: 'node15', data: { size: 15, label: '15', x: 441, y: 341 } },\n    { id: 'node16', data: { size: 15, label: '16', x: 442, y: 398 } },\n  ],\n  edges: [\n    { id: 'edge-1', source: 'node0', target: 'node1', data: { label: '0-1' } },\n    { id: 'edge-2', source: 'node0', target: 'node2', data: { label: '0-2' } },\n    { id: 'edge-3', source: 'node0', target: 'node3', data: { label: '0-3' } },\n    { id: 'edge-4', source: 'node0', target: 'node4', data: { label: '0-4' } },\n    { id: 'edge-5', source: 'node0', target: 'node5', data: { label: '0-5' } },\n    { id: 'edge-6', source: 'node1', target: 'node6', data: { label: '1-6' } },\n    { id: 'edge-7', source: 'node1', target: 'node7', data: { label: '1-7' } },\n    { id: 'edge-8', source: 'node2', target: 'node8', data: { label: '2-8' } },\n    { id: 'edge-9', source: 'node2', target: 'node9', data: { label: '2-9' } },\n    { id: 'edge-10', source: 'node2', target: 'node10', data: { label: '2-10' } },\n    { id: 'edge-11', source: 'node2', target: 'node11', data: { label: '2-11' } },\n    { id: 'edge-12', source: 'node2', target: 'node12', data: { label: '2-12' } },\n    { id: 'edge-13', source: 'node2', target: 'node13', data: { label: '2-13' } },\n    { id: 'edge-14', source: 'node3', target: 'node14', data: { label: '3-14' } },\n    { id: 'edge-15', source: 'node3', target: 'node15', data: { label: '3-15' } },\n    { id: 'edge-16', source: 'node3', target: 'node16', data: { label: '3-16' } },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['drag-node', 'drag-canvas', 'zoom-canvas'],\n  },\n  plugins: [\n    // Plugin LodController is default and built-in added in G6, and the default configuration is: { disabledLod: false, numberPerCell: 1 }\n    {\n      type: 'lod-controller',\n      disableLod: false,\n      numberPerCell: 2,\n    },\n  ],\n  data,\n  node: {\n    labelBackgroundShape: {},\n  },\n});\n\nwindow.graph = graph;\n",title:{zh:"缩放过程根据密度自动显示和隐藏文本",en:"Show / Hide Labels Based on Density"},filename:"autoLod.js",isNew:!1}],icon:"",id:"zoomAndAutoLod",title:{en:"Automatically Displays Shapes based on Density",zh:"缩放过程根据密度自动显示和隐藏文本"},childrenKey:"demos",order:13},{demos:[{id:"click",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*F0RGQ67xbGYAAAAAAAAAAAAAARQnAQ",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node1', data: { x: 150, y: 250 } },\n    { id: 'node2', data: { x: 350, y: 250 } },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'hover-activate': Extensions.HoverActivate,\n  },\n});\n\nconst modes = {};\nconst ALLOWED_TRIGGERS = ['shift', 'ctrl', 'alt', 'meta'];\nALLOWED_TRIGGERS.forEach((trigger) => {\n  const defaultBehavior = ['drag-node', 'hover-activate'];\n  if (trigger === 'shift') {\n    modes.default = [...defaultBehavior, 'click-select'];\n  } else {\n    modes[`${trigger}Select`] = [\n      ...defaultBehavior,\n      {\n        type: 'click-select',\n        trigger: trigger,\n      },\n    ];\n  }\n});\n\nconst graph = new ExtGraph({\n  container,\n  width,\n  height,\n  autoFit: 'center',\n  modes,\n  data,\n});\n\nconst switchDiv = document.createElement('div');\nswitchDiv.innerHTML = `👉 Trigger：`;\nswitchDiv.style.position = 'absolute';\nswitchDiv.style.zIndex = 10;\ncontainer.appendChild(switchDiv);\nconst selector = document.createElement('select');\nselector.id = 'selector';\nALLOWED_TRIGGERS.forEach((trigger, index) => {\n  const option = document.createElement('option');\n  option.value = trigger;\n  option.innerHTML = `${trigger}`;\n  selector.appendChild(option);\n});\nswitchDiv.appendChild(selector);\n\n// Listen to the selector, change the graph mode when the selector is changed\nselector.addEventListener('change', (e) => {\n  const value = e.target.value;\n  const mode = value === 'shift' ? 'default' : `${value}Select`;\n  // change the graph mode\n  graph.setMode(mode);\n});\n\nwindow.graph = graph;",title:"点击单选或多选",filename:"click.js",isNew:!1},{id:"brush",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*ZDEiRIQRByEAAAAAAAAAAAAAARQnAQ",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node1', data: { x: 150, y: 250 } },\n    { id: 'node2', data: { x: 350, y: 250 } },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'hover-activate': Extensions.HoverActivate,\n    'brush-select': Extensions.BrushSelect,\n  },\n});\n\nconst modes = {};\nconst ALLOWED_TRIGGERS = ['shift', 'alt', 'ctrl', 'drag', 'meta'];\nALLOWED_TRIGGERS.forEach((trigger) => {\n  const defaultBehavior = ['drag-node', 'hover-activate'];\n  if (trigger === 'shift') {\n    modes.default = [...defaultBehavior, 'brush-select'];\n  } else {\n    modes[`${trigger}Select`] = [\n      ...defaultBehavior,\n      {\n        type: 'brush-select',\n        trigger: trigger,\n      },\n    ];\n  }\n});\n\nconst graph = new ExtGraph({\n  container,\n  width,\n  height,\n  autoFit: 'center',\n  modes,\n  data,\n});\n\nconst switchDiv = document.createElement('div');\nswitchDiv.innerHTML = `👉 Trigger：`;\nswitchDiv.style.position = 'absolute';\nswitchDiv.style.zIndex = 10;\ncontainer.appendChild(switchDiv);\nconst selector = document.createElement('select');\nselector.id = 'selector';\nALLOWED_TRIGGERS.forEach((trigger, index) => {\n  const option = document.createElement('option');\n  option.value = trigger;\n  option.innerHTML = `${trigger}`;\n  selector.appendChild(option);\n});\nswitchDiv.appendChild(selector);\n\n// Listen to the selector, change the graph mode when the selector is changed\nselector.addEventListener('change', (e) => {\n  const value = e.target.value;\n  const mode = value === 'shift' ? 'default' : `${value}Select`;\n  // change the graph mode\n  graph.setMode(mode);\n});\n\nwindow.graph = graph;",title:"框选",filename:"brush.js",isNew:!1},{id:"lasso",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*8WwrRplTPG8AAAAAAAAAAAAAARQnAQ",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    { id: 'node1', data: { x: 150, y: 250 } },\n    { id: 'node2', data: { x: 350, y: 250 } },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: 'node1',\n      target: 'node2',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 30;\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'hover-activate': Extensions.HoverActivate,\n    'lasso-select': Extensions.LassoSelect,\n  },\n});\n\nconst modes = {};\nconst ALLOWED_TRIGGERS = ['shift', 'alt', 'ctrl', 'drag', 'meta'];\nALLOWED_TRIGGERS.forEach((trigger) => {\n  const defaultBehavior = ['drag-node', 'hover-activate'];\n  if (trigger === 'shift') {\n    modes.default = [...defaultBehavior, 'lasso-select'];\n  } else {\n    modes[`${trigger}Select`] = [\n      ...defaultBehavior,\n      {\n        type: 'lasso-select',\n        trigger: trigger,\n      },\n    ];\n  }\n});\n\nconst graph = new ExtGraph({\n  container,\n  width,\n  height,\n  autoFit: 'center',\n  modes,\n  data,\n});\n\nconst switchDiv = document.createElement('div');\nswitchDiv.innerHTML = `👉 Trigger：`;\nswitchDiv.style.position = 'absolute';\nswitchDiv.style.zIndex = 10;\ncontainer.appendChild(switchDiv);\nconst selector = document.createElement('select');\nselector.id = 'selector';\nALLOWED_TRIGGERS.forEach((trigger, index) => {\n  const option = document.createElement('option');\n  option.value = trigger;\n  option.innerHTML = `${trigger}`;\n  selector.appendChild(option);\n});\nswitchDiv.appendChild(selector);\n\n// Listen to the selector, change the graph mode when the selector is changed\nselector.addEventListener('change', (e) => {\n  const value = e.target.value;\n  const mode = value === 'shift' ? 'default' : `${value}Select`;\n  // change the graph mode\n  graph.setMode(mode);\n});\n\nwindow.graph = graph;",title:"拉索选择",filename:"lasso.js",isNew:!1}],icon:"",id:"select",title:{en:"Select",zh:"选中"},childrenKey:"demos",order:14},{demos:[{id:"fixItem",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*nmaeRqYi9CMAAAAAAAAAAABkARQnAQ",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst data = {\n  nodes: [\n    { id: 'node0', size: 50, label: '0', x: 326, y: 268 },\n    { id: 'node1', size: 30, label: '1', x: 280, y: 384 },\n    { id: 'node2', size: 30, label: '2', x: 234, y: 167 },\n    { id: 'node3', size: 30, label: '3', x: 391, y: 368 },\n    { id: 'node4', size: 30, label: '4', x: 444, y: 209 },\n    { id: 'node5', size: 30, label: '5', x: 378, y: 157 },\n    { id: 'node6', size: 15, label: '6', x: 229, y: 400 },\n    { id: 'node7', size: 15, label: '7', x: 281, y: 440 },\n    { id: 'node8', size: 15, label: '8', x: 188, y: 119 },\n    { id: 'node9', size: 15, label: '9', x: 287, y: 157 },\n    { id: 'node10', size: 15, label: '10', x: 185, y: 200 },\n    { id: 'node11', size: 15, label: '11', x: 238, y: 110 },\n    { id: 'node12', size: 15, label: '12', x: 239, y: 221 },\n    { id: 'node13', size: 15, label: '13', x: 176, y: 160 },\n    { id: 'node14', size: 15, label: '14', x: 389, y: 423 },\n    { id: 'node15', size: 15, label: '15', x: 441, y: 341 },\n    { id: 'node16', size: 15, label: '16', x: 442, y: 398 },\n  ],\n  edges: [\n    { source: 'node0', target: 'node1', label: '0-1' },\n    { source: 'node0', target: 'node2', label: '0-2' },\n    { source: 'node0', target: 'node3', label: '0-3' },\n    { source: 'node0', target: 'node4', label: '0-4' },\n    { source: 'node0', target: 'node5', label: '0-5' },\n    { source: 'node1', target: 'node6', label: '1-6' },\n    { source: 'node1', target: 'node7', label: '1-7' },\n    { source: 'node2', target: 'node8', label: '2-8' },\n    { source: 'node2', target: 'node9', label: '2-9' },\n    { source: 'node2', target: 'node10', label: '2-10' },\n    { source: 'node2', target: 'node11', label: '2-11' },\n    { source: 'node2', target: 'node12', label: '2-12' },\n    { source: 'node2', target: 'node13', label: '2-13' },\n    { source: 'node3', target: 'node14', label: '3-14' },\n    { source: 'node3', target: 'node15', label: '3-15' },\n    { source: 'node3', target: 'node16', label: '3-16' },\n  ],\n};\n\nconst fixSelectedItems = {\n  fixAll: true,\n  fixLineWidth: false,\n  fixLabel: false,\n  fixState: 'yourStateName', // `selected` by default\n};\n\nconst ExtGraph = extend(Graph, {\n  transforms: {\n    'transform-v4-data': Extensions.TransformV4Data,\n  },\n  behaviors: {\n    'zoom-canvas': Extensions.ZoomCanvas,\n  },\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: [\n      {\n        type: 'zoom-canvas',\n        fixSelectedItems,\n      },\n      'drag-node',\n      'click-select',\n      'drag-canvas',\n    ],\n  },\n  node: {\n    lodStrategy: {},\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  edge: {\n    lodStrategy: {},\n  },\n  nodeState: {\n    yourStateName: {\n      keyShape: {\n        stroke: '#f00',\n        lineWidth: 3,\n      },\n    },\n  },\n  edgeState: {\n    yourStateName: {\n      keyShape: {\n        stroke: '#f00',\n        lineWidth: 3,\n      },\n    },\n  },\n  data,\n  transforms: [\n    'transform-v4-data', // 内置的数据处理器，将 v4 的数据格式转换为 v5\n  ],\n  layout: {\n    type: 'force',\n    linkDistance: 120,\n  },\n});\n\ngraph.on('node:click', (e) => {\n  graph.setItemState(e.itemId, 'yourStateName', true);\n});\ngraph.on('edge:click', (e) => {\n  graph.setItemState(e.itemId, 'yourStateName', true);\n});\n\ngraph.on('canvas:click', (e) => {\n  graph.findIdByState('node', 'yourStateName').forEach((node) => {\n    graph.setItemState(node, 'yourStateName', false);\n  });\n  graph.findIdByState('edge', 'yourStateName').forEach((edge) => {\n    graph.setItemState(edge, 'yourStateName', false);\n  });\n});\n\nconst fixOptions = [\n  {\n    key: 'fixAll',\n    desc: 'full size',\n  },\n  {\n    key: 'fixLabel',\n    desc: 'labelShape and labelBackgroundShape',\n  },\n  {\n    key: 'fixLineWidth',\n    desc: 'lineWidth of keyShape',\n  },\n];\n\nconst textDiv = document.createElement('div');\ntextDiv.innerHTML = `Please select from the following options to control item size while zooming: \\n`;\ntextDiv.style.position = 'absolute';\ntextDiv.style.zIndex = 10;\ncontainer.appendChild(textDiv);\n\nconst div = document.createElement('div');\ndiv.style.position = 'absolute';\ndiv.style.zIndex = 10;\n\nconst baseTop = 25;\nconst gap = 22;\n\nconst options = document.createElement('div');\nfixOptions.forEach((option, index) => {\n  const cb = document.createElement('input');\n  cb.type = 'checkbox';\n  cb.value = option.key;\n  cb.style.position = 'absolute';\n  cb.style.top = baseTop + index * gap + 4 + 'px';\n  cb.checked = index === 0;\n  const label = document.createElement('span');\n  label.textContent = `${option.key} (${option.desc})`;\n  label.style.position = 'absolute';\n  label.style.top = baseTop + index * gap + 'px';\n  label.style.left = '20px';\n  options.appendChild(cb);\n  options.appendChild(label);\n});\ncontainer.appendChild(options);\n\noptions.addEventListener('change', (e) => {\n  const value = e.target.value;\n  const checked = e.target.checked;\n  fixSelectedItems[value] = checked;\n});\n\nif (typeof window !== 'undefined')\n  window.onresize = () => {\n    if (!graph || graph.destroyed) return;\n    if (!container || !container.scrollWidth || !container.scrollHeight) return;\n    graph.setSize([container.scrollWidth, container.scrollHeight]);\n  };\n",title:{zh:"缩放画布时固定元素",en:"Fix Items while Zooming"},filename:"fixItem.js",isNew:!1}],icon:"",id:"zoomCanvasFixItem",title:{en:"Fix Items while Zooming",zh:"缩放画布时固定元素"},childrenKey:"demos",order:14}],childrenKey:"examples"},{id:"scatter",title:{zh:"动画",en:"Animation"},icon:"scatter",examples:[{demos:[{id:"itemAnimates",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*uVOySpSIZXkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'a',\n      data: {\n        x: 200,\n        y: 100,\n        cluster: '1',\n      },\n    },\n    {\n      id: 'b',\n      data: {\n        x: 100,\n        y: 200,\n        cluster: '2',\n      },\n    },\n    {\n      id: 'c',\n      data: {\n        x: 300,\n        y: 200,\n        cluster: '3',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'a2b',\n      source: 'a',\n      target: 'b',\n    },\n    {\n      id: 'a2c',\n      source: 'a',\n      target: 'c',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  modes: { default: ['click-select'] },\n  layout: {\n    type: 'grid',\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'cluster',\n      },\n    },\n  },\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    labelBackgroundShape: {},\n    animates: {\n      buildIn: [\n        {\n          fields: ['size', 'opacity'],\n          shapeId: 'group',\n          duration: 500,\n        },\n      ],\n      buildOut: [\n        {\n          fields: ['opacity'],\n          duration: 200,\n        },\n      ],\n      update: [\n        {\n          fields: ['x', 'y'],\n        },\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n          states: ['selected'],\n        },\n        {\n          fields: ['lineWidth', 'fill'],\n          shapeId: 'keyShape',\n          states: ['selected'],\n        },\n      ],\n      show: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 300,\n        },\n      ],\n      hide: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 300,\n        },\n        {\n          fields: ['opacity'],\n          shapeId: 'labelShape',\n          duration: 300,\n        },\n      ],\n    },\n  },\n  edge: {\n    animates: {\n      buildIn: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 500,\n        },\n      ],\n      buildOut: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 200,\n        },\n      ],\n      update: [\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n          states: ['selected'],\n        },\n        {\n          fields: ['lineWidth'],\n          shapeId: 'keyShape',\n          states: ['selected'],\n        },\n      ],\n      show: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 300,\n        },\n      ],\n      hide: [\n        {\n          fields: ['opacity'],\n          shapeId: 'keyShape',\n          duration: 300,\n        },\n      ],\n    },\n  },\n  data,\n});\n\nconst newNodes = [];\nconst buildInOutActions = {\n  'Add Node(buildin)': () => {\n    const node = graph.addData('node', {\n      id: `node-${Math.random()}`,\n      data: {\n        cluster: Math.random(),\n      },\n    });\n    graph.updateNodePosition([\n      {\n        id: node.id,\n        data: {\n          x: Math.random() * 500,\n          y: Math.random() * 500,\n        },\n      },\n    ]);\n    newNodes.push(node);\n  },\n  'Remove Node(buildout)': () => {\n    console.log('removenode', newNodes.length);\n    if (!newNodes.length) return;\n    graph.removeData('node', newNodes[0].id);\n    newNodes.shift();\n  },\n};\nconst updateActions = {\n  'Update Position(update)': () => {\n    const positions = [];\n    data.nodes.forEach((node) => {\n      const { x, y } = node.data;\n      positions.push({\n        id: node.id,\n        data: {\n          x: x + Math.random() * 50 - 25,\n          y: y + Math.random() * 50 - 25,\n        },\n      });\n      node.x += Math.random() * 50 - 25;\n      node.y += Math.random() * 50 - 25;\n    });\n    graph.updateNodePosition(positions);\n  },\n  'Update Node Color(update)': () => {\n    graph.updateData(\n      'node',\n      graph.getAllNodesData().map((node) => ({\n        id: node.id,\n        data: {\n          cluster: Math.random(),\n        },\n      })),\n    );\n  },\n  'Select/Deselect Node(update)': () => {\n    if (graph.getItemState('a', 'selected')) {\n      graph.setItemState('a', 'selected', false);\n    } else {\n      graph.setItemState('a', 'selected', true);\n    }\n  },\n  'Select/Deselect Edge(update)': () => {\n    if (graph.getItemState('a2b', 'selected')) {\n      graph.setItemState('a2b', 'selected', false);\n    } else {\n      graph.setItemState('a2b', 'selected', true);\n    }\n  },\n};\nconst showHideActions = {\n  'Hide/Show Node(show/hide)': () => {\n    if (graph.getItemVisible('a')) {\n      graph.hideItem('a');\n    } else {\n      graph.showItem('a');\n      graph.showItem('a2b');\n      graph.showItem('a2c');\n    }\n  },\n};\n\nconst actions = {\n  'animate.buildIn & animate.buildOut': buildInOutActions,\n  'animate.show & animate.hide': showHideActions,\n  'animate.update': updateActions,\n};\n\nconst controllerContainer = document.createElement('div');\ncontrollerContainer.style.position = 'absolute';\ncontainer.appendChild(controllerContainer);\n\nObject.keys(actions).forEach((groupName, i) => {\n  const btnContainer = document.createElement('div');\n  controllerContainer.appendChild(btnContainer);\n  const tip = document.createElement('span');\n  tip.innerHTML = `👉 ${groupName}: `;\n  btnContainer.appendChild(tip);\n  Object.keys(actions[groupName]).forEach((name, i) => {\n    const btn = document.createElement('a');\n    btn.innerHTML = name;\n    btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n    btn.style.padding = '4px';\n    btn.style.marginLeft = i > 0 ? '24px' : '8px';\n    btnContainer.appendChild(btn);\n    btn.addEventListener('click', () => {\n      actions[groupName][name]();\n    });\n  });\n});\n\nwindow.graph = graph;\n",title:{zh:"元素动画",en:"Item Animation"},filename:"itemAnimates.js",isNew:!1},{id:"loopAnimates",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HR-tSKcHbD4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, extend, Extensions } from '@antv/g6';\n\nconst { CubicEdge } = Extensions;\nclass CustomEdge extends CubicEdge {\n  afterDraw(model, shapeMap, diffData, diffState) {\n    const { keyShape } = shapeMap;\n    const { visible, ...otherStyles } = model.data?.otherShapes?.buShape || {};\n    if (visible) {\n      return {\n        buShape: this.upsertShape(\n          'circle',\n          'buShape',\n          {\n            r: 4,\n            x: 0,\n            y: 0,\n            fill: '#1890ff',\n            offsetPath: keyShape,\n            zIndex: 1,\n            ...otherStyles, // merged style from mappers and states\n          },\n          {\n            model,\n            shapeMap,\n            diffData,\n            diffState,\n          },\n        ),\n      };\n    } else {\n      return {};\n    }\n  }\n}\n\nconst Graph = extend(BaseGraph, {\n  edges: {\n    'custom-edge': CustomEdge,\n  },\n});\n\nconst data = {\n  nodes: [\n    {\n      id: 'a',\n      data: {\n        cluster: '1',\n      },\n    },\n    {\n      id: 'b',\n      data: {\n        cluster: '2',\n      },\n    },\n    {\n      id: 'c',\n      data: {\n        cluster: '3',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'a2b',\n      source: 'a',\n      target: 'b',\n    },\n    {\n      id: 'a2c',\n      source: 'a',\n      target: 'c',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nlet graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  modes: { default: [] },\n  layout: {\n    type: 'grid',\n    rows: 2,\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'cluster',\n      },\n    },\n  },\n  node: (model) => {\n    let type = 'circle-node';\n    if (model.id === 'b') type = 'rect-node';\n    return {\n      id: model.id,\n      data: {\n        ...model.data,\n        type,\n        labelShape: {\n          text: model.id,\n        },\n        labelBackgroundShape: {},\n        animates: {\n          update: [\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n              states: ['breathing'],\n              iterations: Infinity,\n              direction: 'alternate',\n              duration: 500,\n            },\n            {\n              fields: ['lineWidth'],\n              shapeId: 'keyShape',\n              states: ['breathing'],\n              iterations: Infinity,\n              direction: 'alternate',\n              duration: 500,\n            },\n            {\n              fields: type === 'circle-node' ? ['r'] : ['width', 'height'],\n              shapeId: 'keyShape',\n              states: ['scaling'],\n              iterations: Infinity,\n              direction: 'alternate',\n              duration: 500,\n            },\n          ],\n        },\n      },\n    };\n  },\n  edge: {\n    type: 'custom-edge',\n    animates: {\n      update: [\n        {\n          fields: ['lineDash'],\n          shapeId: 'keyShape',\n          states: ['growing', 'running'],\n          iterations: Infinity,\n          duration: 2000,\n        },\n        {\n          fields: ['offsetDistance'],\n          shapeId: 'buShape',\n          states: ['circleRunning'],\n          iterations: Infinity,\n          duration: 2000,\n        },\n      ],\n    },\n  },\n  nodeState: {\n    breathing: {\n      haloShape: {\n        opacity: 0.25,\n        lineWidth: 20,\n        visible: true,\n      },\n      keyShape: {\n        stroke: '#000',\n        lineWidth: 4,\n      },\n    },\n    scaling: {\n      keyShape: {\n        r: 24,\n        width: 48,\n        height: 48,\n      },\n    },\n  },\n  edgeState: {\n    growing: {\n      keyShape: {\n        lineWidth: 2,\n        lineDash: ['100%', 0],\n      },\n    },\n    running: {\n      keyShape: {\n        lineWidth: 2,\n        lineDash: [2, 2],\n        //  TODO: lineDashOffset\n      },\n    },\n    circleRunning: {\n      otherShapes: {\n        buShape: {\n          visible: true,\n          offsetDistance: 1,\n        },\n      },\n    },\n  },\n  data,\n});\n\nconst actions = {\n  'Enable/Disable Node States': {\n    Breathing: () => {\n      graph.getAllNodesData().forEach((node) => {\n        if (graph.getItemState(node.id, 'breathing')) {\n          graph.setItemState(node.id, 'breathing', false);\n        } else {\n          graph.setItemState(node.id, 'scaling', false);\n          graph.setItemState(node.id, 'breathing', true);\n        }\n      });\n    },\n    Scaling: () => {\n      graph.getAllNodesData().forEach((node) => {\n        if (graph.getItemState(node.id, 'scaling')) {\n          graph.setItemState(node.id, 'scaling', false);\n        } else {\n          graph.setItemState(node.id, 'breathing', false);\n          graph.setItemState(node.id, 'scaling', true);\n        }\n      });\n    },\n  },\n  'Enable/Disable Edge States': {\n    Growing: () => {\n      graph.getAllEdgesData().forEach((edge) => {\n        if (graph.getItemState(edge.id, 'growing')) {\n          graph.setItemState(edge.id, 'growing', false);\n        } else {\n          graph.setItemState(edge.id, 'circleRunning', false);\n          graph.setItemState(edge.id, 'running', false);\n          graph.setItemState(edge.id, 'growing', true);\n        }\n      });\n    },\n    Running: () => {\n      graph.getAllEdgesData().forEach((edge) => {\n        if (graph.getItemState(edge.id, 'running')) {\n          graph.setItemState(edge.id, 'running', false);\n        } else {\n          graph.setItemState(edge.id, 'circleRunning', false);\n          graph.setItemState(edge.id, 'growing', false);\n          graph.setItemState(edge.id, 'running', true);\n        }\n      });\n    },\n    CircleRunning: () => {\n      graph.getAllEdgesData().forEach((edge) => {\n        if (graph.getItemState(edge.id, 'circleRunning')) {\n          graph.setItemState(edge.id, 'circleRunning', false);\n        } else {\n          graph.setItemState(edge.id, 'running', false);\n          graph.setItemState(edge.id, 'growing', false);\n          graph.setItemState(edge.id, 'circleRunning', true);\n        }\n      });\n    },\n  },\n};\n\nconst controllerContainer = document.createElement('div');\ncontrollerContainer.style.position = 'absolute';\ncontainer.appendChild(controllerContainer);\n\nObject.keys(actions).forEach((groupName, i) => {\n  const btnContainer = document.createElement('div');\n  controllerContainer.appendChild(btnContainer);\n  const tip = document.createElement('span');\n  tip.innerHTML = `👉 ${groupName}: `;\n  btnContainer.appendChild(tip);\n  Object.keys(actions[groupName]).forEach((name, i) => {\n    const btn = document.createElement('a');\n    btn.innerHTML = name;\n    btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n    btn.style.padding = '4px';\n    btn.style.marginLeft = i > 0 ? '24px' : '8px';\n    btnContainer.appendChild(btn);\n    btn.addEventListener('click', () => {\n      actions[groupName][name]();\n    });\n  });\n});\n\nwindow.graph = graph;",title:{zh:"持续状态动画",en:"Loop State Animation"},filename:"loopAnimates.js",isNew:!1},{id:"animateOrder",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*sBobRa0n7y8AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, stdLib } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'Click Me',\n      data: {\n        x: 200,\n        y: 100,\n        cluster: '1',\n      },\n    },\n    {\n      id: 'b',\n      data: {\n        x: 100,\n        y: 200,\n        cluster: '2',\n      },\n    },\n    {\n      id: 'c',\n      data: {\n        x: 300,\n        y: 200,\n        cluster: '3',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'a2b',\n      source: 'Click Me',\n      target: 'b',\n    },\n    {\n      id: 'a2c',\n      source: 'Click Me',\n      target: 'c',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nlet graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  modes: { default: [] },\n  plugins: [\n    {\n      // lod-controller will be automatically assigned to graph with `disableLod: false` to graph if it is not configured as following\n      type: 'lod-controller',\n      disableLod: true,\n    },\n  ],\n  layout: {\n    type: 'grid',\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'cluster',\n      },\n    },\n  },\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    labelBackgroundShape: {},\n    animates: {\n      update: [\n        {\n          fields: ['r'],\n          shapeId: 'keyShape',\n          duration: 1000,\n          order: 0,\n        },\n        {\n          fields: ['fill'],\n          shapeId: 'keyShape',\n          duration: 1000,\n          order: 2,\n        },\n        {\n          fields: ['lineWidth'],\n          shapeId: 'keyShape',\n          duration: 1000,\n          order: 1,\n        },\n        {\n          fields: ['fill', 'fontWeight'],\n          shapeId: 'labelShape',\n          duration: 1000,\n          order: 3,\n        },\n      ],\n    },\n  },\n  data,\n});\n\ngraph.on('node:click', (e) => {\n  graph.updateData('node', {\n    id: e.itemId,\n    data: {\n      cluster: Math.random(),\n      keyShape: {\n        r: 32 + Math.random() * 10 - 5,\n        lineWidth: 6 + Math.random() * 6 - 3,\n        stroke: '#000',\n      },\n      labelShape: {\n        fill: stdLib.themes.light.node.palette[Math.floor(Math.random() * 10)],\n        fontWeight: 700,\n      },\n    },\n  });\n});\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = `The Animations are Ordered as: <br/> 1️⃣ keyShape's r, 2️⃣ keyShape's fill, 3️⃣ keyShape's lineWidth, and 4️⃣ labelShape's fill and fontWeight`;\nbtnContainer.appendChild(tip);\n\nwindow.graph = graph;",title:{zh:"动画顺序",en:"Animation Order"},filename:"animateOrder.js",isNew:!1},{id:"viewAnimates",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*savcTIdxucoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: 'A',\n      data: {\n        x: 200,\n        y: 100,\n        cluster: '1',\n      },\n    },\n    {\n      id: 'B',\n      data: {\n        x: 100,\n        y: 200,\n        cluster: '2',\n      },\n    },\n    {\n      id: 'C',\n      data: {\n        x: 300,\n        y: 200,\n        cluster: '3',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'a2b',\n      source: 'A',\n      target: 'B',\n    },\n    {\n      id: 'a2c',\n      source: 'A',\n      target: 'C',\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 50;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'cluster',\n      },\n    },\n  },\n  modes: { default: ['drag-canvas', 'zoom-canvas'] },\n  data,\n});\n\nconst actions = {\n  'Fit View': () => {\n    graph.fitView({}, { duration: 500 });\n  },\n  'Fit Center': () => {\n    graph.fitCenter('render', { duration: 500 });\n  },\n  'Zoom In': () => {\n    const currentZoom = graph.getZoom();\n    graph.zoomTo(currentZoom * 1.1, undefined, { duration: 500 });\n  },\n  'Zoom Out': () => {\n    const currentZoom = graph.getZoom();\n    graph.zoomTo((currentZoom * 1) / 1.1, undefined, { duration: 500 });\n  },\n  Translate: () => {\n    graph.translate({ dx: Math.random() * 100 - 50, dy: Math.random() * 100 - 50 }, { duration: 500 });\n  },\n  '1:1': () => {\n    graph.zoomTo(1, undefined, { duration: 500 });\n  },\n};\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Activate actions: ';\nbtnContainer.appendChild(tip);\n\nObject.keys(actions).forEach((name, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = name;\n  btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', () => {\n    actions[name]();\n  });\n});\n\nwindow.graph = graph;\n",title:{zh:"视口动画",en:"Viewport Animation"},filename:"viewAnimates.js",isNew:!1},{id:"treeAnimates",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Gu1bQJJoqvAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'cubic-horizontal-edge': Extensions.CubicHorizontalEdge,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/algorithm-category.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const graph = new ExtGraph({\n      container,\n      width,\n      height,\n      transforms: [\n    {\n      type: 'transform-v4-data',\n      activeLifecycle: ['read'],\n    },\n  ],\n      modes: {\n        default: ['drag-canvas', 'zoom-canvas', 'drag-node', 'collapse-expand-tree'],\n      },\n      layout: {\n        type: 'compactBox',\n        direction: 'LR',\n        getHeight: function getHeight() {\n          return 32;\n        },\n        getWidth: function getWidth() {\n          return 32;\n        },\n        getVGap: function getVGap() {\n          return 10;\n        },\n        getHGap: function getHGap() {\n          return 100;\n        },\n      },\n      node: {\n        labelShape: {\n          position: 'right',\n          text: {\n            fields: ['id'],\n            formatter: (model) => model.id,\n          },\n        },\n        anchorPoints: [\n          [0, 0.5],\n          [1, 0.5],\n        ],\n        animates: {\n          update: [\n            {\n              fields: ['x', 'y'],\n              duration: 300,\n            },\n          ],\n          hide: [\n            {\n              fields: ['opacity'],\n              duration: 100,\n              shapeId: 'keyShape',\n            },\n            {\n              fields: ['opacity'],\n              duration: 100,\n              shapeId: 'labelShape',\n            },\n          ],\n          show: [\n            {\n              fields: ['opacity'],\n              duration: 1000,\n              shapeId: 'keyShape',\n            },\n            {\n              fields: ['opacity'],\n              duration: 1000,\n              shapeId: 'labelShape',\n            },\n          ],\n        },\n      },\n      edge: {\n        type: 'cubic-horizontal-edge',\n      },\n      autoFit: 'view',\n      data: {\n        type: 'treeData',\n        value: data,\n      },\n    });\n\n    const btnContainer = document.createElement('div');\n    btnContainer.style.position = 'absolute';\n    container.appendChild(btnContainer);\n    const tip = document.createElement('span');\n    tip.innerHTML = '👉 Click a Node to Collapse and Expand:';\n    btnContainer.appendChild(tip);\n\nwindow.graph = graph;\n  });\n",title:{zh:"树图动画",en:"Tree Collapse Animation"},filename:"treeAnimates.js",isNew:!1},{id:"circleComboAnimates",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*S0sSR4wHM1gAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'grid',\n    width: 400,\n    height: 400,\n  },\n  autoFit: 'center',\n  node: {\n    keyShape: {\n      r: 10,\n    },\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  combo: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    animates: {\n      // collapse and expand are kinds of update, so response these update with the following animations\n      update: [\n        {\n          fields: ['lineWidth', 'r'],\n          shapeId: 'keyShape',\n        },\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n        },\n      ],\n    },\n  },\n  modes: {\n    default: ['drag-combo', 'click-select', 'drag-node', 'drag-canvas', 'zoom-canvas', 'collapse-expand-combo'],\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: { parentId: 'combo1' } },\n      { id: 'node2', data: { parentId: 'combo1' } },\n      { id: 'node3', data: { parentId: 'combo2' } },\n      { id: 'node4', data: { parentId: 'combo1' } },\n      { id: 'node5', data: {} },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2', data: {} },\n      { id: 'edge2', source: 'node1', target: 'node3', data: {} },\n      { id: 'edge3', source: 'node1', target: 'node4', data: {} },\n      { id: 'edge4', source: 'node2', target: 'node3', data: {} },\n      { id: 'edge5', source: 'node3', target: 'node4', data: {} },\n      { id: 'edge6', source: 'node4', target: 'node5', data: {} },\n    ],\n    combos: [\n      { id: 'combo1', data: { parentId: 'combo2' } },\n      { id: 'combo2', data: {} },\n      { id: 'combo3', data: {} },\n    ],\n  },\n});\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Double Click a Combo to Collapse/Expand';\nbtnContainer.appendChild(tip);\n\nwindow.graph = graph;\n",title:{zh:"圆形 Combo 动画",en:"Circle Combo Animation"},filename:"circleComboAnimates.js",isNew:!1},{id:"rectComboAnimates",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*syoFQqYr0NoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  layout: {\n    type: 'grid',\n    width: 400,\n    height: 400,\n  },\n  autoFit: 'center',\n  node: {\n    keyShape: {\n      r: 10,\n    },\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n  combo: {\n    type: 'rect-combo',\n    keyShape: {\n      padding: [25, 20, 15, 20],\n    },\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n    animates: {\n      // collapse and expand are kinds of update, so response these update with the following animations\n      update: [\n        {\n          // different from circle combo, the shape's style fields about size are width and height\n          // what's more, x y is neccessary for rect combo since the x and y are not zero for rect combo to make the origin of its coordinate system\n          fields: ['lineWidth', 'width', 'height', 'x', 'y'],\n          shapeId: 'keyShape',\n        },\n        {\n          fields: ['opacity'],\n          shapeId: 'haloShape',\n        },\n      ],\n    },\n  },\n  modes: {\n    default: ['drag-combo', 'click-select', 'drag-node', 'drag-canvas', 'zoom-canvas', 'collapse-expand-combo'],\n  },\n  data: {\n    nodes: [\n      { id: 'node1', data: { parentId: 'combo1' } },\n      { id: 'node2', data: { parentId: 'combo1' } },\n      { id: 'node3', data: { parentId: 'combo2' } },\n      { id: 'node4', data: { parentId: 'combo1' } },\n      { id: 'node5', data: {} },\n    ],\n    edges: [\n      { id: 'edge1', source: 'node1', target: 'node2', data: {} },\n      { id: 'edge2', source: 'node1', target: 'node3', data: {} },\n      { id: 'edge3', source: 'node1', target: 'node4', data: {} },\n      { id: 'edge4', source: 'node2', target: 'node3', data: {} },\n      { id: 'edge5', source: 'node3', target: 'node4', data: {} },\n      { id: 'edge6', source: 'node4', target: 'node5', data: {} },\n    ],\n    combos: [\n      { id: 'combo1', data: { parentId: 'combo2' } },\n      { id: 'combo2', data: {} },\n      { id: 'combo3', data: {} },\n    ],\n  },\n});\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = '👉 Double Click a Combo to Collapse/Expand';\nbtnContainer.appendChild(tip);\n\nwindow.graph = graph;\n",title:{zh:"矩形 Combo 动画",en:"Rect Combo Animation"},filename:"rectComboAnimates.js",isNew:!1}],icon:"",id:"changePosition",title:{en:"Animations",zh:"动画"},childrenKey:"demos",order:5}],childrenKey:"examples"},{id:"tool",title:{zh:"组件",en:"Component"},icon:"tool",examples:[{demos:[],icon:"",id:"history",title:{en:"History",zh:"撤销重做"},childrenKey:"demos",order:0},{demos:[{id:"default",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*JtOPS4unj58AAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, Util, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    toolbar: Extensions.Toolbar,\n    minimap: Extensions.Minimap,\n    grid: Extensions.Grid,\n  },\n  behaviors: {\n    'activate-relations': Extensions.ActivateRelations,\n  },\n});\n\nimport insertCss from 'insert-css';\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\nconst data = Util.mock(6).circle();\n\nnew Graph({\n  container,\n  width,\n  height,\n  data,\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n  plugins: [\n    'toolbar',\n    'minimap',\n    {\n      key: 'default-grid',\n      type: 'grid',\n      img: 'url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)',\n    },\n  ],\n});\n\n/** set the style of minimap  */\ninsertCss(`\n  .g6-minimap {\n    position:absolute;\n    bottom:40px;\n    right:40px;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);\n  }\n  .g6-minimap-viewport {\n    border: 2px solid rgb(25, 128, 255);\n  }\n`);\n",title:{zh:"总览",en:"Overview"},filename:"default.ts",isNew:!1}],icon:"",id:"overview",title:{en:"Overview",zh:"插件总览"},childrenKey:"demos",order:0},{demos:[{id:"tooltipPlugin",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ErhbR7ErhRwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      style: {\n        label: 'node-0',\n        x: 100,\n        y: 100,\n        description: 'This is node-0.',\n      },\n    },\n    {\n      id: '1',\n      style: {\n        label: 'node-1',\n        description: 'This is node-1.',\n      },\n    },\n    {\n      id: '2',\n      style: {\n        label: 'node-2',\n        description: 'This is node-2.',\n      },\n    },\n    {\n      id: '3',\n      style: {\n        label: 'node-3',\n        description: 'This is node-3.',\n      },\n    },\n    {\n      id: '4',\n      style: {\n        label: 'node-4',\n        description: 'This is node-4.',\n      },\n    },\n    {\n      id: '5',\n      style: {\n        label: 'node-5',\n        description: 'This is node-5.',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'e0',\n      source: '0',\n      target: '1',\n      style: {\n        description: 'This is edge from node 0 to node 1.',\n      },\n    },\n    {\n      id: 'e1',\n      source: '0',\n      target: '2',\n      style: {\n        description: 'This is edge from node 0 to node 2.',\n      },\n    },\n    {\n      id: 'e2',\n      source: '0',\n      target: '3',\n      style: {\n        description: 'This is edge from node 0 to node 3.',\n      },\n    },\n    {\n      id: 'e3',\n      source: '0',\n      target: '4',\n      style: {\n        description: 'This is edge from node 0 to node 4.',\n      },\n    },\n    {\n      id: 'e4',\n      source: '0',\n      target: '5',\n      style: {\n        description: 'This is edge from node 0 to node 5.',\n      },\n    },\n  ],\n};\n\nconst tooltip = {\n  type: 'tooltip',\n  getContent: (e, items) => {\n    let result = `<h4>Custom Content</h4>`;\n    items.forEach((item) => {\n      result += `<p>Type: ${item.style.description}</p>`;\n    });\n    return result;\n  },\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'grid',\n  },\n  plugins: [tooltip],\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"提示框插件",en:"Tooltip Plugin"},filename:"tooltipPlugin.ts",isNew:!1},{id:"tooltipClick",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ErhbR7ErhRwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '0',\n      style: {\n        label: 'node-0',\n        x: 100,\n        y: 100,\n        description: 'This is node-0.',\n      },\n    },\n    {\n      id: '1',\n      style: {\n        label: 'node-1',\n        description: 'This is node-1.',\n      },\n    },\n    {\n      id: '2',\n      style: {\n        label: 'node-2',\n        description: 'This is node-2.',\n      },\n    },\n    {\n      id: '3',\n      style: {\n        label: 'node-3',\n        description: 'This is node-3.',\n      },\n    },\n    {\n      id: '4',\n      style: {\n        label: 'node-4',\n        description: 'This is node-4.',\n      },\n    },\n    {\n      id: '5',\n      style: {\n        label: 'node-5',\n        description: 'This is node-5.',\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'e0',\n      source: '0',\n      target: '1',\n      style: {\n        description: 'This is edge from node 0 to node 1.',\n      },\n    },\n    {\n      id: 'e1',\n      source: '0',\n      target: '2',\n      style: {\n        description: 'This is edge from node 0 to node 2.',\n      },\n    },\n    {\n      id: 'e2',\n      source: '0',\n      target: '3',\n      style: {\n        description: 'This is edge from node 0 to node 3.',\n      },\n    },\n    {\n      id: 'e3',\n      source: '0',\n      target: '4',\n      style: {\n        description: 'This is edge from node 0 to node 4.',\n      },\n    },\n    {\n      id: 'e4',\n      source: '0',\n      target: '5',\n      style: {\n        description: 'This is edge from node 0 to node 5.',\n      },\n    },\n  ],\n};\n\nconst tooltip = {\n  type: 'tooltip',\n  trigger: 'click',\n  enable: (e) => e.targetType === 'node',\n  getContent: (e) => {\n    const {\n      target: { id },\n    } = e;\n    const items = graph.getNodeData([id]);\n    let result = `<h4>Custom Content</h4>`;\n    items.forEach((item) => {\n      result += `<p>Type: ${item.style.description}</p>`;\n    });\n    return result;\n  },\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'grid',\n  },\n  plugins: [tooltip],\n  behaviors: ['drag-canvas', 'drag-element'],\n});\n\ngraph.render();\n",title:{zh:"点击出现提示框",en:"Tooltip Plugin with Click Trigger"},filename:"tooltipClick.ts",isNew:!1}],icon:"",id:"tooltip",title:{en:"Tooltip",zh:"提示框"},childrenKey:"demos",order:0},{demos:[{id:"contextMenu",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*vY6TS7FGvngAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node-0' }, { id: 'node-1' }, { id: 'node-2' }, { id: 'node-3' }, { id: 'node-4' }, { id: 'node-5' }],\n  edges: [\n    { source: 'node-0', target: 'node-1' },\n    { source: 'node-0', target: 'node-2' },\n    { source: 'node-0', target: 'node-3' },\n    { source: 'node-0', target: 'node-4' },\n    { source: 'node-1', target: 'node-0' },\n    { source: 'node-2', target: 'node-0' },\n    { source: 'node-3', target: 'node-0' },\n    { source: 'node-4', target: 'node-0' },\n    { source: 'node-5', target: 'node-0' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'grid',\n  },\n  behaviors: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  plugins: [\n    {\n      type: 'contextmenu',\n      trigger: 'contextmenu', // 'click' or 'contextmenu'\n      onClick: (v) => {\n        alert('You have clicked the「' + v + '」item');\n      },\n      getItems: () => {\n        return [\n          { name: '展开一度关系', value: 'spread' },\n          { name: '查看详情', value: 'detail' },\n        ];\n      },\n      enable: (e) => e.targetType === 'node',\n    },\n  ],\n});\n\ngraph.render();\n",title:{zh:"上下文菜单",en:"Context Menu"},filename:"contextMenu.ts",isNew:!1}],icon:"",id:"contextMenu",title:{en:"ContextMenu",zh:"上下文菜单"},childrenKey:"demos",order:1},{demos:[{id:"default",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4s6XQZHeb5gAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    'edge-filter-lens': Extensions.EdgeFilterLens,\n  },\n});\n\nlet filterLensConfig = {\n  key: 'edge-filter-lens-plg',\n  type: 'edge-filter-lens',\n  trigger: 'mousemove',\n  showLabel: 'edge',\n  showType: 'both',\n  r: 140,\n};\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\n\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  transforms: ['transform-v4-data', 'edge-label-transform'],\n  plugins: [filterLensConfig],\n  layout: {\n    type: 'force',\n    linkDistance: 100,\n  },\n  edge: {\n    labelShape: {\n      text: {\n        fields: ['value'],\n        formatter: (model) => `v=${model.data.value}`,\n      },\n    },\n    labelBackgroundShape: {},\n  },\n});\ngraph.on('afterrender', (e) => {\n  graph.zoomTo(0.6);\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n  .then((res) => res.json())\n  .then((data) => {\n    graph.read(data);\nwindow.graph = graph;\n  });\n\nconst buttonContainer = document.createElement('div');\nbuttonContainer.style.display = 'inline-block';\nbuttonContainer.style.height = '35px';\nbuttonContainer.style.width = '100%';\nbuttonContainer.style.textAlign = 'center';\nbuttonContainer.style.position = 'absolute';\nbuttonContainer.style.top = '0px';\n\n// tip\nconst tip = document.createElement('span');\ntip.innerHTML = '点击画布任意位置开始探索。过滤镜中显示两端节点均在过滤镜中的边。';\nbuttonContainer.appendChild(tip);\n\nbuttonContainer.appendChild(document.createElement('br'));\n\n// tip english\nconst tipEn = document.createElement('span');\ntipEn.innerHTML = 'Click the canvas to begin. Show the edge whose both end nodes are inside the lens.';\nbuttonContainer.appendChild(tipEn);\n\nbuttonContainer.appendChild(document.createElement('br'));\n\n// enable/disable the fisheye lens button\nconst switchButton = document.createElement('input');\nswitchButton.type = 'button';\nswitchButton.value = 'Disable';\nswitchButton.style.height = '25px';\nswitchButton.style.width = '60px';\nswitchButton.style.marginLeft = '16px';\nbuttonContainer.appendChild(switchButton);\n\n// list for changing trigger\nconst triggerTag = document.createElement('span');\ntriggerTag.innerHTML = 'Trigger:';\ntriggerTag.style.marginLeft = '16px';\nbuttonContainer.appendChild(triggerTag);\nconst configTrigger = document.createElement('select');\nconfigTrigger.value = 'mousemove';\nconfigTrigger.style.height = '25px';\nconfigTrigger.style.width = '100px';\nconfigTrigger.style.marginLeft = '8px';\nconst mousemoveTrigger = document.createElement('option');\nmousemoveTrigger.value = 'mousemove';\nmousemoveTrigger.innerHTML = 'mousemove';\nconfigTrigger.appendChild(mousemoveTrigger);\nconst dragTrigger = document.createElement('option');\ndragTrigger.value = 'drag';\ndragTrigger.innerHTML = 'drag';\nconfigTrigger.appendChild(dragTrigger);\nconst clickTrigger = document.createElement('option');\nclickTrigger.value = 'click';\nclickTrigger.innerHTML = 'click';\nconfigTrigger.appendChild(clickTrigger);\nbuttonContainer.appendChild(configTrigger);\n\n// list for changing scaleRBy\nconst scaleR = document.createElement('span');\nscaleR.innerHTML = 'Scale r by:';\nscaleR.style.marginLeft = '16px';\nbuttonContainer.appendChild(scaleR);\nconst configScaleRBy = document.createElement('select');\nconfigScaleRBy.value = 'wheel';\nconfigScaleRBy.style.height = '25px';\nconfigScaleRBy.style.width = '100px';\nconfigScaleRBy.style.marginLeft = '8px';\nconst scaleRByWheel = document.createElement('option');\nscaleRByWheel.value = 'wheel';\nscaleRByWheel.innerHTML = 'wheel';\nconfigScaleRBy.appendChild(scaleRByWheel);\nconst scaleRByUnset = document.createElement('option');\nscaleRByUnset.value = 'unset';\nscaleRByUnset.innerHTML = 'unset';\nconfigScaleRBy.appendChild(scaleRByUnset);\nbuttonContainer.appendChild(configScaleRBy);\n\ncontainer.parentNode.appendChild(buttonContainer);\n\nswitchButton.addEventListener('click', (e) => {\n  if (switchButton.value === 'Disable') {\n    switchButton.value = 'Enable';\n    graph.removePlugins([filterLensConfig.key]);\n  } else {\n    switchButton.value = 'Disable';\n    graph.addPlugins([filterLensConfig]);\n  }\n});\nconfigScaleRBy.addEventListener('change', (e) => {\n  filterLensConfig = {\n    ...filterLensConfig,\n    scaleRBy: e.target.value,\n  };\n  graph.updatePlugin(filterLensConfig);\n});\nconfigTrigger.addEventListener('change', (e) => {\n  filterLensConfig = {\n    ...filterLensConfig,\n    trigger: e.target.value,\n  };\n  graph.updatePlugin(filterLensConfig);\n});\n",title:{zh:"边过滤镜",en:"Edge Filter Lens"},filename:"default.ts",isNew:!1},{id:"moreConfig",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SMyPSr7XV9YAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    'edge-filter-lens': Extensions.EdgeFilterLens,\n  },\n});\n\nlet filterLensConfig = {\n  key: 'edge-filter-lens-plg',\n  type: 'edge-filter-lens',\n  trigger: 'mousemove',\n  showLabel: 'edge',\n  showType: 'both',\n  delegateStyle: {\n    fill: '#F8E8D9',\n    lineDash: [5, 5],\n    stroke: '#666',\n  },\n  shouldShow: (edgeModel) => {\n    return edgeModel.data.value > 5;\n  },\n  r: 180,\n};\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\n\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  transforms: ['transform-v4-data', 'edge-label-transform'],\n  plugins: [filterLensConfig],\n  layout: {\n    type: 'force',\n    linkDistance: 100,\n  },\n  edge: {\n    keyShape: {\n      stroke: {\n        fields: ['value'],\n        formatter: (model) => (model.data.value > 5 ? '#f00' : '#99ADD1'),\n      },\n      lineWidth: {\n        fields: ['value'],\n        formatter: (model) => (model.data.value > 5 ? 3 : 1),\n      },\n    },\n    labelShape: {\n      text: {\n        fields: ['value'],\n        formatter: (model) => `v=${model.data.value}`,\n      },\n    },\n    labelBackgroundShape: {},\n  },\n});\ngraph.on('afterrender', (e) => {\n  graph.zoomTo(0.6);\n});\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/relations.json')\n  .then((res) => res.json())\n  .then((data) => {\n    graph.read(data);\nwindow.graph = graph;\n  });\n\nconst buttonContainer = document.createElement('div');\nbuttonContainer.style.display = 'inline-block';\nbuttonContainer.style.height = '35px';\nbuttonContainer.style.width = '100%';\nbuttonContainer.style.textAlign = 'center';\nbuttonContainer.style.position = 'absolute';\nbuttonContainer.style.top = '0px';\n\n// tip\nconst tip = document.createElement('span');\ntip.innerHTML = '点击画布任意位置开始探索。过滤镜中显示两端节点均在过滤镜中的边。';\nbuttonContainer.appendChild(tip);\n\nbuttonContainer.appendChild(document.createElement('br'));\n\n// tip english\nconst tipEn = document.createElement('span');\ntipEn.innerHTML = 'Click the canvas to begin. Show the edge whose both end nodes are inside the lens.';\nbuttonContainer.appendChild(tipEn);\n\nbuttonContainer.appendChild(document.createElement('br'));\n\n// enable/disable the fisheye lens button\nconst switchButton = document.createElement('input');\nswitchButton.type = 'button';\nswitchButton.value = 'Disable';\nswitchButton.style.height = '25px';\nswitchButton.style.width = '60px';\nswitchButton.style.marginLeft = '16px';\nbuttonContainer.appendChild(switchButton);\n\n// list for changing trigger\nconst triggerTag = document.createElement('span');\ntriggerTag.innerHTML = 'Trigger:';\ntriggerTag.style.marginLeft = '16px';\nbuttonContainer.appendChild(triggerTag);\nconst configTrigger = document.createElement('select');\nconfigTrigger.value = 'mousemove';\nconfigTrigger.style.height = '25px';\nconfigTrigger.style.width = '100px';\nconfigTrigger.style.marginLeft = '8px';\nconst mousemoveTrigger = document.createElement('option');\nmousemoveTrigger.value = 'mousemove';\nmousemoveTrigger.innerHTML = 'mousemove';\nconfigTrigger.appendChild(mousemoveTrigger);\nconst dragTrigger = document.createElement('option');\ndragTrigger.value = 'drag';\ndragTrigger.innerHTML = 'drag';\nconfigTrigger.appendChild(dragTrigger);\nconst clickTrigger = document.createElement('option');\nclickTrigger.value = 'click';\nclickTrigger.innerHTML = 'click';\nconfigTrigger.appendChild(clickTrigger);\nbuttonContainer.appendChild(configTrigger);\n\n// list for changing scaleRBy\nconst scaleR = document.createElement('span');\nscaleR.innerHTML = 'Scale r by:';\nscaleR.style.marginLeft = '16px';\nbuttonContainer.appendChild(scaleR);\nconst configScaleRBy = document.createElement('select');\nconfigScaleRBy.value = 'wheel';\nconfigScaleRBy.style.height = '25px';\nconfigScaleRBy.style.width = '100px';\nconfigScaleRBy.style.marginLeft = '8px';\nconst scaleRByWheel = document.createElement('option');\nscaleRByWheel.value = 'wheel';\nscaleRByWheel.innerHTML = 'wheel';\nconfigScaleRBy.appendChild(scaleRByWheel);\nconst scaleRByUnset = document.createElement('option');\nscaleRByUnset.value = 'unset';\nscaleRByUnset.innerHTML = 'unset';\nconfigScaleRBy.appendChild(scaleRByUnset);\nbuttonContainer.appendChild(configScaleRBy);\n\ncontainer.parentNode.appendChild(buttonContainer);\n\nswitchButton.addEventListener('click', (e) => {\n  if (switchButton.value === 'Disable') {\n    switchButton.value = 'Enable';\n    graph.removePlugins([filterLensConfig.key]);\n  } else {\n    switchButton.value = 'Disable';\n    graph.addPlugins([filterLensConfig]);\n  }\n});\nconfigScaleRBy.addEventListener('change', (e) => {\n  filterLensConfig = {\n    ...filterLensConfig,\n    scaleRBy: e.target.value,\n  };\n  graph.updatePlugin(filterLensConfig);\n});\nconfigTrigger.addEventListener('change', (e) => {\n  filterLensConfig = {\n    ...filterLensConfig,\n    trigger: e.target.value,\n  };\n  graph.updatePlugin(filterLensConfig);\n});\n",title:{zh:"更多配置",en:"More Configs"},filename:"moreConfig.ts",isNew:!1}],icon:"",id:"edgeFilterLens",title:{en:"Edge Filter Lens",zh:"边过滤镜"},childrenKey:"demos",order:2},{demos:[{id:"default",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*r3dAQo-R3BoAAAAAAAAAAABkARQnAQ",source:"import { Graph as BaseGraph, Extensions, Util, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    grid: Extensions.Grid,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\nconst data = Util.mock(6).circle();\n\nconst graph = new Graph({\n  container,\n  width,\n  height,\n  data,\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n  plugins: [\n    {\n      key: 'default-grid',\n      type: 'grid',\n      img: 'url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)',\n    },\n  ],\n});\n\nwindow.graph = graph;\n",title:{zh:"画布网格",en:"Grid"},filename:"default.ts",isNew:!1}],icon:"",id:"grid",title:{en:"Grid",zh:"网格"},childrenKey:"demos",order:2},{demos:[{id:"minimap",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9SBGT5nadhoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, Util, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    minimap: Extensions.Minimap,\n  },\n});\n\nimport insertCss from 'insert-css';\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\nconst data = Util.mock(20).random();\n\n/** minimap with string config */\nconst minimap1 = 'minimap';\n/** minimap with object onfig and delegate type */\nconst minimap2 = {\n  key: 'minimap2',\n  type: 'minimap',\n  size: [300, 200],\n  mode: 'delegate',\n  delegateStyle: {\n    fill: 'red',\n  },\n  className: 'g6-minimap-2',\n  viewportClassName: 'g6-minimap-viewport-2',\n};\n/** minimap with object onfig and keyShape type */\nconst minimap3 = {\n  key: 'minimap3',\n  type: 'minimap',\n  mode: 'keyShape',\n  size: [300, 200],\n  className: 'g6-minimap-3',\n  viewportClassName: 'g6-minimap-viewport-3',\n};\nnew Graph({\n  container,\n  width,\n  height,\n  data,\n  layout: {\n    type: 'force',\n  },\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => {\n          return model.id;\n        },\n      },\n    },\n  },\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n  plugins: [minimap1, minimap2, minimap3],\n});\n\n/** set the style of minimap  */\ninsertCss(`\n  .g6-minimap-2 {\n    position:absolute;\n    bottom:40px;\n    right:40px;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);\n  }\n  .g6-minimap-viewport-2 {\n    border: 2px solid rgb(25, 128, 255);\n  }\n  .g6-minimap-3 {\n    position:absolute;\n    bottom:40px;\n    left:40px;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);\n  }\n  .g6-minimap-viewport-3 {\n    border: 2px solid rgb(25, 128, 255);\n  }\n`);\n",title:{zh:"小地图导航",en:"Minimap"},filename:"minimap.ts",isNew:!1},{id:"minimap-api",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9SBGT5nadhoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, Util, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    minimap: Extensions.Minimap,\n  },\n});\n\nimport insertCss from 'insert-css';\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\nconst data = Util.mock(20).random();\n\nconst graph = new Graph({\n  container,\n  width,\n  height,\n  data,\n  layout: {\n    type: 'force',\n  },\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n});\n\ngraph.addPlugins([\n  {\n    key: 'minimap1',\n    type: 'minimap',\n    mode: 'delegate',\n  },\n  {\n    key: 'minimap2',\n    type: 'minimap',\n    mode: 'keyShape',\n    className: 'g6-minimap-2',\n  },\n]);\n\n/** set the style of minimap  */\ninsertCss(`\n  .g6-minimap-2 {\n    position:absolute;\n    bottom:40px;\n    right:40px;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);\n  }\n  .g6-minimap-viewport-2 {\n    border: 2px solid rgb(25, 128, 255);\n  }\n   \n`);\n",title:{zh:"通过 API 控制 Minimap",en:"Minimap API"},filename:"minimap-api.ts",isNew:!1}],icon:"",id:"minimap",title:{en:"Minimap",zh:"小地图导航"},childrenKey:"demos",order:2},{demos:[{id:"toolbar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*e5BYT75a3rgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, Util, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    toolbar: Extensions.Toolbar,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\nconst data = Util.mock(6).circle();\nconst layout = {\n  type: 'grid',\n};\n\nnew Graph({\n  container,\n  width,\n  height,\n  data,\n  layout,\n  modes: {\n    default: ['drag-canvas', 'drag-element', 'zoom-canvas'],\n  },\n  plugins: [{ type: 'toolbar', key: 'toolbar-1' }],\n});\n",title:{zh:"工具栏",en:"ToolBar"},filename:"toolbar.ts",isNew:!1},{id:"self-toolbar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dD5gR7D8TbAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, Util, extend } from '@antv/g6';\nimport insertCss from 'insert-css';\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    toolbar: Extensions.Toolbar,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\nconst data = Util.mock(6).circle();\n\nconst graph = new Graph({\n  container,\n  width,\n  height,\n  renderer: 'canvas',\n  layout: {\n    type: 'grid',\n  },\n  modes: {\n    default: ['drag-canvas', 'drag-element', 'zoom-canvas'],\n  },\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => model.id,\n      },\n    },\n  },\n\n  data,\n});\n\nconst toolbar = {\n  key: 'toolbar-1',\n  type: 'toolbar',\n  className: 'my-toolbar',\n  getContent: () => {\n    return `\n      <ul>\n        <li code='alert'>alert</li>\n        <li code='add'>add node</li>\n        <li code='remove'>random remove node</li>\n      </ul>\n    `;\n  },\n  handleClick: (code) => {\n    if (code === 'alert') {\n      alert('hello world');\n    }\n    if (code === 'add') {\n      graph.addData('node', {\n        id: 'node2',\n        data: {\n          x: 600,\n          y: 100,\n        },\n      });\n      graph.addData('node', {\n        id: 'node3',\n        data: {\n          x: 300,\n          y: 100,\n        },\n      });\n      graph.addData('edge', {\n        id: 'edge2',\n        source: 'node2',\n        target: 'node3',\n        data: {\n          type: 'line-edge',\n        },\n      });\n    }\n    if (code === 'remove') {\n      graph.removeData('node', 'node2');\n    }\n  },\n};\n\ngraph.addPlugins([toolbar]);\n\n/** set the style of minimap  */\ninsertCss(`\n  .my-toolbar {\n    width:100%;\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    position:absolute;\n    top:40px;\n    right:40px;\n    height:50px;\n    line-height:50px;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);\n  }\n  .my-toolbar>li{\n    height:50px;\n    line-height:50px;\n    flex:1;\n  }\n\n`);\n",title:{zh:"自定义工具栏",en:"ToolBar"},filename:"self-toolbar.ts",isNew:!1}],icon:"",id:"toolbar",title:{en:"ToolBar",zh:"工具栏"},childrenKey:"demos",order:4},{demos:[{id:"hull",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*eXzfTbFrYjMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, extend, Extensions } from '@antv/g6';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'lasso-select': Extensions.LassoSelect,\n  },\n  plugins: {\n    hull: Extensions.Hull,\n  },\n});\n\nconst data = {\n  nodes: [\n    { id: 'node0', data: { size: 50 } },\n    { id: 'node1', data: { size: 30 } },\n    { id: 'node2', data: { size: 30 } },\n    { id: 'node3', data: { size: 30 } },\n    { id: 'node4', data: { size: 30, isLeaf: true } },\n    { id: 'node5', data: { size: 30, isLeaf: true } },\n    { id: 'node6', data: { size: 15, isLeaf: true } },\n    { id: 'node7', data: { size: 15, isLeaf: true } },\n    { id: 'node8', data: { size: 15, isLeaf: true } },\n    { id: 'node9', data: { size: 15, isLeaf: true } },\n    { id: 'node10', data: { size: 15, isLeaf: true } },\n    { id: 'node11', data: { size: 15, isLeaf: true } },\n    { id: 'node12', data: { size: 15, isLeaf: true } },\n    { id: 'node13', data: { size: 15, isLeaf: true } },\n    { id: 'node14', data: { size: 15, isLeaf: true } },\n    { id: 'node15', data: { size: 15, isLeaf: true } },\n    { id: 'node16', data: { size: 15, isLeaf: true } },\n  ],\n  edges: [\n    { id: 'edge1', source: 'node0', target: 'node1' },\n    { id: 'edge2', source: 'node0', target: 'node2' },\n    { id: 'edge3', source: 'node0', target: 'node3' },\n    { id: 'edge4', source: 'node0', target: 'node4' },\n    { id: 'edge5', source: 'node0', target: 'node5' },\n    { id: 'edge6', source: 'node1', target: 'node6' },\n    { id: 'edge7', source: 'node1', target: 'node7' },\n    { id: 'edge8', source: 'node2', target: 'node8' },\n    { id: 'edge9', source: 'node2', target: 'node9' },\n    { id: 'edge10', source: 'node2', target: 'node10' },\n    { id: 'edge11', source: 'node2', target: 'node11' },\n    { id: 'edge12', source: 'node2', target: 'node12' },\n    { id: 'edge13', source: 'node2', target: 'node13' },\n    { id: 'edge14', source: 'node3', target: 'node14' },\n    { id: 'edge15', source: 'node3', target: 'node15' },\n    { id: 'edge16', source: 'node3', target: 'node16' },\n  ],\n};\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = 'Wait for the layout to complete...';\nconst container = document.getElementById('container');\ncontainer.appendChild(descriptionDiv);\n\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 20;\n\nconst hullPlugin = new Extensions.Hull({\n  key: 'hull-plugin1',\n});\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  plugins: [hullPlugin],\n  modes: {\n    default: ['drag-canvas', 'zoom-canvas', 'drag-node', 'lasso-select', 'drag-canvas'],\n  },\n  layout: {\n    type: 'force',\n    preventOverlap: true,\n    animated: true,\n    linkDistance: (d) => {\n      if (d.source === 'node0' || d.target === 'node0') {\n        return 200;\n      }\n      return 80;\n    },\n  },\n  data,\n  node: {\n    keyShape: {\n      r: {\n        fields: ['size'],\n        formatter: (model) => model.data.size,\n      },\n    },\n  },\n});\n\nlet centerNodes = graph\n  .getAllNodesData()\n  .filter((model) => !model.data.isLeaf)\n  .map((node) => node.id);\n\ngraph.on('afterlayout', () => {\n  descriptionDiv.innerHTML = '';\n  hullPlugin.addHull({\n    id: 'centerNode-hull',\n    members: centerNodes,\n    labelShape: {\n      text: 'centerNode-hull',\n      position: 'left',\n      offsetY: -2,\n    },\n  });\n\n  hullPlugin.addHull({\n    id: 'leafNode-hull1',\n    members: ['node6', 'node7'],\n    style: {\n      fill: 'lightgreen',\n      stroke: 'green',\n    },\n    labelShape: {\n      text: 'leafNode-hull-1',\n      position: 'top',\n      offsetY: -2,\n    },\n  });\n\n  hullPlugin.addHull({\n    id: 'leafNode-hull2',\n    members: ['node8', 'node9', 'node10', 'node11', 'node12', 'node13'],\n    style: {\n      fill: 'lightgreen',\n      stroke: 'green',\n    },\n    labelShape: {\n      text: 'leafNode-hull-2',\n      position: 'right',\n      offsetY: -2,\n    },\n  });\n});\n\nwindow.graph = graph;",title:{zh:"用轮廓包裹节点集合",en:"Use hulls to wrap the node sets."},filename:"hull.js",isNew:!1},{id:"changeMembers",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*TNxDRL0t0GsAAAAAAAAAAAAAARQnAQ",source:"import { Graph, Extensions, extend } from '@antv/g6';\n\nconst data = {\n  nodes: [\n    {\n      id: '1',\n      data: {\n        label: '公司1',\n        group: 1,\n      },\n    },\n    {\n      id: '2',\n      data: {\n        label: '公司2',\n        group: 1,\n      },\n    },\n    {\n      id: '3',\n      data: {\n        label: '公司3',\n        group: 1,\n      },\n    },\n    {\n      id: '4',\n      data: {\n        label: '公司4',\n      },\n    },\n    {\n      id: '5',\n      data: {\n        label: '公司5',\n        group: 1,\n      },\n    },\n    {\n      id: '6',\n      data: {\n        label: '公司6',\n        group: 2,\n      },\n    },\n    {\n      id: '7',\n      data: {\n        label: '公司7',\n        group: 2,\n      },\n    },\n    {\n      id: '8',\n      data: {\n        label: '公司8',\n        group: 1,\n      },\n    },\n    {\n      id: '9',\n      data: {\n        label: '公司9',\n        group: 2,\n      },\n    },\n  ],\n  edges: [\n    {\n      id: 'edge1',\n      source: '1',\n      target: '1',\n      data: { type: 'loop-edge' },\n    },\n    {\n      id: 'edge2',\n      source: '2',\n      target: '2',\n      data: {\n        type: 'loop-edge',\n      },\n    },\n    {\n      id: 'edge3',\n      source: '1',\n      target: '2',\n      data: {\n        dataType: 'A',\n        amount: '100,000 元',\n        date: '2019-08-03',\n      },\n    },\n    {\n      id: 'edge4',\n      source: '1',\n      target: '3',\n      data: {\n        dataType: 'B',\n        amount: '100,000 元',\n        date: '2019-08-03',\n      },\n    },\n    {\n      id: 'edge5',\n      source: '2',\n      target: '5',\n      data: {\n        dataType: 'C',\n        amount: '100,000 元',\n        date: '2019-08-03',\n      },\n    },\n    {\n      id: 'edge6',\n      source: '5',\n      target: '6',\n      data: {\n        dataType: 'B',\n        amount: '100,000 元',\n        date: '2019-08-03',\n      },\n    },\n    {\n      id: 'edge7',\n      source: '3',\n      target: '4',\n      data: {\n        dataType: 'C',\n        amount: '100,000 元',\n        date: '2019-08-03',\n      },\n    },\n    {\n      id: 'edge8',\n      source: '4',\n      target: '7',\n      data: {\n        dataType: 'B',\n        amount: '100,000 元',\n        date: '2019-08-03',\n      },\n    },\n    {\n      id: 'edge9',\n      source: '1',\n      target: '8',\n      data: {\n        dataType: 'B',\n        amount: '100,000 元',\n        date: '2019-08-03',\n      },\n    },\n    {\n      id: 'edge10',\n      source: '1',\n      target: '9',\n      data: {\n        dataType: 'C',\n        amount: '100,000 元',\n        date: '2019-08-03',\n      },\n    },\n  ],\n};\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst hullPlugin = new Extensions.Hull({\n  key: 'hull-plugin',\n});\n\nconst ExtGraph = extend(Graph, {\n  edges: {\n    'loop-edge': Extensions.LoopEdge,\n  },\n});\n\nconst graph = new ExtGraph({\n  container,\n  width,\n  height,\n  plugins: [hullPlugin],\n  modes: {\n    default: ['drag-canvas', 'zoom-canvas', 'drag-node'],\n  },\n  autoFit: 'view',\n  layout: {\n    type: 'grid',\n  },\n  data,\n});\n\nhullPlugin.addHull({\n  id: 'hull1',\n  padding: 15,\n  type: 'smooth-convex', //'bubble' | 'round-convex' | 'smooth-convex';\n  members: graph\n    .getAllNodesData()\n    .filter((model) => model.data.group === 1)\n    .map((node) => node.id),\n  labelShape: {\n    text: 'Group1',\n    position: 'left',\n    offsetY: -2,\n  },\n});\n\nhullPlugin.addHull({\n  id: 'hull2',\n  padding: 15,\n  type: 'round-convex',\n  members: graph\n    .getAllNodesData()\n    .filter((model) => model.data.group === 2)\n    .map((node) => node.id),\n  labelShape: {\n    text: 'Group2',\n    position: 'left',\n    offsetY: -2,\n  },\n  style: {\n    fill: 'pink',\n    stroke: 'red',\n  },\n});\n\nlet memberAdded = false;\nlet nonMemberAdded = false;\n\nconst updateActions = [\n  {\n    name: 'Add/Delete Member',\n    action: () => {\n      if (!memberAdded) {\n        hullPlugin.addHullMember('hull1', ['4']);\n      } else {\n        hullPlugin.removeHullMember('hull1', ['4']);\n      }\n      memberAdded = !memberAdded;\n    },\n  },\n  {\n    name: 'Update Config',\n    action: () => {\n      hullPlugin.updateHull({\n        id: 'hull1',\n        style: { fill: '#ff0' },\n        labelShape: { text: 'updated-label', position: 'top' },\n      });\n    },\n  },\n];\n\nconst btnContainer = document.createElement('div');\nbtnContainer.style.position = 'absolute';\ncontainer.appendChild(btnContainer);\nconst tip = document.createElement('span');\ntip.innerHTML = `👉 update:`;\nbtnContainer.appendChild(tip);\nupdateActions.forEach((item, i) => {\n  const btn = document.createElement('a');\n  btn.innerHTML = item.name;\n  btn.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';\n  btn.style.padding = '4px';\n  btn.style.marginLeft = i > 0 ? '24px' : '8px';\n  btnContainer.appendChild(btn);\n  btn.addEventListener('click', () => {\n    item.action();\n  });\n});\n\nwindow.graph = graph;",title:{zh:"修改包裹内部成员",en:"Interactively change the members in the hull."},filename:"changeMembers.js",isNew:!1}],icon:"",id:"hull",title:{en:"Hull",zh:"节点集轮廓包裹"},childrenKey:"demos",order:5},{demos:[{id:"timebar-time",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*94CATK7VwhQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    toolbar: Extensions.Toolbar,\n    timebar: Extensions.Timebar,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\n\nconst startTime = new Date('2023-08-01').getTime();\nconst diff = 3600 * 24 * 1000;\nconst timebarData = [10, 2, 3, 4, 15, 10, 5, 0, 3, 1].map((value, index) => ({\n  time: new Date(startTime + index * diff),\n  value,\n  label: new Date(startTime + index * diff).toLocaleString(),\n}));\nconst graphData = {\n  nodes: new Array(49).fill(0).map((_, index) => ({\n    id: `node-${index}`,\n    data: {\n      timestamp: startTime + (index % 10) * diff,\n      value: index % 20,\n      label: new Date(startTime + (index % 10) * diff).toLocaleString(),\n    },\n  })),\n  edges: new Array(49).fill(0).map((_, i) => ({\n    id: `edge-${i}`,\n    source: `node-${i % 30}`,\n    target: `node-${(i % 20) + 29}`,\n    data: {\n      edgeType: 'e1',\n    },\n  })),\n};\n\nnew Graph({\n  container,\n  width,\n  height,\n  data: graphData,\n  modes: {\n    default: ['drag-canvas', 'drag-element', 'zoom-canvas'],\n  },\n  plugins: [\n    {\n      type: 'timebar',\n      key: 'timebar',\n      data: timebarData,\n      width: 450,\n      loop: true,\n    },\n  ],\n});\n",title:{zh:"时间条-时间模式",en:"Timebar"},filename:"timebar-time.ts",isNew:!1},{id:"timebar-chart",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*RjCKS6xdRWwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    toolbar: Extensions.Toolbar,\n    timebar: Extensions.Timebar,\n  },\n});\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\n\nconst startTime = new Date('2023-08-01').getTime();\nconst diff = 3600 * 24 * 1000;\nconst timebarData = [10, 2, 3, 4, 15, 10, 5, 0, 3, 1].map((value, index) => ({\n  time: new Date(startTime + index * diff),\n  value,\n  label: new Date(startTime + index * diff).toLocaleString(),\n}));\nconst graphData = {\n  nodes: new Array(49).fill(0).map((_, index) => ({\n    id: `node-${index}`,\n    data: {\n      timestamp: startTime + (index % 10) * diff,\n      value: index % 20,\n      label: new Date(startTime + (index % 10) * diff).toLocaleString(),\n    },\n  })),\n  edges: new Array(49).fill(0).map((_, i) => ({\n    id: `edge-${i}`,\n    source: `node-${i % 30}`,\n    target: `node-${(i % 20) + 29}`,\n    data: {\n      edgeType: 'e1',\n    },\n  })),\n};\n\nnew Graph({\n  container,\n  width,\n  height,\n  data: graphData,\n  modes: {\n    default: ['drag-canvas', 'drag-element', 'zoom-canvas'],\n  },\n  plugins: [\n    {\n      type: 'timebar',\n      key: 'timebar',\n      timebarType: 'chart',\n      width: 450,\n      height: 120,\n      data: timebarData,\n    },\n  ],\n});\n",title:{zh:"时间条-图表模式",en:"Timebar"},filename:"timebar-chart.ts",isNew:!1}],icon:"",id:"timebar",title:{en:"Timebar",zh:"时间条"},childrenKey:"demos",order:5},{demos:[{id:"fisheye",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*kHtkQ5N4TNEAAAAAAAAAAABkARQnAQ",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    fisheye: Extensions.Fisheye,\n  },\n});\n\nlet fisheye = {\n  type: 'fisheye',\n  key: 'fisheye1',\n  scaleDBy: 'unset',\n  scaleRBy: 'unset',\n  r: 200,\n  showLabel: true,\n  trigger: 'mousemove',\n};\nconst colors = ['#8FE9FF', '#87EAEF', '#FFC9E3', '#A7C2FF', '#FFA1E3', '#FFE269', '#BFCFEE', '#FFA0C5', '#D5FF86'];\n\n// ================= The DOMs for configurations =============== //\nconst graphDiv = document.getElementById('container');\n\nconst buttonContainer = document.createElement('div');\nbuttonContainer.style.display = 'inline-block';\nbuttonContainer.style.height = '35px';\nbuttonContainer.style.width = '100%';\nbuttonContainer.style.textAlign = 'center';\n\n// clear the fisheye effect button\nconst clearButton = document.createElement('input');\nclearButton.type = 'button';\nclearButton.value = 'Clear';\nclearButton.style.height = '25px';\nclearButton.style.width = '60px';\nbuttonContainer.appendChild(clearButton);\n\n// enable/disable the fisheye lens button\nconst switchButton = document.createElement('input');\nswitchButton.type = 'button';\nswitchButton.value = 'Disable';\nswitchButton.style.height = '25px';\nswitchButton.style.width = '60px';\nswitchButton.style.marginLeft = '16px';\nbuttonContainer.appendChild(switchButton);\n\nbuttonContainer.appendChild(document.createElement('br'));\n\n// list for changing trigger\nconst trigger = document.createElement('span');\ntrigger.innerHTML = 'Trigger:';\ntrigger.style.marginLeft = '16px';\nbuttonContainer.appendChild(trigger);\nconst configTrigger = document.createElement('select');\nconfigTrigger.value = 'mousemove';\nconfigTrigger.style.height = '25px';\nconfigTrigger.style.width = '100px';\nconfigTrigger.style.marginLeft = '8px';\nconst mousemoveTrigger = document.createElement('option');\nmousemoveTrigger.value = 'mousemove';\nmousemoveTrigger.innerHTML = 'mousemove';\nconfigTrigger.appendChild(mousemoveTrigger);\nconst dragTrigger = document.createElement('option');\ndragTrigger.value = 'drag';\ndragTrigger.innerHTML = 'drag';\nconfigTrigger.appendChild(dragTrigger);\nconst clickTrigger = document.createElement('option');\nclickTrigger.value = 'click';\nclickTrigger.innerHTML = 'click';\nconfigTrigger.appendChild(clickTrigger);\nbuttonContainer.appendChild(configTrigger);\n\n// list for changing scaleRBy\nconst scaleR = document.createElement('span');\nscaleR.innerHTML = 'Scale r by:';\nscaleR.style.marginLeft = '16px';\nbuttonContainer.appendChild(scaleR);\nconst configScaleRBy = document.createElement('select');\nconfigScaleRBy.value = 'unset';\nconfigScaleRBy.style.height = '25px';\nconfigScaleRBy.style.width = '100px';\nconfigScaleRBy.style.marginLeft = '8px';\nconst scaleRByUnset = document.createElement('option');\nscaleRByUnset.value = 'unset';\nscaleRByUnset.innerHTML = 'unset';\nconfigScaleRBy.appendChild(scaleRByUnset);\nconst scaleRByWheel = document.createElement('option');\nscaleRByWheel.value = 'wheel';\nscaleRByWheel.innerHTML = 'wheel';\nconfigScaleRBy.appendChild(scaleRByWheel);\nconst scaleRByDrag = document.createElement('option');\nscaleRByDrag.value = 'drag';\nscaleRByDrag.innerHTML = 'drag';\nconfigScaleRBy.appendChild(scaleRByDrag);\nbuttonContainer.appendChild(configScaleRBy);\n\n// list for changing scaleDBy\nconst scaleD = document.createElement('span');\nscaleD.innerHTML = 'Scale d by:';\nscaleD.style.marginLeft = '16px';\nbuttonContainer.appendChild(scaleD);\nconst configScaleDBy = document.createElement('select');\nconfigScaleDBy.value = 'unset';\nconfigScaleDBy.style.height = '25px';\nconfigScaleDBy.style.width = '100px';\nconfigScaleDBy.style.marginLeft = '8px';\nconst scaleDByUnset = document.createElement('option');\nscaleDByUnset.value = 'unset';\nscaleDByUnset.innerHTML = 'unset';\nconfigScaleDBy.appendChild(scaleDByUnset);\nconst scaleDByWheel = document.createElement('option');\nscaleDByWheel.value = 'wheel';\nscaleDByWheel.innerHTML = 'wheel';\nconfigScaleDBy.appendChild(scaleDByWheel);\nconst scaleDByDrag = document.createElement('option');\nscaleDByDrag.value = 'drag';\nscaleDByDrag.innerHTML = 'drag';\nconfigScaleDBy.appendChild(scaleDByDrag);\nbuttonContainer.appendChild(configScaleDBy);\n\ngraphDiv.parentNode.appendChild(buttonContainer);\n\n// ========================================================= //\n\nconst container = document.getElementById('container');\nlet width = 1500;\nlet height = 500;\nif (container) {\n  width = container.scrollWidth;\n  height = container.scrollHeight || 500;\n}\nlet graph;\nconst createGraph = (customData) => {\n  graph = new Graph({\n    container: 'container',\n    width,\n    height,\n    layout: {\n      type: 'force',\n      rankdir: 'LR',\n      align: 'DL',\n      nodesepFunc: () => 1,\n      ranksepFunc: () => 1,\n    },\n    plugins: [fisheye],\n    data: customData,\n    node: (innerModel) => {\n      return {\n        id: innerModel.id,\n        data: {\n          ...innerModel.data,\n          keyShape: {\n            r: Math.random() * 20 + 10,\n            fill: colors[Math.floor(Math.random() * 9)],\n          },\n        },\n      };\n    },\n  });\n\n  clearButton.addEventListener('click', (e) => {});\n  switchButton.addEventListener('click', (e) => {\n    if (switchButton.value === 'Disable') {\n      switchButton.value = 'Enable';\n      graph.removePlugins(['fisheye1']);\n    } else {\n      switchButton.value = 'Disable';\n      graph.addPlugins([fisheye]);\n    }\n  });\n  configScaleRBy.addEventListener('change', (e) => {\n    fisheye = {\n      ...fisheye,\n      scaleRBy: e.target.value,\n    };\n    graph.updatePlugin(fisheye);\n  });\n  configScaleDBy.addEventListener('change', (e) => {\n    // fisheye.scaleDBy = e.target.value;\n    fisheye = {\n      ...fisheye,\n      scaleDBy: e.target.value,\n    };\n    graph.updatePlugin(fisheye);\n  });\n  configTrigger.addEventListener('change', (e) => {\n    fisheye = {\n      ...fisheye,\n      trigger: e.target.value,\n    };\n    graph.updatePlugin(fisheye);\n  });\n\n  window.graph = graph;\n};\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/afe8b2a6-f691-4070-aa73-46fc07fd1171.json')\n  .then((res) => res.json())\n  .then((data) => {\n    data.nodes.forEach((node) => {\n      node.data = {\n        ...node.data,\n        label: node.id,\n      };\n    });\n    data.edges.forEach((edge) => {\n      edge.id = edge.source + '-' + edge.target;\n      edge.data = {\n        color: '#ccc',\n      };\n    });\n\n    createGraph(data);\n  });\n",title:{zh:"鱼眼放大镜",en:"Fisheye Lens"},filename:"fisheye.ts",isNew:!1},{id:"fisheyeStyle",screenshot:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*kHtkQ5N4TNEAAAAAAAAAAABkARQnAQ",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    fisheye: Extensions.Fisheye,\n  },\n});\n\nlet fisheye = new Extensions.Fisheye({\n  r: 200,\n  showLabel: true,\n  delegateStyle: {\n    fill: '#f00',\n    lineDash: [5, 5],\n    stroke: '#666',\n  },\n});\nconst colors = ['#8FE9FF', '#87EAEF', '#FFC9E3', '#A7C2FF', '#FFA1E3', '#FFE269', '#BFCFEE', '#FFA0C5', '#D5FF86'];\n\nconst graphDiv = document.getElementById('container');\n\nconst buttonContainer = document.createElement('div');\nbuttonContainer.style.display = 'inline-block';\nbuttonContainer.style.height = '35px';\nbuttonContainer.style.width = '220px';\n\n// clear the fisheye effect button\nconst clearButton = document.createElement('input');\nclearButton.type = 'button';\nclearButton.value = 'Clear';\nclearButton.style.height = '25px';\nclearButton.style.width = '100px';\nbuttonContainer.appendChild(clearButton);\n\n// enable/disable the fisheye lens button\nconst switchButton = document.createElement('input');\nswitchButton.type = 'button';\nswitchButton.value = 'Disable';\nswitchButton.style.height = '25px';\nswitchButton.style.width = '100px';\nswitchButton.style.marginLeft = '10px';\nbuttonContainer.appendChild(switchButton);\n\ngraphDiv.parentNode.appendChild(buttonContainer);\n\nconst container = document.getElementById('container');\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new Graph({\n  container: 'container',\n  width,\n  height,\n  transforms: [\n    {\n      type: 'transform-v4-data',\n      activeLifecycle: ['read'],\n    },\n  ],\n  plugins: [fisheye],\n  node: (model) => {\n    return {\n      id: model.id,\n      data: {\n        ...model.data,\n        keyShape: {\n          fill: colors[Math.floor(Math.random() * 9)],\n          r: Math.random() * 30 + 10,\n        },\n        labelShape: {\n          visibility: 'hidden',\n          text: model.id,\n        },\n      },\n    };\n  },\n});\n\nclearButton.addEventListener('click', (e) => {\n  fisheye.clear();\n});\nswitchButton.addEventListener('click', (e) => {\n  if (switchButton.value === 'Disable') {\n    switchButton.value = 'Enable';\n    graph.removePlugins(fisheye);\n  } else {\n    switchButton.value = 'Disable';\n    fisheye = new Extensions.Fisheye({\n      r: 200,\n      showLabel: true,\n    });\n    graph.addPlugins(fisheye);\n  }\n});\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/afe8b2a6-f691-4070-aa73-46fc07fd1171.json')\n  .then((res) => res.json())\n  .then((data) => {\n    graph.read(data);\n  });\n\nwindow.graph = graph;",title:{zh:"鱼眼放大镜样式",en:"Fisheye Lens Style"},filename:"fisheyeStyle.js",isNew:!1}],icon:"",id:"fisheye",title:{en:"Fisheye",zh:"鱼眼放大镜"},childrenKey:"demos",order:6},{demos:[{id:"legend",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*53oGRpdKpwsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    legend: Extensions.Legend,\n  },\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n    'activate-relations': Extensions.ActivateRelations,\n    'zoom-canvas': Extensions.ZoomCanvas,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 50;\n\n/** graph schema */\nconst GraphSchema = {\n  nodes: [\n    {\n      nodeType: 'person',\n      properties: {\n        id: 'string',\n        name: 'string',\n        phoneNumber: 'number',\n      },\n      count: 10,\n    },\n    {\n      nodeType: 'company',\n      properties: {\n        id: 'string',\n        name: 'string',\n      },\n      count: 3,\n    },\n  ],\n  edges: [\n    {\n      edgeType: 'friend',\n      sourceType: 'person',\n      targetType: 'person',\n      properties: {},\n      count: 3,\n    },\n    {\n      edgeType: 'employ',\n      sourceType: 'company',\n      targetType: 'person',\n      properties: {},\n      count: 4,\n    },\n    {\n      edgeType: 'legal',\n      sourceType: 'person',\n      targetType: 'company',\n      properties: {},\n      count: 5,\n    },\n  ],\n};\nconst nodeMap = new Map();\nconst nodeTypeMap = new Map();\nconst edgeMap = new Map();\nGraphSchema.nodes.forEach((item, index) => {\n  const { nodeType, count, properties } = item;\n  Array.from({ length: count }).map((c, i) => {\n    const id = `${nodeType}-${index}-${i}`;\n    const node = {\n      id,\n      data: {\n        ...properties, // can import facker\n        nodeType,\n        id,\n      },\n    };\n    nodeMap.set(id, node);\n    const nty = nodeTypeMap.get(nodeType) || [];\n    nodeTypeMap.set(nodeType, [...nty, node]);\n  });\n});\n\nGraphSchema.edges.forEach((item, index) => {\n  const { edgeType, count, properties, sourceType, targetType } = item;\n  const sources = nodeTypeMap.get(sourceType);\n  const targets = nodeTypeMap.get(targetType);\n  Array.from({ length: count }).forEach((c, i) => {\n    const id = `${edgeType}-${index}-${i}`;\n    const edge = {\n      id,\n      data: {\n        ...properties, // can import facker\n        edgeType,\n        id,\n      },\n      source: sources[i % sources.length].id,\n      target: targets[i % targets.length].id,\n    };\n    edgeMap.set(id, edge);\n  });\n});\n\nconst data = {\n  nodes: [...nodeMap.values()],\n  edges: [...edgeMap.values()],\n};\n\nconst legend = {\n  key: 'default-legend',\n  type: 'legend',\n  size: [250, 'fit-content'],\n  background: 'rgba(0,0,0,0.05)',\n  node: {\n    enable: true,\n    padding: [20, 20],\n    title: 'node-legend',\n    typeField: 'nodeType',\n    rows: 1,\n    cols: 4,\n    labelStyle: {\n      spacing: 8,\n      fontSize: 20,\n    },\n  },\n  edge: {\n    enable: true,\n    padding: [10, 20],\n    title: 'edge-legend',\n    typeField: 'edgeType',\n  },\n};\n\nnew Graph({\n  container,\n  width,\n  height,\n  data,\n  plugins: [legend],\n  layout: {\n    type: 'force',\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'nodeType',\n      },\n      edge: {\n        dataTypeField: 'edgeType',\n      },\n    },\n  },\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => {\n          return model.id;\n        },\n      },\n    },\n  },\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n});\n",title:{zh:"图例-点击与 hover 筛选",en:"Filtering legend by clicking and hovering"},filename:"legend.ts",isNew:!1},{id:"legendCustomMarker",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*40awTrXVQ1UAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    legend: Extensions.Legend,\n  },\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n    'activate-relations': Extensions.ActivateRelations,\n    'zoom-canvas': Extensions.ZoomCanvas,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 50;\n\n/** graph schema */\nconst GraphSchema = {\n  nodes: [\n    {\n      nodeType: 'person',\n      properties: {\n        id: 'string',\n        name: 'string',\n        phoneNumber: 'number',\n      },\n      count: 10,\n    },\n    {\n      nodeType: 'company',\n      properties: {\n        id: 'string',\n        name: 'string',\n      },\n      count: 3,\n    },\n  ],\n  edges: [\n    {\n      edgeType: 'friend',\n      sourceType: 'person',\n      targetType: 'person',\n      properties: {},\n      count: 3,\n    },\n    {\n      edgeType: 'employ',\n      sourceType: 'company',\n      targetType: 'person',\n      properties: {},\n      count: 4,\n    },\n    {\n      edgeType: 'legal',\n      sourceType: 'person',\n      targetType: 'company',\n      properties: {},\n      count: 5,\n    },\n  ],\n};\nconst nodeMap = new Map();\nconst nodeTypeMap = new Map();\nconst edgeMap = new Map();\nGraphSchema.nodes.forEach((item, index) => {\n  const { nodeType, count, properties } = item;\n  Array.from({ length: count }).map((c, i) => {\n    const id = `${nodeType}-${index}-${i}`;\n    const node = {\n      id,\n      data: {\n        ...properties, // can import facker\n        nodeType,\n        id,\n      },\n    };\n    nodeMap.set(id, node);\n    const nty = nodeTypeMap.get(nodeType) || [];\n    nodeTypeMap.set(nodeType, [...nty, node]);\n  });\n});\n\nGraphSchema.edges.forEach((item, index) => {\n  const { edgeType, count, properties, sourceType, targetType } = item;\n  const sources = nodeTypeMap.get(sourceType);\n  const targets = nodeTypeMap.get(targetType);\n  Array.from({ length: count }).forEach((c, i) => {\n    const id = `${edgeType}-${index}-${i}`;\n    const edge = {\n      id,\n      data: {\n        ...properties, // can import facker\n        edgeType,\n        id,\n      },\n      source: sources[i % sources.length].id,\n      target: targets[i % targets.length].id,\n    };\n    edgeMap.set(id, edge);\n  });\n});\n\nconst data = {\n  nodes: [...nodeMap.values()],\n  edges: [...edgeMap.values()],\n};\n\nconst legend = {\n  key: 'default-legend',\n  type: 'legend',\n  size: [250, 'fit-content'],\n  background: 'rgba(0,0,0,0.05)',\n  node: {\n    enable: true,\n    padding: [20, 20],\n    title: 'node-legend',\n    typeField: 'nodeType',\n    rows: 1,\n    cols: 4,\n    labelStyle: {\n      spacing: 8,\n      fontSize: 20,\n    },\n    markerStyle: {\n      shape: 'circle',\n      size: (type) => {\n        return type === 'person' ? 10 : 20;\n      },\n      color: (type) => {\n        return type === 'person' ? '#f00' : '#0f0';\n      },\n    },\n  },\n  edge: {\n    enable: true,\n    padding: [10, 20],\n    title: 'edge-legend',\n    typeField: 'edgeType',\n    markerStyle: {\n      color: (type) => {\n        switch (type) {\n          case 'friend':\n            return '#00f';\n          case 'employ':\n            return '#f0f';\n          case 'legal':\n            return '#0ff';\n        }\n      },\n    },\n  },\n};\n\nnew Graph({\n  container,\n  width,\n  height,\n  data,\n  layout: {\n    type: 'force',\n  },\n  plugins: [legend],\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => {\n          return model.id;\n        },\n      },\n    },\n  },\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n});\n",title:{zh:"图例-自定义 Marker 样式",en:"Customize legend marker style"},filename:"legendCustomMarker.ts",isNew:!1},{id:"legendSVG",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*53oGRpdKpwsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    legend: Extensions.Legend,\n  },\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n    'activate-relations': Extensions.ActivateRelations,\n    'zoom-canvas': Extensions.ZoomCanvas,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 50;\n\n/** graph schema */\nconst GraphSchema = {\n  nodes: [\n    {\n      nodeType: 'person',\n      properties: {\n        id: 'string',\n        name: 'string',\n        phoneNumber: 'number',\n      },\n      count: 10,\n    },\n    {\n      nodeType: 'company',\n      properties: {\n        id: 'string',\n        name: 'string',\n      },\n      count: 3,\n    },\n  ],\n  edges: [\n    {\n      edgeType: 'friend',\n      sourceType: 'person',\n      targetType: 'person',\n      properties: {},\n      count: 3,\n    },\n    {\n      edgeType: 'employ',\n      sourceType: 'company',\n      targetType: 'person',\n      properties: {},\n      count: 4,\n    },\n    {\n      edgeType: 'legal',\n      sourceType: 'person',\n      targetType: 'company',\n      properties: {},\n      count: 5,\n    },\n  ],\n};\nconst nodeMap = new Map();\nconst nodeTypeMap = new Map();\nconst edgeMap = new Map();\nGraphSchema.nodes.forEach((item, index) => {\n  const { nodeType, count, properties } = item;\n  Array.from({ length: count }).map((c, i) => {\n    const id = `${nodeType}-${index}-${i}`;\n    const node = {\n      id,\n      data: {\n        ...properties, // can import facker\n        nodeType,\n        id,\n      },\n    };\n    nodeMap.set(id, node);\n    const nty = nodeTypeMap.get(nodeType) || [];\n    nodeTypeMap.set(nodeType, [...nty, node]);\n  });\n});\n\nGraphSchema.edges.forEach((item, index) => {\n  const { edgeType, count, properties, sourceType, targetType } = item;\n  const sources = nodeTypeMap.get(sourceType);\n  const targets = nodeTypeMap.get(targetType);\n  Array.from({ length: count }).forEach((c, i) => {\n    const id = `${edgeType}-${index}-${i}`;\n    const edge = {\n      id,\n      data: {\n        ...properties, // can import facker\n        edgeType,\n        id,\n      },\n      source: sources[i % sources.length].id,\n      target: targets[i % targets.length].id,\n    };\n    edgeMap.set(id, edge);\n  });\n});\n\nconst data = {\n  nodes: [...nodeMap.values()],\n  edges: [...edgeMap.values()],\n};\n\nconst legend = {\n  key: 'default-legend',\n  type: 'legend',\n  renderer: 'svg',\n  size: [250, 'fit-content'],\n  background: 'rgba(0,0,0,0.05)',\n  node: {\n    enable: true,\n    padding: [20, 20],\n    title: 'node-legend',\n    typeField: 'nodeType',\n    rows: 1,\n    cols: 4,\n    labelStyle: {\n      spacing: 8,\n      fontSize: 20,\n    },\n  },\n  edge: {\n    enable: true,\n    padding: [10, 20],\n    title: 'edge-legend',\n    typeField: 'edgeType',\n  },\n};\n\nnew Graph({\n  container,\n  width,\n  height,\n  data,\n  plugins: [legend],\n  layout: {\n    type: 'force',\n  },\n  theme: {\n    type: 'spec',\n    specification: {\n      node: {\n        dataTypeField: 'nodeType',\n      },\n      edge: {\n        dataTypeField: 'edgeType',\n      },\n    },\n  },\n  node: {\n    labelShape: {\n      text: {\n        fields: ['id'],\n        formatter: (model) => {\n          return model.id;\n        },\n      },\n    },\n  },\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n});\n",title:{zh:"图例-使用 SVG 绘制图例",en:"Render legend with SVG"},filename:"legendSVG.ts",isNew:!1}],icon:"",id:"legend",title:{en:"Legend",zh:"图例 Legend"},childrenKey:"demos",order:9},{demos:[{id:"textWatermark",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*GPRuRqBUIsoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node-0' }, { id: 'node-1' }, { id: 'node-2' }, { id: 'node-3' }, { id: 'node-4' }, { id: 'node-5' }],\n  edges: [\n    { source: 'node-0', target: 'node-1' },\n    { source: 'node-0', target: 'node-2' },\n    { source: 'node-0', target: 'node-3' },\n    { source: 'node-0', target: 'node-4' },\n    { source: 'node-1', target: 'node-0' },\n    { source: 'node-2', target: 'node-0' },\n    { source: 'node-3', target: 'node-0' },\n    { source: 'node-4', target: 'node-0' },\n    { source: 'node-5', target: 'node-0' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'force',\n  },\n  behaviors: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  plugins: [\n    {\n      type: 'watermark',\n      text: 'G6: Graph Visualization',\n      textFontSize: 14,\n      textFontFamily: 'Microsoft YaHei',\n      fill: 'rgba(0, 0, 0, 0.1)',\n      rotate: Math.PI / 12,\n    },\n  ],\n});\n\ngraph.render();\n",title:{zh:"文本水印",en:"Text Watermark"},filename:"textWatermark.ts",isNew:!1},{id:"imgWatermark",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_FYsQ7SYtcAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node-0' }, { id: 'node-1' }, { id: 'node-2' }, { id: 'node-3' }, { id: 'node-4' }, { id: 'node-5' }],\n  edges: [\n    { source: 'node-0', target: 'node-1' },\n    { source: 'node-0', target: 'node-2' },\n    { source: 'node-0', target: 'node-3' },\n    { source: 'node-0', target: 'node-4' },\n    { source: 'node-1', target: 'node-0' },\n    { source: 'node-2', target: 'node-0' },\n    { source: 'node-3', target: 'node-0' },\n    { source: 'node-4', target: 'node-0' },\n    { source: 'node-5', target: 'node-0' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  data,\n  layout: {\n    type: 'force',\n  },\n  behaviors: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  plugins: [\n    {\n      type: 'watermark',\n      width: 200,\n      height: 100,\n      rotate: Math.PI / 12,\n      imageURL: 'https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg',\n    },\n  ],\n});\n\ngraph.render();\n",title:{zh:"图片水印",en:"Image Watermark"},filename:"imgWatermark.ts",isNew:!1},{id:"background",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_FYsQ7SYtcAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph } from '@antv/g6';\n\nconst data = {\n  nodes: [{ id: 'node-0' }, { id: 'node-1' }, { id: 'node-2' }, { id: 'node-3' }, { id: 'node-4' }, { id: 'node-5' }],\n  edges: [\n    { source: 'node-0', target: 'node-1' },\n    { source: 'node-0', target: 'node-2' },\n    { source: 'node-0', target: 'node-3' },\n    { source: 'node-0', target: 'node-4' },\n    { source: 'node-1', target: 'node-0' },\n    { source: 'node-2', target: 'node-0' },\n    { source: 'node-3', target: 'node-0' },\n    { source: 'node-4', target: 'node-0' },\n    { source: 'node-5', target: 'node-0' },\n  ],\n};\n\nconst graph = new Graph({\n  container: 'container',\n  width: 800,\n  height: 600,\n  data,\n  layout: {\n    type: 'force',\n  },\n  behaviors: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  plugins: [\n    {\n      type: 'watermark',\n      // 保持和下面图片大小一致，显示更清晰\n      width: 1280,\n      height: 830,\n      rotate: 0,\n      opacity: 0.7,\n      imageURL: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0Qq0ToQm1rEAAAAAAAAAAAAADmJ7AQ/original',\n      backgroundSize: 'cover',\n    },\n  ],\n});\n\ngraph.render();\n",title:{zh:"背景图片",en:"Background Image"},filename:"background.ts",isNew:!1}],icon:"",id:"watermarker",title:{en:"WaterMarker",zh:"水印"},childrenKey:"demos",order:9},{demos:[{id:"snapline",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1dugR5XbhdYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph as BaseGraph, Extensions, Util, extend } from '@antv/g6';\n\nconst Graph = extend(BaseGraph, {\n  plugins: {\n    snapline: Extensions.Snapline,\n  },\n  layouts: {\n    random: Extensions.RandomLayout,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst width = container.scrollWidth;\nconst height = (container.scrollHeight || 500) - 110;\nconst data = Util.mock(6).circle();\n\nnew Graph({\n  container,\n  width,\n  height,\n  data,\n  layout: {\n    type: 'random',\n  },\n  modes: {\n    default: [\n      'zoom-canvas',\n      'drag-canvas',\n      {\n        type: 'drag-element',\n        // TODO: snapline with drag-element enableTransient: true (default) has bug now, use enableTransient: false instead temporary\n        enableTransient: false,\n      },\n    ],\n  },\n  node: {\n    type: 'rect-node',\n    keyShape: {\n      width: 50,\n      height: 20,\n    },\n  },\n  plugins: [\n    {\n      key: 'default-grid',\n      type: 'snapline',\n    },\n  ],\n});\n",title:{zh:"对齐线",en:"Snapline"},filename:"snapline.ts",isNew:!1}],icon:"",id:"snapline",title:{en:"Snapline",zh:"对齐线"},childrenKey:"demos",order:10}],childrenKey:"examples"},{id:"performance",title:{zh:"性能测试",en:"Performance"},icon:"net",examples:[{demos:[{id:"netscienceWebGL",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0amkSqk3JnkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Extensions, Graph, extend } from '@antv/g6';\nimport Stats from 'stats.js';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n    'activate-relations': Extensions.ActivateRelations,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = `正在渲染大规模数据，请稍等……`;\ncontainer.appendChild(descriptionDiv);\n\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  renderer: 'webgl',\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n  node: {\n    keyShape: {\n      r: 8,\n    },\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/da5a1b47-37d6-44d7-8d10-f3e046dabf82.json')\n  .then((res) => res.json())\n  .then((res) => {\n    const nodes = res.nodes.map((node) => {\n      return {\n        id: node.id,\n        data: {\n          x: node.x,\n          y: node.y,\n        },\n      };\n    });\n    const edges = res.edges.map((edge, index) => {\n      const { source, target } = edge;\n      return {\n        id: `${index}_${source}_to_${target}`,\n        source,\n        target,\n        data: {},\n      };\n    });\n\n    const data = { nodes, edges };\n    graph.read(data);\n\n    descriptionDiv.innerHTML = `节点数量：${nodes.length}, 边数量：${edges.length}, 图元数量：${\n      nodes.length * 2 + edges.length\n    }`;\n  });\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\ncontainer.appendChild($stats);\nconst update = () => {\n  if (stats) {\n    stats.update();\n  }\n  requestAnimationFrame(update);\n};\nupdate();\n",title:{zh:"5000+ 图元使用 WebGL 渲染",en:"5000+ Graphic Shapes Rendered by WebGL"},filename:"netscienceWebGL.ts",isNew:!1},{id:"netscience",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0amkSqk3JnkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Extensions, Graph, extend } from '@antv/g6';\nimport Stats from 'stats.js';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n    'activate-relations': Extensions.ActivateRelations,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = `正在渲染大规模数据，请稍等……`;\ncontainer.appendChild(descriptionDiv);\n\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n  node: {\n    keyShape: {\n      r: 8,\n    },\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/da5a1b47-37d6-44d7-8d10-f3e046dabf82.json')\n  .then((res) => res.json())\n  .then((res) => {\n    const nodes = res.nodes.map((node) => {\n      return {\n        id: node.id,\n        data: {\n          x: node.x,\n          y: node.y,\n        },\n      };\n    });\n    const edges = res.edges.map((edge, index) => {\n      const { source, target } = edge;\n      return {\n        id: `${index}_${source}_to_${target}`,\n        source,\n        target,\n        data: {},\n      };\n    });\n\n    const data = { nodes, edges };\n    graph.read(data);\n\n    descriptionDiv.innerHTML = `节点数量：${nodes.length}, 边数量：${edges.length}, 图元数量：${\n      nodes.length * 2 + edges.length\n    }`;\n  });\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\ncontainer.appendChild($stats);\nconst update = () => {\n  if (stats) {\n    stats.update();\n  }\n  requestAnimationFrame(update);\n};\nupdate();\n",title:{zh:"5000+ 图元使用 Canvas 渲染",en:"5000+ Graphic Shapes Rendered by Canvas"},filename:"netscience.ts",isNew:!1},{id:"evaWebGL",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*sZz4QqcPxTkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Extensions, Graph, extend } from '@antv/g6';\nimport Stats from 'stats.js';\n\nconst dataFormat = (dataAUR, options = {}, graphCore) => {\n  const { dataAdded, dataUpdated, dataRemoved } = dataAUR;\n  return {\n    dataAdded: dataFormatHandler(dataAdded, options, graphCore),\n    dataUpdated: dataFormatHandler(dataUpdated, options, graphCore),\n    dataRemoved,\n  };\n};\n\nconst dataFormatHandler = (data, options = {}, graphCore) => {\n  if (!data.nodes || !data.edges) return {};\n  const map = new Map();\n  const nodes: any = [];\n  data.nodes.forEach((node) => {\n    if (map.has(node.id)) return;\n    nodes.push(node);\n    map.set(node.id, true);\n  });\n  data.edges.forEach((edge) => {\n    const sourceDegree = map.get(edge.source) || 0;\n    map.set(edge.source, sourceDegree + 1);\n    const targetDegree = map.get(edge.target) || 0;\n    map.set(edge.target, targetDegree + 1);\n  });\n  return {\n    nodes: nodes.map((node) => {\n      const { id, x, y, olabel } = node;\n      return {\n        id,\n        data: {\n          x,\n          y,\n          label: olabel,\n          degree: map.get(id),\n        },\n      };\n    }),\n    edges: data.edges.map((edge) => ({\n      id: `edge-${Math.random()}`,\n      source: edge.source,\n      target: edge.target,\n    })),\n  };\n};\nconst ExtGraph = extend(Graph, {\n  transforms: {\n    'data-format': dataFormat,\n  },\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n    'activate-relations': Extensions.ActivateRelations,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = `正在渲染大规模数据，请稍等……`;\ncontainer.appendChild(descriptionDiv);\n\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  renderer: 'webgl',\n  transforms: [\n    'data-format',\n    {\n      type: 'map-node-size',\n      field: 'degree',\n      range: [2, 24],\n    },\n  ],\n  modes: {\n    default: ['brush-select', 'zoom-canvas', 'activate-relations', 'drag-canvas', 'drag-element'],\n  },\n  node: (model) => {\n    const { id, data } = model;\n    const { degree, label } = data;\n    let labelLod;\n    if (degree > 30) labelLod = -2;\n    else if (degree > 20) labelLod = -1;\n    else if (degree > 15) labelLod = 0;\n    else if (degree > 10) labelLod = 1;\n    else if (degree > 6) labelLod = 2;\n    else if (degree > 3) labelLod = 3;\n    const config = {\n      id,\n      data: {\n        ...data,\n        // animates: {\n        //   hide: [\n        //     {\n        //       fields: ['opacity'],\n        //       duration: 200,\n        //       shapeId: 'labelShape',\n        //     },\n        //   ],\n        //   update: [\n        //     {\n        //       fields: ['lineWidth'],\n        //       shapeId: 'keyShape',\n        //       duration: 100,\n        //     },\n        //     {\n        //       fields: ['opacity'],\n        //       shapeId: 'haloShape',\n        //     },\n        //   ],\n        // },\n      },\n    };\n    if (labelLod !== undefined) {\n      config.data.labelShape = {\n        text: label,\n        opacity: 0.8,\n        maxWidth: '250%',\n        lod: labelLod,\n      };\n      // config.data.labelBackgroundShape = {\n      //   lod: labelLod,\n      // };\n      config.data.lodLevels = [\n        { zoomRange: [0, 1] }, // -2\n        { zoomRange: [1, 1.2] }, // -1\n        { zoomRange: [1.2, 0.4], primary: true }, // 0\n        { zoomRange: [1.4, 1.6] }, // 1\n        { zoomRange: [1.6, 1.8] }, // 2\n        { zoomRange: [1.8, 2.5] }, // 3\n        { zoomRange: [2.5, Infinity] }, // 4\n      ];\n    }\n    return config;\n  },\n  edge: {\n    keyShape: {\n      lineWidth: 0.3,\n      opacity: 0.5,\n    },\n  },\n  nodeState: {\n    selected: {\n      keyShape: {\n        lineWidth: 1,\n      },\n      haloShape: {\n        lineWidth: 4,\n      },\n    },\n  },\n  edgeState: {\n    selected: {\n      keyShape: {\n        lineWidth: 2,\n      },\n      haloShape: {\n        lineWidth: 4,\n      },\n    },\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/0b9730ff-0850-46ff-84d0-1d4afecd43e6.json')\n  .then((res) => res.json())\n  .then((res) => {\n    graph.read(res);\n\n    const nodeLen = graph.getAllNodesData().length;\n    const edgeLen = graph.getAllEdgesData().length;\n    descriptionDiv.innerHTML = `节点数量：${nodeLen}, 边数量：${edgeLen}, 图元数量：${nodeLen * 3 + edgeLen}`;\n  });\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\ncontainer.appendChild($stats);\nconst update = () => {\n  if (stats) {\n    stats.update();\n  }\n  requestAnimationFrame(update);\n};\nupdate();\n",title:{zh:"~20000 图元使用 WebGL 渲染",en:"~20000 Graphic Shapes Rendered by WebGL"},filename:"evaWebGL.ts",isNew:!1},{id:"eva",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*sZz4QqcPxTkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Extensions, Graph, extend } from '@antv/g6';\nimport Stats from 'stats.js';\n\nconst dataFormat = (dataAUR, options = {}, graphCore) => {\n  const { dataAdded, dataUpdated, dataRemoved } = dataAUR;\n  return {\n    dataAdded: dataFormatHandler(dataAdded, options, graphCore),\n    dataUpdated: dataFormatHandler(dataUpdated, options, graphCore),\n    dataRemoved,\n  };\n};\n\nconst dataFormatHandler = (data, options = {}, graphCore) => {\n  if (!data.nodes || !data.edges) return {};\n  const map = new Map();\n  const nodes: any = [];\n  data.nodes.forEach((node) => {\n    if (map.has(node.id)) return;\n    nodes.push(node);\n    map.set(node.id, true);\n  });\n  data.edges.forEach((edge) => {\n    const sourceDegree = map.get(edge.source) || 0;\n    map.set(edge.source, sourceDegree + 1);\n    const targetDegree = map.get(edge.target) || 0;\n    map.set(edge.target, targetDegree + 1);\n  });\n  return {\n    nodes: nodes.map((node) => {\n      const { id, x, y, olabel } = node;\n      return {\n        id,\n        data: {\n          x,\n          y,\n          label: olabel,\n          degree: map.get(id),\n        },\n      };\n    }),\n    edges: data.edges.map((edge) => ({\n      id: `edge-${Math.random()}`,\n      source: edge.source,\n      target: edge.target,\n    })),\n  };\n};\n\nconst ExtGraph = extend(Graph, {\n  transforms: {\n    'data-format': dataFormat,\n  },\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n    'activate-relations': Extensions.ActivateRelations,\n  },\n});\n\nconst container = document.getElementById('container') as HTMLElement;\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = `正在渲染大规模数据，请稍等……`;\ncontainer.appendChild(descriptionDiv);\n\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  transforms: [\n    'data-format',\n    {\n      type: 'map-node-size',\n      field: 'degree',\n      range: [2, 24],\n    },\n  ],\n  modes: {\n    default: [\n      'brush-select',\n      {\n        type: 'zoom-canvas',\n        enableOptimize: true,\n      },\n      { type: 'drag-canvas', enableOptimize: true },\n      'activate-relations',\n      'drag-element',\n    ],\n  },\n  node: (model) => {\n    const { id, data } = model;\n    const { degree, label } = data;\n    let labelLod;\n    if (degree > 30) labelLod = -2;\n    else if (degree > 20) labelLod = -1;\n    else if (degree > 15) labelLod = 0;\n    else if (degree > 10) labelLod = 1;\n    else if (degree > 6) labelLod = 2;\n    else if (degree > 3) labelLod = 3;\n    const config = {\n      id,\n      data: {\n        ...data,\n        animates: {\n          hide: [\n            {\n              fields: ['opacity'],\n              duration: 200,\n              shapeId: 'labelShape',\n            },\n          ],\n          update: [\n            {\n              fields: ['lineWidth'],\n              shapeId: 'keyShape',\n              duration: 100,\n            },\n            {\n              fields: ['opacity'],\n              shapeId: 'haloShape',\n            },\n          ],\n        },\n      },\n    };\n    if (labelLod !== undefined) {\n      config.data.labelShape = {\n        text: label,\n        opacity: 0.8,\n        maxWidth: '250%',\n        lod: labelLod,\n      };\n      config.data.labelBackgroundShape = {\n        lod: labelLod,\n      };\n      config.data.lodLevels = [\n        { zoomRange: [0, 1] }, // -2\n        { zoomRange: [1, 1.2] }, // -1\n        { zoomRange: [1.2, 0.4], primary: true }, // 0\n        { zoomRange: [1.4, 1.6] }, // 1\n        { zoomRange: [1.6, 1.8] }, // 2\n        { zoomRange: [1.8, 2.5] }, // 3\n        { zoomRange: [2.5, Infinity] }, // 4\n      ];\n    }\n    return config;\n  },\n  edge: {\n    keyShape: {\n      lineWidth: 0.3,\n      opacity: 0.5,\n    },\n  },\n  nodeState: {\n    selected: {\n      keyShape: {\n        lineWidth: 1,\n      },\n      haloShape: {\n        lineWidth: 4,\n      },\n    },\n  },\n  edgeState: {\n    selected: {\n      keyShape: {\n        lineWidth: 2,\n      },\n      haloShape: {\n        lineWidth: 4,\n      },\n    },\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/0b9730ff-0850-46ff-84d0-1d4afecd43e6.json')\n  .then((res) => res.json())\n  .then((res) => {\n    graph.read(res);\n\n    const nodeLen = graph.getAllNodesData().length;\n    const edgeLen = graph.getAllEdgesData().length;\n    descriptionDiv.innerHTML = `节点数量：${nodeLen}, 边数量：${edgeLen}, 图元数量：${nodeLen * 3 + edgeLen}`;\n  });\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\ncontainer.appendChild($stats);\nconst update = () => {\n  if (stats) {\n    stats.update();\n  }\n  requestAnimationFrame(update);\n};\nupdate();\n",title:{zh:"~20000 图元使用 Canvas 渲染",en:"~20000 Graphic Shapes Rendered by Canvas"},filename:"eva.ts",isNew:!1},{id:"moreDataWebGL",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Pz31S5UcA8AAAAAAAAAAAAAADmJ7AQ/original",source:"import { Graph, Extensions, extend } from '@antv/g6';\nimport Stats from 'stats.js';\n\nconst ExtGraph = extend(Graph, {\n  behaviors: {\n    'brush-select': Extensions.BrushSelect,\n  },\n});\n\nconst container = document.getElementById('container');\nconst descriptionDiv = document.createElement('div');\ndescriptionDiv.innerHTML = `<span style=\"color: #f00\">正在读取大规模数据，请稍等…… Reading data...</span>`;\ncontainer.appendChild(descriptionDiv);\nconst width = container.scrollWidth;\nconst height = container.scrollHeight || 500;\n\nconst graph = new ExtGraph({\n  container: 'container',\n  width,\n  height,\n  renderer: 'webgl',\n  transforms: [\n    {\n      type: 'transform-v4-data',\n      activeLifecycle: ['read'],\n    },\n  ],\n  modes: {\n    default: [\n      {\n        type: 'zoom-canvas',\n        enableOptimize: false,\n      },\n      {\n        type: 'drag-canvas',\n        enableOptimize: false,\n      },\n      'drag-node',\n      'brush-select',\n    ],\n  },\n  node: {\n    keyShape: {\n      r: 2,\n    },\n  },\n  edge: {\n    keyShape: {\n      opacity: 0.3,\n    },\n  },\n});\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/f1565312-d537-4231-adf5-81cb1cd3a0e8.json')\n  .then((res) => res.json())\n  .then((data) => {\n    data.edges.forEach((edge) => (edge.id = `edge-${Math.random()}`));\n    graph.read(data);\n    const nodeLen = data.nodes.length;\n    const edgeLen = data.edges.length;\n    descriptionDiv.innerHTML = `<span style=\"color: #f00\">画布仍在分片加载中… 请等待渲染完成后再交互。Still tiled-rendering... Please do not interact with it now. </span><br/>节点数量 Nodes：${nodeLen}, 边数量 Edges：${edgeLen}, 图元数量 Shapes：${\n      nodeLen + edgeLen\n    }`;\n    graph.on('afterrender', (e) => {\n      descriptionDiv.innerHTML = `<span style=\"color: #6c6\">🎉渲染完成，可以交互啦！Done~ Feel free to interact! </span><br/>节点数量：${nodeLen}, 边数量：${edgeLen}, 图元数量：${\n        nodeLen + edgeLen\n      }`;\n    });\n  });\n\nwindow.graph = graph;\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '50px';\ncontainer.appendChild($stats);\nconst update = () => {\n  if (stats) {\n    stats.update();\n  }\n  requestAnimationFrame(update);\n};\nupdate();\n",title:{zh:"60000+ 图元使用 WebGL 渲染",en:"60000+ Graphic Shapes Rendered by WebGL"},filename:"moreDataWebGL.js",isNew:!1}],icon:"",id:"perf",title:{en:"Performance Case",zh:"性能案例"},childrenKey:"demos",order:0}],childrenKey:"examples"}]}},children:n})}}}]);